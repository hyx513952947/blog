title: Android 启动
author: 大帅
date: 2018-10-16 11:11:06
tags:
---
### 启动方式
1. 暖启动 后台已经存在应用的进程，进程在后台依旧运行时，再次点击启动为暖启动
2. 热启动 后台短暂的离开又回来
3. 冷启动 完全重新启动

### 白屏问题
	页面被调起的时候会因为不同的启动方式处理做不同的处理，暖启动时间短，但是冷启动就会需要配置资源等，做耗时操作，会使用默认主题去显示作为预览页面
 - 屏或黑屏，具体是哪一个，取决于app的Theme使用的是dark还是light主题

	Android Studio 引起的白屏

- 2.x时代的AS开启了instant run以后可能会导致白屏，但实际完整的apk包不会出现此问题

	冷启动引起的白屏/黑屏

	点击你app那一刻到系统调用Activity.onCreate()之间的时间段。在这个时间段内，WindowManager会先加载app主题样式中的windowBackground作为app的预览元素，然后再真正去加载activity的layout布局

- 暖启动/热启动引起的白屏/黑屏

	这点在配置较好，内存空间充足的手机上不是很明显，但低端手机或者内存吃紧的情况下依旧会出现”闪屏”效果，持续时间很短，一闪而过

- 解决方法
	1. 首页退回键拦截当作home键处理，如果进程未被销毁，下次启动为暖启动
    2. oncreate（）中少做耗时操作，将配置等耗时工作交给别的线程
    3. 设置预览主题，[黑白屏](https://blog.csdn.net/feiduclear_up/article/details/78822775)