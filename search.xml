<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[redis åŸºæœ¬]]></title>
    <url>%2F2018%2F08%2F22%2Fdis-%E5%9F%BA%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Connection refused: no further information: localhost/127.0.0.1:6379 æ˜¯æ²¡æœ‰å¼€å¯æœåŠ¡ï¼Œredisåº”è¯¥æ˜¯ç±»ä¼¼ä¸Žæ•°æ®åº“ç±»çš„ï¼ŒçŽ°åœ¨æœ¬åœ°å¼€å¯æœåŠ¡ï¼Œä¸æ˜¯webå·¥ç¨‹åŽ»å¼€å¯å†™å…¥ä¿¡æ¯çš„]]></content>
  </entry>
  <entry>
    <title><![CDATA[daker åŽå°æœåŠ¡ï¼ˆ1ï¼‰]]></title>
    <url>%2F2018%2F08%2F22%2Fker-%E5%90%8E%E5%8F%B0%E6%9C%8D%E5%8A%A1%EF%BC%881%EF%BC%89%2F</url>
    <content type="text"><![CDATA[å¼€å§‹ä½¿ç”¨ SpringBoot2.0 å¼€å§‹ä½¿ç”¨SpringBoot2.0ä½œä¸ºdakerçš„åŽå°æœåŠ¡ï¼Œæš‚æ—¶å…ˆæŠŠåŽå°æœåŠ¡å…ˆå†™äº†ï¼Œä¹‹åŽå†å¿«é€Ÿå°†Androidç«¯å®Œæˆï¼Œå®Œå–„ä¹‹åŽå†è¿›è¡Œå°ç¨‹åºçš„å¼€å‘ å¹³å°ä½¿ç”¨çš„ecliplse neno ï¼Œå·¥ç¨‹æž„å»ºå·¥å…·ä½¿ç”¨çš„mavenï¼Œgradleä¸å¤ªä¼šç”¨ï¼Œå•Šå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œå°´å°¬çš„ðŸ˜€ æŒ‰ç…§æ­£å¸¸ç½‘ä¸Šçš„æµç¨‹ï¼Œecliplseé›†æˆmavenå·¥å…·ä¸ŽSpringBootçš„å·¥å…·å¥—ä»¶ã€‚ åˆ›å»ºå·¥ç¨‹ã€æ ¹æ®æç¤ºé…ç½®å·¥ç¨‹åç§°ã€æž„å»ºæ–¹å¼ã€æ‰“åŒ…æ ¼å¼ã€javaç‰ˆæœ¬ç­‰ä¿¡æ¯ é›†æˆå·¥ç¨‹ä¾èµ–å…¶ä¸­ä¸Šé¢çš„å‡ ä¸ªéƒ½æ˜¯åº”è¯¥è·Ÿå¾®æœåŠ¡æœ‰å…³çš„ï¼Œæš‚æ—¶åº”è¯¥å…ˆä¸ç®¡ï¼Œå…ˆå­¦ä¼šåŸºç¡€çš„å°±å¥½ ä¾èµ–åº“ æž„å»ºä¸€ä¸ªå®Œæ•´çš„webé¡¹ç›®ä¸­ï¼ŒåŠŸèƒ½æ¨¡å—å¯¹åº”ä¾èµ–çš„åº“ MyBatis MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æž¶ï¼Œå®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis é¿å…äº†å‡ ä¹Žæ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠèŽ·å–ç»“æžœé›†ã€‚MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŽŸç”Ÿä¿¡æ¯ï¼Œå°†æŽ¥å£å’Œ Java çš„ POJOs(Plain Old Java Objects,æ™®é€šçš„ Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚ redis æ˜¯ä¸€ä¸ªç”±Salvatore Sanfilippoå†™çš„key-valueå­˜å‚¨ç³»ç»Ÿã€‚ devtoosl springä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªåä¸ºspring-boot-devtoolsçš„æ¨¡å—æ¥ä½¿Spring Bootåº”ç”¨æ”¯æŒçƒ­éƒ¨ç½²ï¼Œæé«˜å¼€å‘è€…çš„å¼€å‘æ•ˆçŽ‡ï¼Œæ— éœ€æ‰‹åŠ¨é‡å¯Spring Bootåº”ç”¨ã€‚ Validationæä¾›äº†ä¸€ç³»åˆ—éªŒè¯å„ç§å‚æ•°çš„æ–¹æ³• retry ç¬¬ä¸‰æ–¹æŽ¥å£æˆ–è€…ä½¿ç”¨mqæ—¶ï¼Œä¼šå‡ºçŽ°ç½‘ç»œæŠ–åŠ¨ï¼Œè¿žæŽ¥è¶…æ—¶ç­‰ç½‘ç»œå¼‚å¸¸ï¼Œæ‰€ä»¥éœ€è¦é‡è¯• Aspect å¸¸ç”¨ç”¨äºŽå®žçŽ°æ‹¦æˆªçš„æœ‰ï¼šFilterã€HandlerInterceptorã€MethodInterceptor HandlerInterceptoeræ‹¦æˆªçš„æ˜¯è¯·æ±‚åœ°å€ï¼Œæ‰€ä»¥é’ˆå¯¹è¯·æ±‚åœ°å€åšä¸€äº›éªŒè¯ã€é¢„å¤„ç†ç­‰æ“ä½œæ¯”è¾ƒåˆé€‚ã€‚å½“ä½ éœ€è¦ç»Ÿè®¡è¯·æ±‚çš„å“åº”æ—¶é—´æ—¶MethodInterceptorå°†ä¸å¤ªå®¹æ˜“åšåˆ°ï¼Œå› ä¸ºå®ƒå¯èƒ½è·¨è¶Šå¾ˆå¤šæ–¹æ³•æˆ–è€…åªæ¶‰åŠåˆ°å·²ç»å®šä¹‰å¥½çš„æ–¹æ³•ä¸­ä¸€éƒ¨åˆ†ä»£ç ã€‚ MethodInterceptoråˆ©ç”¨çš„æ˜¯AOPçš„å®žçŽ°æœºåˆ¶ï¼Œåœ¨æœ¬æ–‡ä¸­åªè¯´æ˜Žäº†ä½¿ç”¨æ–¹å¼ï¼Œå…³äºŽåŽŸç†å’Œæœºåˆ¶æ–¹é¢ä»‹ç»çš„æ¯”è¾ƒå°‘ï¼Œå› ä¸ºè¦è¯´æ¸…æ¥šè¿™äº›éœ€è¦è®²å‡ºAOPçš„ç›¸å½“ä¸€éƒ¨åˆ†å†…å®¹ã€‚åœ¨å¯¹ä¸€äº›æ™®é€šçš„æ–¹æ³•ä¸Šçš„æ‹¦æˆªHandlerInterceptoerå°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œè¿™æ—¶å€™åªèƒ½åˆ©ç”¨AOPçš„MethodInterceptorã€‚ Filteræ˜¯Servletè§„èŒƒè§„å®šçš„ï¼Œä¸å±žäºŽspringæ¡†æž¶ï¼Œä¹Ÿæ˜¯ç”¨äºŽè¯·æ±‚çš„æ‹¦æˆªã€‚ä½†æ˜¯å®ƒé€‚åˆæ›´ç²—ç²’åº¦çš„æ‹¦æˆªï¼Œåœ¨è¯·æ±‚å‰åŽåšä¸€äº›ç¼–è§£ç å¤„ç†ã€æ—¥å¿—è®°å½•ç­‰ã€‚ Batch Spring Batch æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ã€å®Œå–„çš„æ‰¹å¤„ç†æ¡†æž¶,æ—¨åœ¨å¸®åŠ©ä¼ä¸šå»ºç«‹å¥å£®ã€é«˜æ•ˆçš„æ‰¹å¤„ç†åº”ç”¨ã€‚Spring Batchæ˜¯Springçš„ä¸€ä¸ªå­é¡¹ç›®,ä½¿ç”¨Javaè¯­è¨€å¹¶åŸºäºŽSpringæ¡†æž¶ä¸ºåŸºç¡€å¼€å‘,ä½¿çš„å·²ç»ä½¿ç”¨ Spring æ¡†æž¶çš„å¼€å‘è€…æˆ–è€…ä¼ä¸šæ›´å®¹æ˜“è®¿é—®å’Œåˆ©ç”¨ä¼ä¸šæœåŠ¡ã€‚ mailå‘é€é‚®ä»¶]]></content>
  </entry>
  <entry>
    <title><![CDATA[Android éŸ³é¢‘è®°å½•]]></title>
    <url>%2F2018%2F07%2F16%2Fndroid-%E9%9F%B3%E9%A2%91%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[æž„é€ å‡½æ•° public AudioRecord(int audioSource, int sampleRateInHz, int channelConfig, int audioFormat,int bufferSizeInBytes) MediaRecorder.AudioSourceéŸ³é¢‘æ¥æº]]></content>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰æ ‡ç­¾]]></title>
    <url>%2F2018%2F07%2F11%2F%E4%B9%89%E6%A0%87%E7%AD%BE%2F</url>
    <content type="text"><![CDATA[åŠŸèƒ½è¦æ±‚ï¼š åŒ…å«çˆ¶å®¹å™¨ä¸Žå­æ ‡ç­¾ï¼Œå®¹å™¨å†…æŽ’åˆ—å­æ ‡ç­¾ å®¹å™¨èƒ½è‡ªåŠ¨æŽ’åˆ—å­æ ‡ç­¾ æ ‡ç­¾èƒ½å¤Ÿåˆ é™¤ã€æ·»åŠ  åˆ é™¤æ·»åŠ æœ‰åŠ¨ç”» è¦æœ‰å‡ ä¸ªå¸¸ç”¨çš„æ ‡ç­¾ï¼ˆæ—¶é—´ã€åœ°ç‚¹ã€å¤©æ°”ã€å¿ƒæƒ…ï¼‰ å¸¸ç”¨çš„æ ‡ç­¾ä¸èƒ½åˆ é™¤ è‡ªå®šä¹‰æ ‡ç­¾èƒ½å¤Ÿåˆ é™¤ è§†å›¾æœ‰åˆ é™¤æŒ‰é’® æ ‡ç­¾è®¾è®¡ï¼š æ ‡ç­¾åˆ†å¸¸ç”¨çš„å’Œè‡ªå®šä¹‰ æ ·å¼å¸¸ç”¨æ ·å¼å·¦ä¾§æœ‰å°å›¾æ ‡ ä¸­é—´æ–‡å­—,å³ä¾§æœ‰åˆ é™¤å›¾æ ‡ï¼Œç”¨äºŽå–æ¶ˆæ·»åŠ æ ‡ç­¾ï¼› è‡ªå®šä¹‰çš„åªéœ€è¦åœ¨å³ä¾§æœ‰åˆ é™¤å›¾æ ‡å°±å¯ä»¥å’¯ï¼› åŠŸèƒ½å·¦ä¾§å›¾æ ‡èƒ½å¤ŸåŠ¨æ€æ›´æ”¹ï¼Œå³ä¾§å¯ä»¥å…ˆå†™æ­»ï¼Œä¸­é—´çš„å°±éœ€è¦xmlå®šä¹‰æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹ï¼› xmlå±žæ€§å€¼åŒ…å«å­—ä½“å¤§å°ã€å­—ä½“é¢œè‰²ã€æ˜¯å¦æ˜¾ç¤ºå·¦ä¾§å›¾æ ‡ã€å³ä¾§å›¾æ ‡ã€ç‚¹å‡»äº‹ä»¶å¤„ç†]]></content>
  </entry>
  <entry>
    <title><![CDATA[Android Navigationä½¿ç”¨]]></title>
    <url>%2F2018%2F07%2F06%2Fndroid-Navigation%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[é“¾æŽ¥åœ°å€ https://developer.android.com/topic/libraries/architecture/navigation/navigation-implementing ä½¿ç”¨éœ€è¦åœ¨ä¸‰å¤„åœ°æ–¹è¿›è¡Œæ“ä½œï¼š navigationç›®å½•ä¸‹çš„xmlæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯é…ç½®è·¯ç”±çš„é…ç½®ä¿¡æ¯ï¼Œfragmentä¹‹é—´çš„è·³è½¬ã€ä¼ å€¼ã€deeplinké“¾æŽ¥ javaä»£ç ä¸­è¿›è¡Œè·³è½¬ è§†å›¾xmlä¸­å¯¹Viewé…ç½® 1.æ¨¡å—å·¥ç¨‹çš„.gradleæ–‡ä»¶ç§æ·»åŠ ä¾èµ–2. resourceèµ„æºç›®å½•ä¸‹åˆ›å»ºnavigationç›®å½•ä¿å­˜ä½¿ç”¨çš„å¯¼èˆªè·¯ç”±é…ç½®æ–‡ä»¶ æ ¹æ ‡ç­¾ navigation å„ä¸ªå‚æ•°çš„ä½¿ç”¨startDestinationï¼šé…ç½®é»˜è®¤å±•ç¤ºçš„fragment idå€¼ 3. æ­¤æ¡†æž¶åº”è¯¥æ˜¯æ–¹ä¾¿activityå¯¹fragmentçš„ç®¡ç†ï¼Œè€Œä¸æ˜¯ç®¡ç†activitiesä¹‹é—´çš„è·³è½¬ç®¡ç†ã€‚4. é…ç½®æ ‡ç­¾ fragment-]]></content>
  </entry>
  <entry>
    <title><![CDATA[iOS]]></title>
    <url>%2F2018%2F07%2F03%2FOS%2F</url>
    <content type="text"><![CDATA[ä¾§æ»‘æ¡†æž¶ä¼˜åŒ–:é€»è¾‘ä¼˜åŒ–,ç»“æž„ä¼˜åŒ– æ ç›®åˆ‡æ¢ä¼˜åŒ–:é€»è¾‘ä¼˜åŒ–,è‡ªé€‚åº” æ–°é—»ç‰ˆå¼æ–°å¢ž:è½®æ’­å›¾,å¤§å›¾,å¤šå›¾,gifå›¾,è§†é¢‘æ’­æ”¾(çª—å£æ’­æ”¾,å…¨å±æ’­æ”¾),æ ‡ç­¾ æ–°é—»è¯¦æƒ…:éŸ³é¢‘æ’­æ”¾,åˆ†äº«ç­‰å¼¹å‡ºæ¡†ä¼˜åŒ–åŠ è½½é€Ÿåº¦,åŠ è½½ä¼˜åŒ– ç¼“å­˜ä¼˜åŒ–:ç¼“å­˜é˜…è¯»è¿‡çš„ç•Œé¢,æ•°æ®åº“é€»è¾‘æž¶æž„ä¼˜åŒ– åŠ è½½ä¼˜åŒ–:é‡‡ç”¨é¢„ç¼“å­˜ç­‰æŠ€æœ¯åŠ å¿«åŠ è½½é€Ÿåº¦ å›¾ç‰‡é¢„è§ˆ:æ›´æ¢é¢„è§ˆæ¡†æž¶. æœç´¢ç•Œé¢ç‰ˆå¼æ”¹è¿›:æœç´¢æ¡†æ ·å¼,æœç´¢åŽ†å²]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä¸­çºªå§”å‡çº§ä¼˜åŒ–æ–¹æ¡ˆ]]></title>
    <url>%2F2018%2F07%2F03%2F%E7%BA%AA%E5%A7%94%E5%8D%87%E7%BA%A7%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[æ•´ä½“çš„æ–¹æ¡ˆå¤§è‡´æ˜¯å›´ç»•é¡µé¢å’Œæž¶æž„æ¥å†™ æž¶æž„ mvpæ¨¡å¼ (1)é™ä½Žè€¦åˆåº¦ (2)æ¨¡å—èŒè´£åˆ’åˆ†æ˜Žæ˜¾ (3)åˆ©äºŽæµ‹è¯•é©±åŠ¨å¼€å‘ (4)ä»£ç å¤ç”¨ (5)éšè—æ•°æ® (6)ä»£ç çµæ´»æ€§ Androidçš„æ•°æ®åº“ å®‰å…¨æ€§ æ€§èƒ½ å›¾ç‰‡ç¼“å­˜ èƒ½å¤Ÿç¦»çº¿æŸ¥çœ‹ ä¼˜åŒ–ç¼“å­˜ ç½‘ç»œè¯·æ±‚ æ›¿æ¢åŽŸç½‘ç»œè¯·æ±‚åº“ è§†é¢‘æ’­æ”¾ æ”¯æŒæ›´å¤šæ ¼å¼è§†é¢‘ ä¼˜åŒ–æ¨ªç«–ç‰ˆè§†é¢‘å±•ç¤º ä¼˜åŒ–è§†é¢‘æ’­æ”¾ é¡µé¢ä¼˜åŒ– è½®æ’­å›¾è‡ªåŠ¨è½®æ’­ è½®æ’­å›¾èƒ½å¤Ÿè‡ªåŠ¨è½®è¯¢ æ ç›®åŠ¨æ€ è¯¦æƒ…é¡µå¸ƒå±€ä¼˜åŒ– æ ‡é¢˜è¿‡é•¿å¯¼è‡´æ˜¾ç¤ºä¸ç¾Žè§‚ æ–°é—»åˆ—è¡¨æ ·å¼ä¼˜åŒ–]]></content>
  </entry>
  <entry>
    <title><![CDATA[javaä»£ç†]]></title>
    <url>%2F2018%2F06%2F27%2Fva%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[åˆ›å»ºåŠ¨æ€ä»£ç† åˆ©ç”¨Javaçš„Proxyç±»ï¼Œè°ƒç”¨Proxy.newProxyInstance()ï¼Œåˆ›å»ºåŠ¨æ€å¯¹è±¡ååˆ†ç®€å•ã€‚ InvocationHandler handler = new MyInvocationHandler(...); Class proxyClass = Proxy.getProxyClass(Foo.class.getClassLoader(), new Class[] { Foo.class }); Foo f = (Foo) proxyClass.getConstructor(new Class[] { InvocationHandler.class }).newInstance(new Object[] { handler }); //æˆ– Foo f = (Foo) Proxy.newProxyInstance(Foo.class.getClassLoader(), new Class[] { Foo.class }, handler); æ¡ˆä¾‹ï¼š public interface IVehical { void run(); } //concrete implementation public class Car implements IVehical{ public void run() { System.out.println(&quot;Car is running&quot;); } } //proxy class public class VehicalProxy { private IVehical vehical; public VehicalProxy(IVehical vehical) { this.vehical = vehical; } public IVehical create(){ final Class&lt;?&gt;[] interfaces = new Class[]{IVehical.class}; final VehicalInvacationHandler handler = new VehicalInvacationHandler(vehical); return (IVehical) Proxy.newProxyInstance(IVehical.class.getClassLoader(), interfaces, handler); } public class VehicalInvacationHandler implements InvocationHandler{ private final IVehical vehical; public VehicalInvacationHandler(IVehical vehical) { this.vehical = vehical; } public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(&quot;--before running...&quot;); Object ret = method.invoke(vehical, args); System.out.println(&quot;--after running...&quot;); return ret; } } } public class Main { public static void main(String[] args) { IVehical car = new Car(); VehicalProxy proxy = new VehicalProxy(car); IVehical proxyObj = proxy.create(); proxyObj.run(); } }]]></content>
  </entry>
  <entry>
    <title><![CDATA[ç¬¼ç»Ÿçš„èµ„æ–™]]></title>
    <url>%2F2018%2F06%2F27%2F%E7%BB%9F%E7%9A%84%E8%B5%84%E6%96%99%2F</url>
    <content type="text"><![CDATA[1.javaé¢å‘å¯¹è±¡ç¼–ç¨‹ ä¸‰å¤§ç‰¹æ€§ï¼š å°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼› æ ˆå†…å­˜ã€å †å†…å­˜ï¼š åŸºæœ¬ç±»åž‹çš„å˜é‡å’Œå¯¹è±¡çš„å¼•ç”¨å˜é‡éƒ½åœ¨å‡½æ•°çš„æ ˆå†…å­˜ä¸­åˆ†é…ï¼›å †å†…å­˜å­˜æ”¾newåˆ›å»ºçš„å¯¹è±¡å’Œæ•°ç»„ï¼› 1. æ ˆ(stack)ä¸Žå †(heap)éƒ½æ˜¯Javaç”¨æ¥åœ¨Ramä¸­å­˜æ”¾æ•°æ®çš„åœ°æ–¹ã€‚ä¸Ž C++ä¸åŒï¼ŒJavaè‡ªåŠ¨ç®¡ç†æ ˆå’Œå †ï¼Œç¨‹åºå‘˜ä¸èƒ½ç›´æŽ¥åœ°è®¾ç½®æ ˆæˆ–å †ã€‚ 2. æ ˆçš„ä¼˜åŠ¿æ˜¯ï¼Œå­˜å–é€Ÿåº¦æ¯”å †è¦å¿«ï¼Œä»…æ¬¡äºŽç›´æŽ¥ä½äºŽCPUä¸­çš„å¯„å­˜å™¨ã€‚ä½†ç¼ºç‚¹æ˜¯ï¼Œå­˜åœ¨æ ˆä¸­çš„æ•°æ®å¤§å°ä¸Žç”Ÿå­˜æœŸå¿…é¡»æ˜¯ç¡®å®šçš„ï¼Œç¼ºä¹çµæ´»æ€§ã€‚å¦å¤–ï¼Œæ ˆæ•°æ®å¯ä»¥å…±äº«ï¼Œè¯¦è§ç¬¬3ç‚¹ã€‚å †çš„ä¼˜åŠ¿æ˜¯å¯ä»¥åŠ¨æ€åœ°åˆ†é…å†…å­˜å¤§å°ï¼Œç”Ÿå­˜æœŸä¹Ÿä¸å¿…äº‹å…ˆå‘Šè¯‰ç¼–è¯‘å™¨ï¼ŒJavaçš„åžƒåœ¾æ”¶é›†å™¨ä¼šè‡ªåŠ¨æ”¶èµ°è¿™äº›ä¸å†ä½¿ç”¨çš„æ•°æ®ã€‚ä½†ç¼ºç‚¹æ˜¯ï¼Œç”±äºŽè¦åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ†é…å†…å­˜ï¼Œå­˜å–é€Ÿåº¦è¾ƒæ…¢ã€‚ 3. Javaä¸­çš„æ•°æ®ç±»åž‹æœ‰ä¸¤ç§ã€‚ ä¸€ç§æ˜¯åŸºæœ¬ç±»åž‹(primitive types), å…±æœ‰8ç§ï¼Œå³int, short, long, byte, float, double, boolean, char(æ³¨æ„ï¼Œå¹¶æ²¡æœ‰stringçš„åŸºæœ¬ç±»åž‹)ã€‚è¿™ç§ç±»åž‹çš„å®šä¹‰æ˜¯é€šè¿‡è¯¸å¦‚int a = 3; long b = 255L;çš„å½¢å¼æ¥å®šä¹‰çš„ï¼Œç§°ä¸ºè‡ªåŠ¨å˜é‡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè‡ªåŠ¨å˜é‡å­˜çš„æ˜¯å­—é¢å€¼ï¼Œä¸æ˜¯ç±»çš„å®žä¾‹ï¼Œå³ä¸æ˜¯ç±»çš„å¼•ç”¨ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰ç±»çš„å­˜åœ¨ã€‚å¦‚int a = 3; è¿™é‡Œçš„aæ˜¯ä¸€ä¸ªæŒ‡å‘intç±»åž‹çš„å¼•ç”¨ï¼ŒæŒ‡å‘3è¿™ä¸ªå­—é¢å€¼ã€‚è¿™äº›å­—é¢å€¼çš„æ•°æ®ï¼Œç”±äºŽå¤§å°å¯çŸ¥ï¼Œç”Ÿå­˜æœŸå¯çŸ¥()ï¼Œå‡ºäºŽè¿½æ±‚é€Ÿåº¦çš„åŽŸå› ï¼Œå°±å­˜åœ¨äºŽæ ˆä¸­ã€‚ 2.è½¯ä»¶åŠŸèƒ½æ¨¡å—è®¾è®¡ï¼ˆä¸Žè®¾è®¡æ¨¡å¼ç›¸äº’è¡¥å…… 4.1ï¼‰ 1. å•ä¸€èŒè´£åŽŸåˆ™ï¼ˆSingle Responsibility Principle - SRPï¼‰ åŽŸæ–‡ï¼šThere should never be more than one reason for a class to change. è¯‘æ–‡ï¼šæ°¸è¿œä¸åº”è¯¥æœ‰å¤šäºŽä¸€ä¸ªåŽŸå› æ¥æ”¹å˜æŸä¸ªç±»ã€‚ ç†è§£ï¼šå¯¹äºŽä¸€ä¸ªç±»è€Œè¨€ï¼Œåº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› ã€‚è¯´ç™½äº†å°±æ˜¯ï¼Œä¸åŒçš„ç±»å…·å¤‡ä¸åŒçš„èŒè´£ï¼Œå„æ–½å…¶è´£ã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªå›¢é˜Ÿï¼Œå¤§å®¶åˆ†å·¥åä½œï¼Œäº’ä¸å½±å“ï¼Œå„åšå„çš„äº‹æƒ…ã€‚ åº”ç”¨ï¼šå½“æˆ‘ä»¬åšç³»ç»Ÿè®¾è®¡æ—¶ï¼Œå¦‚æžœå‘çŽ°æœ‰ä¸€ä¸ªç±»æ‹¥æœ‰äº†ä¸¤ç§çš„èŒè´£ï¼Œé‚£å°±é—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼šå¯ä»¥å°†è¿™ä¸ªç±»åˆ†æˆä¸¤ä¸ªç±»å—ï¼Ÿå¦‚æžœçœŸçš„æœ‰å¿…è¦ï¼Œé‚£å°±åˆ†å§ã€‚åƒä¸‡ä¸è¦è®©ä¸€ä¸ªç±»å¹²çš„äº‹æƒ…å¤ªå¤šï¼ 2. å¼€æ”¾å°é—­åŽŸåˆ™ï¼ˆOpen Closed Principle - OCPï¼‰ åŽŸæ–‡ï¼šSoftware entities like classes, modules and functions should be open for extension but closed for modifications. è¯‘æ–‡ï¼šè½¯ä»¶å®žä½“ï¼Œå¦‚ï¼šç±»ã€æ¨¡å—ä¸Žå‡½æ•°ï¼Œå¯¹äºŽæ‰©å±•åº”è¯¥æ˜¯å¼€æ”¾çš„ï¼Œä½†å¯¹äºŽä¿®æ”¹åº”è¯¥æ˜¯å°é—­çš„ã€‚ ç†è§£ï¼šç®€è¨€ä¹‹ï¼Œå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚æ¢å¥è¯è¯´ï¼Œå¯ä»¥åŽ»æ‰©å±•ç±»ï¼Œä½†ä¸è¦åŽ»ä¿®æ”¹ç±»ã€‚ åº”ç”¨ï¼šå½“éœ€æ±‚æœ‰æ”¹åŠ¨ï¼Œè¦ä¿®æ”¹ä»£ç äº†ï¼Œæ­¤æ—¶æ‚¨è¦åšçš„æ˜¯ï¼Œå°½é‡ç”¨ç»§æ‰¿æˆ–ç»„åˆçš„æ–¹å¼æ¥æ‰©å±•ç±»çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä¿®æ”¹ç±»çš„ä»£ç ã€‚å½“ç„¶ï¼Œå¦‚æžœèƒ½å¤Ÿç¡®ä¿å¯¹æ•´ä½“æž¶æž„ä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ï¼Œé‚£ä¹ˆä¹Ÿæ²¡å¿…è¦æžå¾—é‚£ä¹ˆå¤æ‚äº†ï¼Œç›´æŽ¥æ”¹è¿™ä¸ªç±»å§ã€‚ 3. é‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼ˆLiskov Substitution Principle - LSPï¼‰ åŽŸæ–‡ï¼šFunctions that use pointers or references to base classes must be able to use objects of derived classes without knowing it. è¯‘æ–‡ï¼šä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨çš„å‡½æ•°ï¼Œå¿…é¡»æ˜¯åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿä½¿ç”¨æ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚ ç†è§£ï¼šçˆ¶ç±»èƒ½å¤Ÿæ›¿æ¢å­ç±»ï¼Œä½†å­ç±»ä¸ä¸€å®šèƒ½æ›¿æ¢çˆ¶ç±»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä»£ç ä¸­å¯ä»¥å°†çˆ¶ç±»å…¨éƒ¨æ›¿æ¢ä¸ºå­ç±»ï¼Œç¨‹åºä¸ä¼šæŠ¥é”™ï¼Œä¹Ÿä¸ä¼šåœ¨è¿è¡Œæ—¶å‡ºçŽ°ä»»ä½•å¼‚å¸¸ï¼Œä½†åè¿‡æ¥å´ä¸ä¸€å®šæˆç«‹ã€‚ åº”ç”¨ï¼šåœ¨ç»§æ‰¿ç±»æ—¶ï¼ŒåŠ¡å¿…é‡å†™ï¼ˆOverrideï¼‰çˆ¶ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•ï¼Œå°¤å…¶éœ€è¦æ³¨æ„çˆ¶ç±»çš„ protected æ–¹æ³•ï¼ˆå®ƒä»¬å¾€å¾€æ˜¯è®©æ‚¨é‡å†™çš„ï¼‰ï¼Œå­ç±»å°½é‡ä¸è¦æš´éœ²è‡ªå·±çš„ public æ–¹æ³•ä¾›å¤–ç•Œè°ƒç”¨ã€‚ 4. æœ€å°‘çŸ¥è¯†åŽŸåˆ™ï¼ˆLeast Knowledge Principle - LKPï¼‰ åŽŸæ–‡ï¼šOnly talk to you immediate friends. è¯‘æ–‡ï¼šåªä¸Žä½ æœ€ç›´æŽ¥çš„æœ‹å‹äº¤æµã€‚ ç†è§£ï¼šå°½é‡å‡å°‘å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä»Žè€Œå‡å°ç±»ä¹‹é—´çš„è€¦åˆã€‚ç®€è¨€ä¹‹ï¼Œä¸€å®šè¦åšåˆ°ï¼šä½Žè€¦åˆï¼Œé«˜å†…èšã€‚ åº”ç”¨ï¼šåœ¨åšç³»ç»Ÿè®¾è®¡æ—¶ï¼Œä¸è¦è®©ä¸€ä¸ªç±»ä¾èµ–äºŽå¤ªå¤šçš„å…¶ä»–ç±»ï¼Œéœ€å°½é‡å‡å°ä¾èµ–å…³ç³»ï¼Œå¦åˆ™ï¼Œæ‚¨æ­»éƒ½ä¸çŸ¥é“è‡ªå·±æ€Žä¹ˆæ­»çš„ã€‚ 5. æŽ¥å£éš”ç¦»åŽŸåˆ™ï¼ˆInterface Segregation Principle - ISPï¼‰ åŽŸæ–‡ï¼šThe dependency of one class to another one should depend on the smallest possible interface. è¯‘æ–‡ï¼šä¸€ä¸ªç±»ä¸Žå¦ä¸€ä¸ªç±»ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œåº”è¯¥ä¾èµ–äºŽå°½å¯èƒ½å°çš„æŽ¥å£ã€‚ã€ç†è§£ï¼šä¸è¦å¯¹å¤–æš´éœ²æ²¡æœ‰å®žé™…æ„ä¹‰çš„æŽ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŽ¥å£æ˜¯ç»™åˆ«äººè°ƒç”¨çš„ï¼Œé‚£å°±ä¸è¦åŽ»ä¸ºéš¾åˆ«äººäº†ï¼Œå°½å¯èƒ½ä¿è¯æŽ¥å£çš„å®žç”¨æ€§å§ã€‚å¥¹å¥½ï¼Œæˆ‘ä¹Ÿå¥½ã€‚ åº”ç”¨ï¼šå½“éœ€è¦å¯¹å¤–æš´éœ²æŽ¥å£æ—¶ï¼Œéœ€è¦å†ä¸‰æ–Ÿé…Œï¼Œå¦‚æžœçœŸçš„æ²¡æœ‰å¿…è¦å¯¹å¤–æä¾›çš„ï¼Œå°±åˆ äº†å§ã€‚ä¸€æ—¦æ‚¨æä¾›äº†ï¼Œå°±æ„å‘³ç€ï¼Œæ‚¨å°†æ¥è¦å¤šåšä¸€ä»¶äº‹æƒ…ï¼Œä½•è‹¦è¦ç»™è‡ªå·±æ‰¾äº‹åšå‘¢ã€‚ 6. ä¾èµ–å€’ç½®åŽŸåˆ™ï¼ˆDependence Inversion Principle - DIPï¼‰ åŽŸæ–‡ï¼šHigh level modules should not depends upon low level modules. Both should depend upon abstractions. Abstractions should not depend upon details. Details should depend upon abstractions. è¯‘æ–‡ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºŽä½Žå±‚æ¨¡å—ï¼Œå®ƒä»¬åº”è¯¥ä¾èµ–äºŽæŠ½è±¡ã€‚æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºŽç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºŽæŠ½è±¡ã€‚ ç†è§£ï¼šåº”è¯¥é¢å‘æŽ¥å£ç¼–ç¨‹ï¼Œä¸åº”è¯¥é¢å‘å®žçŽ°ç±»ç¼–ç¨‹ã€‚é¢å‘å®žçŽ°ç±»ç¼–ç¨‹ï¼Œç›¸å½“äºŽå°±æ˜¯è®ºäº‹ï¼Œé‚£æ˜¯æ­£å‘ä¾èµ–ï¼ˆæ­£å¸¸äººæ€ç»´ï¼‰ï¼›é¢å‘æŽ¥å£ç¼–ç¨‹ï¼Œç›¸å½“äºŽé€šè¿‡äº‹ç‰©è¡¨è±¡æ¥çœ‹æœ¬è´¨ï¼Œé‚£æ˜¯åå‘ä¾èµ–ï¼Œå³ä¾èµ–å€’ç½®ï¼ˆç¨‹åºå‘˜æ€ç»´ï¼‰ã€‚ åº”ç”¨ï¼šå¹¶ä¸æ˜¯è¯´ï¼Œæ‰€æœ‰çš„ç±»éƒ½è¦æœ‰ä¸€ä¸ªå¯¹åº”çš„æŽ¥å£ï¼Œè€Œæ˜¯è¯´ï¼Œå¦‚æžœæœ‰æŽ¥å£ï¼Œé‚£å°±å°½é‡ä½¿ç”¨æŽ¥å£æ¥ç¼–ç¨‹å§ã€‚ ------&gt;------&gt;------&gt;------&gt;------&gt;------&gt;------&gt; å°†ä»¥ä¸Šå…­å¤§åŽŸåˆ™çš„è‹±æ–‡é¦–å­—æ¯æ‹¼åœ¨ä¸€èµ·å°±æ˜¯ SOLIDï¼ˆç¨³å®šçš„ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¹‹ä¸º SOLID åŽŸåˆ™ã€‚åªæœ‰æ»¡è¶³äº†è¿™å…­å¤§åŽŸåˆ™ï¼Œæ‰èƒ½è®¾è®¡å‡ºç¨³å®šçš„è½¯ä»¶æž¶æž„ï¼ä½†å®ƒä»¬æ¯•ç«Ÿåªæ˜¯åŽŸåˆ™ï¼Œåªæ˜¯å››äººå¸®ç»™æˆ‘ä»¬çš„å»ºè®®ï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬è¿˜æ˜¯è¦å­¦ä¼šçµæ´»åº”å˜ï¼Œåƒä¸‡ä¸è¦ç”Ÿæ¬ç¡¬å¥—ï¼Œå¦åˆ™åªä¼šæŠŠç®€å•é—®é¢˜å¤æ‚åŒ– è¡¥å……è®¾è®¡åŽŸåˆ™ 1. ç»„åˆ/èšåˆå¤ç”¨åŽŸåˆ™ï¼ˆComposition/Aggregation Reuse Principle - CARPï¼‰ å½“è¦æ‰©å±•ç±»çš„åŠŸèƒ½æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚è¿™æ¡åŽŸåˆ™åœ¨ 23 ç§ç»å…¸è®¾è®¡æ¨¡å¼ä¸­é¢‘ç¹ä½¿ç”¨ï¼Œå¦‚ï¼šä»£ç†æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ç­‰ã€‚å¯è§æ±Ÿæ¹–åœ°ä½éžå¸¸ä¹‹é«˜ï¼ 2. æ— çŽ¯ä¾èµ–åŽŸåˆ™ï¼ˆAcyclic Dependencies Principle - ADPï¼‰ å½“ A æ¨¡å—ä¾èµ–äºŽ B æ¨¡å—ï¼ŒB æ¨¡å—ä¾èµ–äºŽ C æ¨¡å—ï¼ŒC ä¾èµ–äºŽ A æ¨¡å—ï¼Œæ­¤æ—¶å°†å‡ºçŽ°å¾ªçŽ¯ä¾èµ–ã€‚åœ¨è®¾è®¡ä¸­åº”è¯¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯é€šè¿‡å¼•å…¥â€œä¸­ä»‹è€…æ¨¡å¼â€è§£å†³è¯¥é—®é¢˜ã€‚ 3. å…±åŒå°è£…åŽŸåˆ™ï¼ˆCommon Closure Principle - CCPï¼‰ åº”è¯¥å°†æ˜“å˜çš„ç±»æ”¾åœ¨åŒä¸€ä¸ªåŒ…é‡Œï¼Œå°†å˜åŒ–éš”ç¦»å‡ºæ¥ã€‚è¯¥åŽŸåˆ™æ˜¯â€œå¼€æ”¾-å°é—­åŽŸåˆ™â€çš„å»¶ç”Ÿã€‚ 4. å…±åŒé‡ç”¨åŽŸåˆ™ï¼ˆCommon Reuse Principle - CRPï¼‰ å¦‚æžœé‡ç”¨äº†åŒ…ä¸­çš„ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆä¹Ÿå°±ç›¸å½“äºŽé‡ç”¨äº†åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œæˆ‘ä»¬è¦å°½å¯èƒ½å‡å°åŒ…çš„å¤§å°ã€‚ 5. å¥½èŽ±åžåŽŸåˆ™ï¼ˆHollywood Principle - HPï¼‰ å¥½èŽ±åžæ˜Žæ˜Ÿçš„ç»çºªäººä¸€èˆ¬éƒ½å¾ˆå¿™ï¼Œä»–ä»¬ä¸æƒ³è¢«æ‰“æ‰°ï¼Œå¾€å¾€ä¼šè¯´ï¼šDon&apos;t call me, I&apos;ll call you. ç¿»è¯‘ä¸ºï¼šä¸è¦è”ç³»æˆ‘ï¼Œæˆ‘ä¼šè”ç³»ä½ ã€‚å¯¹åº”äºŽè½¯ä»¶è®¾è®¡è€Œè¨€ï¼Œæœ€è‘—åçš„å°±æ˜¯â€œæŽ§åˆ¶åè½¬â€ï¼ˆæˆ–ç§°ä¸ºâ€œä¾èµ–æ³¨å…¥â€ï¼‰ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨ä»£ç ä¸­ä¸»åŠ¨çš„åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯ç”±å®¹å™¨å¸®æˆ‘ä»¬æ¥åˆ›å»ºå¹¶ç®¡ç†è¿™äº›å¯¹è±¡ã€‚ å…¶å®ƒè®¾è®¡åŽŸåˆ™ 1. ä¸è¦é‡å¤ä½ è‡ªå·±ï¼ˆDon&apos;t repeat yourself - DRYï¼‰ ä¸è¦è®©é‡å¤çš„ä»£ç åˆ°å¤„éƒ½æ˜¯ï¼Œè¦è®©å®ƒä»¬è¶³å¤Ÿçš„é‡ç”¨ï¼Œæ‰€ä»¥è¦å°½å¯èƒ½åœ°å°è£…ã€‚ 2. ä¿æŒå®ƒç®€å•ä¸Žå‚»ç“œï¼ˆKeep it simple and stupid - KISSï¼‰ ä¸è¦è®©ç³»ç»Ÿå˜å¾—å¤æ‚ï¼Œç•Œé¢ç®€æ´ï¼ŒåŠŸèƒ½å®žç”¨ï¼Œæ“ä½œæ–¹ä¾¿ï¼Œè¦è®©å®ƒè¶³å¤Ÿçš„ç®€å•ï¼Œè¶³å¤Ÿçš„å‚»ç“œã€‚ 3. é«˜å†…èšä¸Žä½Žè€¦åˆï¼ˆHigh Cohesion and Low Coupling - HCLCï¼‰ æ¨¡å—å†…éƒ¨éœ€è¦åšåˆ°å†…èšåº¦é«˜ï¼Œæ¨¡å—ä¹‹é—´éœ€è¦åšåˆ°è€¦åˆåº¦ä½Žã€‚ 4. æƒ¯ä¾‹ä¼˜äºŽé…ç½®ï¼ˆConvention over Configuration - COCï¼‰ å°½é‡è®©æƒ¯ä¾‹æ¥å‡å°‘é…ç½®ï¼Œè¿™æ ·æ‰èƒ½æé«˜å¼€å‘æ•ˆçŽ‡ï¼Œå°½é‡åšåˆ°â€œé›¶é…ç½®â€ã€‚å¾ˆå¤šå¼€å‘æ¡†æž¶éƒ½æ˜¯è¿™æ ·åšçš„ã€‚ 5. å‘½ä»¤æŸ¥è¯¢åˆ†ç¦»ï¼ˆCommand Query Separation - CQSï¼‰ åœ¨å®šä¹‰æŽ¥å£æ—¶ï¼Œè¦åšåˆ°å“ªäº›æ˜¯å‘½ä»¤ï¼Œå“ªäº›æ˜¯æŸ¥è¯¢ï¼Œè¦å°†å®ƒä»¬åˆ†ç¦»ï¼Œè€Œä¸è¦æ‰åˆ°ä¸€èµ·ã€‚ 6. å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of Concerns - SOCï¼‰ å°†ä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†ç¦»ä¸ºå¤šä¸ªç®€å•çš„é—®é¢˜ï¼Œç„¶åŽé€ä¸ªè§£å†³è¿™äº›ç®€å•çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤æ‚çš„é—®é¢˜å°±è§£å†³äº†ã€‚éš¾å°±éš¾åœ¨å¦‚ä½•è¿›è¡Œåˆ†ç¦»ã€‚ 7. å¥‘çº¦å¼è®¾è®¡ï¼ˆDesign by Contract - DBCï¼‰ æ¨¡å—æˆ–ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ï¼Œéƒ½æ˜¯åŸºäºŽå¥‘çº¦ï¼ˆæŽ¥å£æˆ–æŠ½è±¡ï¼‰çš„ï¼Œè€Œä¸è¦ä¾èµ–äºŽå…·ä½“å®žçŽ°ã€‚è¯¥åŽŸåˆ™å»ºè®®æˆ‘ä»¬è¦é¢å‘å¥‘çº¦ç¼–ç¨‹ã€‚ 8. ä½ ä¸éœ€è¦å®ƒï¼ˆYou aren&apos;t gonna need it - YAGNIï¼‰ ä¸è¦ä¸€å¼€å§‹å°±æŠŠç³»ç»Ÿè®¾è®¡å¾—éžå¸¸å¤æ‚ï¼Œä¸è¦é™·å…¥â€œè¿‡åº¦è®¾è®¡â€çš„æ·±æ¸Šã€‚åº”è¯¥è®©ç³»ç»Ÿè¶³å¤Ÿçš„ç®€å•ï¼Œè€Œå´åˆä¸å¤±æ‰©å±•æ€§ï¼Œè¿™æ˜¯å…¶ä¸­çš„éš¾ç‚¹ã€‚ 3.ç¬¬ä¸‰æ–¹çš„ä½¿ç”¨ ç¬¬ä¸‰æ–¹äº§åŽ‚å•†çš„sdkä½¿ç”¨... æ³¨æ„äº‹é¡¹ï¼šå…¼å®¹æ€§ã€ç”Ÿäº§æµ‹è¯•çŽ¯å¢ƒçš„éš”ç¦»ã€bugæ”¶é›†ã€æ˜“ç”¨æ€§ 4.è®¾è®¡æ¨¡å¼ã€æ•°æ®ç»“æž„ è®¾è®¡æ¨¡å¼ï¼š ä¸€ ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ ï¼ˆ1ï¼‰åŸºæœ¬å®šä¹‰ï¼šè®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€‚è®¾è®¡æ¨¡å¼æ˜¯æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³è„‰ç»œï¼Œå¦‚å¤§åŽ¦çš„ç»“æž„ä¸€æ · ï¼ˆ2ï¼‰Design patternçš„å››å¤§è¦ç´ ï¼šæ¨¡å¼åç§°ï¼ˆNameï¼‰ï¼Œé—®é¢˜ï¼ˆQuestionï¼‰ï¼Œè§£å†³æ–¹æ¡ˆï¼ˆSolutionï¼‰ï¼Œæ•ˆæžœï¼ˆEfftiveï¼‰ã€‚ ï¼ˆ3ï¼‰OOï¼ˆé¢å‘å¯¹è±¡ï¼‰çš„å…­å¤§åŽŸåˆ™ï¼šå•ä¸€èŒè´£åŽŸåˆ™ï¼Œå¼€é—­åŽŸåˆ™ï¼Œé‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼Œä¾èµ–å€’ç½®åŽŸåˆ™ï¼ŒæŽ¥å£éš”ç¦»åŽŸåˆ™ï¼Œè¿ªç±³ç‰¹åŽŸåˆ™ã€‚ å•ä¸€èŒè´£åŽŸåˆ™ï¼šä¸€ä¸ªç±»ä¸­åº”è¯¥æ˜¯ä¸€ç»„ç›¸å…³æ€§å¾ˆé«˜çš„å‡½æ•°ï¼Œæ•°æ®çš„å°è£…ã€‚ä¸¤ä¸ªå®Œå…¨ä¸ä¸€æ ·çš„åŠŸèƒ½å°±ä¸åº”è¯¥æ”¾åœ¨ä¸€ä¸ªç±»ä¸­ã€‚ å¼€é—­åŽŸåˆ™ï¼šå¯¹ä¿®æ”¹å°é—­ï¼Œå¯¹æ‰©å±•æ”¾å¼€ã€‚ é‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼šæŠ½è±¡å’Œç»§æ‰¿ï¼›æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜Žçš„ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ã€‚ ä¾èµ–å€’ç½®åŽŸåˆ™ï¼šæŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚ æŽ¥å£éš”ç¦»åŽŸåˆ™ï¼šå°†å¤§æŽ¥å£æ”¹æˆå¤šä¸ªå°æŽ¥å£ã€‚ è¿ªç±³ç‰¹åŽŸåˆ™ï¼šä¹Ÿç§°ä¸ºæœ€å°‘çŸ¥è¯†åŽŸåˆ™ï¼Œä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å¦ä¸€ä¸ªå¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£ã€‚ äºŒ è®¾è®¡æ¨¡å¼çš„åˆ†ç±» è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç±»åž‹ï¼š ï¼ˆ1ï¼‰åˆ›å»ºåž‹æ¨¡å¼5ç§ï¼šå•ä¾‹æ¨¡å¼ï¼ŒæŠ½è±¡å·¥åŽ‚æ¨¡å¼ï¼Œå·¥åŽ‚æ¨¡å¼ï¼ŒåŽŸåž‹æ¨¡å¼ï¼Œå»ºé€ è€…æ¨¡å¼ã€‚ï¼ˆå£è¯€ï¼šå•åŽŸå»ºé€ è€…ï¼Œä¸œè¥¿äºŒåŽ‚ï¼‰ ï¼ˆ2ï¼‰ç»“æž„åž‹æ¨¡å¼7ç§ï¼šé€‚é…å™¨æ¨¡å¼ï¼Œæ¡¥æŽ¥æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼ï¼Œç»„åˆæ¨¡å¼ï¼Œå¤–è§‚æ¨¡å¼ï¼Œäº«å…ƒæ¨¡å¼ï¼Œä»£ç†æ¨¡å¼ã€‚ï¼ˆå£è¯€ï¼šä¸€å™¨ä¸€æ¡¥ä¸€å…ƒä¸€ä»£ç†ï¼›è£…é¥°ç»„åˆå¤–è§‚ï¼‰ ï¼ˆ3ï¼‰è¡Œä¸ºåž‹æ¨¡å¼11ç§ï¼šè§‚å¯Ÿè€…æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼ï¼Œè®¿é—®è€…æ¨¡å¼ï¼Œè§£é‡Šå™¨æ¨¡å¼ï¼Œè¿­ä»£å™¨æ¨¡å¼ï¼Œå¤‡å¿˜å½•æ¨¡å¼ï¼Œè´£ä»»é“¾æ¨¡å¼ï¼ŒçŠ¶æ€æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼ï¼Œæ¨¡æ¿æ¨¡å¼ã€‚ï¼ˆå£è¯€ï¼šä¸‰è€…ä¸¤å™¨ã€ä¸€å½•ä¸€é“¾ä¸€æ¨¡æ¿ï¼ŒçŠ¶æ€ç­–ç•¥å‘½ä»¤ï¼‰ ä¸‰ Androidä¸­çš„è®¾è®¡æ¨¡å¼ ï¼ˆ1ï¼‰å•ä¾‹æ¨¡å¼ï¼š ç®€ä»‹ï¼šä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®žä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚ ç¤ºä¾‹ï¼šAndroidä¸­çš„ç³»ç»Ÿçº§æœåŠ¡éƒ½æ˜¯é€šè¿‡å®¹å™¨çš„å•ä¾‹æ¨¡å¼å®žçŽ°æ–¹å¼ï¼Œä»¥å•ä¾‹å½¢å¼å­˜åœ¨ï¼Œå‡å°‘äº†èµ„æºæ¶ˆè€—ã€‚ æ¯”å¦‚LayoutInflater Serviceï¼Œå°†è¿™äº›æœåŠ¡ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨ä¸€ä¸ªHashMapå®¹å™¨ä¸­ï¼Œç”¨æˆ·ä½¿ç”¨æ—¶åªéœ€è¦æ ¹æ®keyæ¥èŽ·å–åˆ°å¯¹åº”çš„ServiceFetcherï¼Œç„¶åŽé€šè¿‡ServcieFetcherå¯¹è±¡çš„getServiceå‡½æ•°æ¥èŽ·å–åˆ°å…·ä½“çš„æœåŠ¡å¯¹è±¡ï¼Œç¬¬ä¸€æ¬¡èŽ·å–æ—¶ä¼šè°ƒç”¨ServcieFetcherçš„createServiceå‡½æ•°åˆ›å»ºæœåŠ¡å¯¹è±¡ï¼Œç„¶åŽå°†è¯¥å¯¹è±¡ç¼“å­˜åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œä¸‹æ¬¡å†å–æ—¶ç›´æŽ¥ä»Žç¼“å­˜ä¸­èŽ·å–ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡ï¼Œä»Žè€Œè¾¾åˆ°å•ä¾‹çš„æ•ˆæžœã€‚ ï¼ˆ2ï¼‰æŠ½è±¡å·¥åŽ‚æ¨¡å¼ï¼š ç®€ä»‹ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æŽ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚ ç¤ºä¾‹ï¼šAndroidåº•å±‚å¯¹MediaPlayerçš„åˆ›å»ºã€‚MediaPlayerFactoryæ˜¯Androidåº•å±‚ä¸ºäº†åˆ›å»ºä¸åŒçš„MediaPlayeræ‰€å®šä¹‰çš„ä¸€ä¸ªç±»ã€‚ ï¼ˆ3ï¼‰å·¥åŽ‚æ¨¡å¼ï¼š ç®€ä»‹ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºŽåˆ›å»ºå¯¹è±¡çš„æŽ¥å£ï¼Œè®©å­ç±»å†³å®šå°†å“ªä¸€ä¸ªç±»å®žä¾‹åŒ–ã€‚ ç¤ºä¾‹ï¼šBitmapFactoryä½å›¾å·¥åŽ‚ï¼Œä¸“é—¨ç”¨æ¥å°†æŒ‡å®šçš„å›¾ç‰‡è½¬æ¢ä¸ºæŒ‡å®šçš„ä½å›¾Bitmapã€‚ ï¼ˆ4ï¼‰åŽŸåž‹æ¨¡å¼ï¼š ç®€ä»‹ï¼šç”¨åŽŸåž‹å®žä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™ä¸ªåŽŸåž‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šæ¯”å¦‚æˆ‘ä»¬éœ€è¦ä¸€å¼ Bitmapçš„å‡ ç§ä¸åŒæ ¼å¼ï¼šARGB_8888ã€RGB_565ã€ARGB_4444ã€ALAPHA_8ç­‰ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªARGB_8888çš„Bitmapä½œä¸ºåŽŸåž‹ï¼Œåœ¨å®ƒçš„åŸºç¡€ä¸Šï¼Œé€šè¿‡è°ƒç”¨Bitmap.copy(Config)æ¥åˆ›å»ºå‡ºå…¶å®ƒå‡ ç§æ ¼å¼çš„Bitmapã€‚å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯Javaä¸­æ‰€æœ‰å¯¹è±¡éƒ½æœ‰çš„ä¸€ä¸ªåå­—å«cloneçš„æ–¹æ³•ï¼Œå·²ç»åŽŸåž‹æ¨¡å¼çš„ä»£åè¯äº†ã€‚åœ¨ç³»ç»Ÿä¸­è¦åˆ›å»ºå¤§é‡çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¹‹é—´å…·æœ‰å‡ ä¹Žå®Œå…¨ç›¸åŒçš„åŠŸèƒ½ï¼Œåªæ˜¯åœ¨ç»†èŠ‚ä¸Šæœ‰ä¸€ç‚¹å„¿å·®åˆ«ã€‚ ï¼ˆ5ï¼‰å»ºé€ è€…æ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æž„å»ºä¸Žå®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æž„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼šAlertDialog.Builder ImageLoaderçš„åˆå§‹é…ç½®ã€‚ ï¼ˆ6ï¼‰é€‚é…å™¨æ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†ä¸€ä¸ªç±»çš„æŽ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæŽ¥å£ã€‚ ç¤ºä¾‹ï¼šä¸åŒçš„æ•°æ®æä¾›è€…ä½¿ç”¨ä¸€ä¸ªé€‚é…å™¨æ¥å‘ä¸€ä¸ªç›¸åŒçš„å®¢æˆ·æä¾›æœåŠ¡ã€‚ ListViewæˆ–GridViewçš„Adapterã€‚ ï¼ˆ7ï¼‰æ¡¥æŽ¥æ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸Žå®ƒçš„å®žçŽ°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚ ç¤ºä¾‹ï¼šWindowå’ŒWindowManagerä¹‹é—´çš„å…³ç³»ã€‚ åœ¨FrameWorkä¸­Windowå’ŒPhoneWindowæž„æˆçª—å£çš„æŠ½è±¡éƒ¨åˆ†ï¼Œå…¶ä¸­Windowç±»ä¸ºè¯¥æŠ½è±¡éƒ¨åˆ†çš„æŠ½è±¡æŽ¥å£ï¼ŒPhoneWindowä¸ºæŠ½è±¡éƒ¨åˆ†å…·ä½“çš„å®žçŽ°åŠæ‰©å±•ã€‚è€ŒWindowManageråˆ™ä¸ºå®žçŽ°éƒ¨åˆ†çš„åŸºç±»ï¼ŒWindowManagerImplåˆ™ä¸ºå®žçŽ°éƒ¨åˆ†å…·ä½“çš„é€»è¾‘å®žçŽ°ã€‚ ï¼ˆ8ï¼‰è£…é¥°æ¨¡å¼ï¼š ç®€ä»‹ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±æ‰©å±•åŠŸèƒ½è€Œè¨€ï¼Œ å®ƒæ¯”ç”Ÿæˆå­ç±»æ–¹å¼æ›´ä¸ºçµæ´»ã€‚ ç¤ºä¾‹ï¼šActivityç»§æ‰¿è‡ªContextThemeWrapperï¼ŒContextThemeWrapperç»§æ‰¿è‡ªContextWrapperï¼ŒContextWrapperæ‰æ˜¯ç»§æ‰¿è‡ªContextã€‚ContextWrapperå°±æ˜¯æˆ‘ä»¬æ‰¾çš„è£…é¥°è€…ã€‚ ï¼ˆ9ï¼‰ç»„åˆæ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æž„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æž„ã€‚ ç¤ºä¾‹ï¼šViewå’ŒViewGroupçš„ç»„åˆ ï¼ˆ10ï¼‰å¤–è§‚æ¨¡å¼ ç®€ä»‹ï¼šä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æŽ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼ŒFacadeæ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æŽ¥å£ï¼Œç»Ÿä¸€ç¼–ç¨‹æŽ¥å£ã€‚ ç¤ºä¾‹ï¼šContextImpl ï¼ˆ11ï¼‰äº«å…ƒæ¨¡å¼ï¼š ç®€ä»‹ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šMessage.obtainMessageé€šè¿‡é‡ç”¨Messageå¯¹è±¡æ¥é¿å…å¤§é‡çš„Messageå¯¹è±¡è¢«é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯ã€‚ ï¼ˆ12ï¼‰ä»£ç†æ¨¡å¼ï¼š ç®€ä»‹ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ä»¥æŽ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ ç¤ºä¾‹ï¼šæ‰€æœ‰çš„AIDLéƒ½ä¸€ä¸ªä»£ç†æ¨¡å¼çš„ä¾‹å­ã€‚å‡è®¾ä¸€ä¸ªActivity AåŽ»ç»‘å®šä¸€ä¸ªService Sï¼Œé‚£ä¹ˆAè°ƒç”¨Sä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å…¶å®žéƒ½æ˜¯é€šè¿‡ç³»ç»Ÿçš„Binderæœºåˆ¶çš„ä¸­è½¬ï¼Œç„¶åŽè°ƒç”¨Sä¸­çš„å¯¹åº”æ–¹æ³•æ¥åšåˆ°çš„ã€‚Binderæœºåˆ¶å°±èµ·åˆ°äº†ä»£ç†çš„ä½œç”¨ã€‚ ï¼ˆ13ï¼‰è§‚å¯Ÿè€…æ¨¡å¼ï¼š ç®€ä»‹ï¼šä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¿¡èµ–äºŽå®ƒçš„å¯¹è±¡è‡ªåŠ¨åšç›¸åº”æ”¹å˜ã€‚ ç¤ºä¾‹ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡BaseAdapter.registerDataSetObserverå’ŒBaseAdapter.unregisterDataSetObserverä¸¤æ–¹æ³•æ¥å‘BaseAdateræ³¨å†Œã€æ³¨é”€ä¸€ä¸ªDataSetObserverã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒDataSetObserverå°±æ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå®ƒä¸€æ—¦å‘çŽ°BaseAdapterå†…éƒ¨æ•°æ®æœ‰å˜é‡ï¼Œå°±ä¼šé€šè¿‡å›žè°ƒæ–¹æ³•DataSetObserver.onChangedå’ŒDataSetObserver.onInvalidatedæ¥é€šçŸ¥DataSetObserverçš„å®žçŽ°ç±»ã€‚äº‹ä»¶é€šçŸ¥ä¹Ÿæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚ ï¼ˆ14ï¼‰ä¸­ä»‹è€…æ¨¡å¼ï¼š ç®€ä»‹ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»Žè€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚ ç¤ºä¾‹ï¼šBinderæœºåˆ¶ã€‚ (15)è®¿é—®è€…æ¨¡å¼: ç®€ä»‹ï¼šè¡¨ç¤ºä¸€ä¸ªä½œç”¨äºŽæŸå¯¹è±¡ç»“æž„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºŽè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚ ç¤ºä¾‹ï¼šç¼–è¯‘æ—¶æ³¨è§£ä¸­çš„ElementVisitorä¸­å®šä¹‰å¤šä¸ªVisitæŽ¥å£ï¼Œæ¯ä¸ªæŽ¥å£å¤„ç†ä¸€ç§æ•°æ®ç±»åž‹ï¼Œè¿™å°±æ˜¯å…¸åž‹çš„è®¿é—®è€…æ¨¡å¼ï¼Œè®¿é—®è€…æ¨¡å¼æ­£å¥½è§£å†³äº†æ•°æ®ç»“æž„å’Œæ•°æ®æ“ä½œåˆ†ç¦»çš„é—®é¢˜ï¼Œé¿å…æŸäº›æ“ä½œæ±¡æŸ“äº†æ•°æ®å¯¹è±¡ç±»ã€‚ ï¼ˆ16ï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼š ç®€ä»‹ï¼šç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ ç¤ºä¾‹ï¼šPackageParserè¿™ä¸ªç±»å¯¹AndroidManifest.xmlè¿™ä¸ªé…ç½®æ–‡ä»¶çš„è§£æžè¿‡ç¨‹ï¼Œ ï¼ˆ17ï¼‰è¿­ä»£å™¨æ¨¡å¼ ç®€ä»‹ï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ªå…ƒç´ , è€Œåˆä¸éœ€æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼šåœ¨Androidä¸­é™¤äº†å„ç§æ•°æ®ç»“æž„ä½“ï¼Œå¦‚Listï¼ŒMapï¼Œç­‰åŒ…å«çš„è¿­ä»£å™¨ä»¥å¤–ï¼ŒAndroidæºç ä¸­ä¹Ÿæä¾›äº†è¿­ä»£å™¨éåŽ†æ¨¡å¼ï¼Œæ¯”å¦‚æ•°æ®åº“æŸ¥è¯¢ä½¿ç”¨Cursorï¼Œå½“æˆ‘ä»¬ä½¿ç”¨SQLiteDataBaseçš„queryæ–¹æ³•æŸ¥è¯¢æ•°æ®åº“æ—¶ï¼Œä¼šè¿”å›žä¸€ä¸ªCursoræ¸¸æ ‡å¯¹è±¡ï¼Œè¯¥æ¸¸æ ‡å¯¹è±¡å®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„è¿­ä»£å™¨ã€‚ ï¼ˆ18ï¼‰å¤‡å¿˜å½•æ¨¡å¼ ç®€ä»‹ï¼šä¸éœ€è¦äº†è§£å¯¹è±¡çš„å†…éƒ¨ç»“æž„çš„æƒ…å†µä¸‹å¤‡ä»½å¯¹è±¡çš„çŠ¶æ€ï¼Œæ–¹ä¾¿ä»¥åŽæ¢å¤ã€‚ ç¤ºä¾‹ï¼šActivityçš„onSaveInstanceStateå’ŒonRestoreInstanceStateå°±æ˜¯é€šè¿‡Bundleè¿™ç§åºåˆ—åŒ–çš„æ•°æ®ç»“æž„æ¥å­˜å‚¨Activityçš„çŠ¶æ€ï¼Œè‡³äºŽå…¶ä¸­å­˜å‚¨çš„æ•°æ®ç»“æž„ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¸ç”¨å…³å¿ƒã€‚ ï¼ˆ19ï¼‰è´£ä»»é“¾æ¨¡å¼ ç®€ä»‹ï¼šæœ‰å¤šä¸ªçš„å¯¹è±¡å¯ä»¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚ ç¤ºä¾‹: è´£ä»»é“¾æ¨¡å¼åœ¨Androidæºç ä¸­æ¯”è¾ƒç±»ä¼¼çš„å®žçŽ°èŽ«è¿‡äºŽå¯¹äº‹ä»¶çš„åˆ†å‘å¤„ç†ï¼Œæ¯å½“ç”¨æˆ·æŽ¥è§¦å±å¹•æ—¶å€™ï¼ŒAndroidéƒ½ä¼šå°†å¯¹åº”çš„äº‹ä»¶åŒ…è£…æˆä¸€ä¸ªäº‹ä»¶å¯¹è±¡ä»ŽViewTreeçš„é¡¶éƒ¨è‡³ä¸Šè€Œä¸‹çš„åˆ†å‘ä¼ é€’ã€‚ViewGroupäº‹ä»¶æŠ•é€’çš„é€’å½’è°ƒç”¨å°±ç±»ä¼¼ä¸€æ¡è´£ä»»é“¾ï¼Œä¸€æ—¦å¯»æ‰¾åˆ°è´£ä»»è€…ï¼Œé‚£ä¹ˆå°±ç”±è´£ä»»è€…æŒæœ‰å¹¶æ¶ˆè´¹è¯¥æ¬¡äº‹ä»¶ï¼Œå…·ä½“çš„ä½“çŽ°åœ¨Viewçš„onTouchEventæ–¹æ³•ä¸­çš„è¿”å›žå€¼ï¼Œå¦‚æžœOnTouchEventè¿”å›žfalseï¼Œé‚£ä¹ˆæ„å‘³ç€å½“å‰Viewä¸ä¼šæ˜¯è¯¥æ¬¡äº‹ä»¶çš„è´£ä»»äººï¼Œå°†ä¸ä¼šå¯¹è¯¥äº‹ä»¶æŒæœ‰ã€‚ ï¼ˆ20ï¼‰çŠ¶æ€æ¨¡å¼ï¼š ç®€ä»‹ï¼šçŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¡Œä¸ºæ”¹å˜ã€‚ ç¤ºä¾‹ï¼šView.onVisibilityChangedæ–¹æ³•ï¼Œå°±æ˜¯æä¾›äº†ä¸€ä¸ªçŠ¶æ€æ¨¡å¼çš„å®žçŽ°ï¼Œå…è®¸åœ¨Viewçš„visibilityå‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¼•å‘æ‰§è¡ŒonVisibilityChangedæ–¹æ³•ä¸­çš„åŠ¨ä½œã€‚ ï¼ˆ21ï¼‰ç­–ç•¥æ¨¡å¼ ç®€ä»‹ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—å°è£…äº†ç®—æ³•ã€è¡Œä¸ºçš„å¯¹è±¡ï¼Œä»–ä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ ç¤ºä¾‹ï¼šJava.util.Listå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªå¢žï¼ˆaddï¼‰ã€åˆ ï¼ˆremoveï¼‰ã€æ”¹ï¼ˆsetï¼‰ã€æŸ¥ï¼ˆindexOfï¼‰ç­–ç•¥ï¼Œè‡³äºŽå®žçŽ°è¿™ä¸ªç­–ç•¥çš„ArrayListã€LinkedListç­‰ç±»ï¼Œåªæ˜¯åœ¨å…·ä½“å®žçŽ°æ—¶é‡‡ç”¨äº†ä¸åŒçš„ç®—æ³•ã€‚ä½†å› ä¸ºå®ƒä»¬ç­–ç•¥ä¸€æ ·ï¼Œä¸è€ƒè™‘é€Ÿåº¦çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ—¶å®Œå…¨å¯ä»¥äº’ç›¸æ›¿æ¢ä½¿ç”¨ã€‚ ï¼ˆ22ï¼‰å‘½ä»¤æ¨¡å¼ ç®€ä»‹ï¼šæŠŠè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡å‘é€å‡ºåŽ»ï¼Œæ–¹ä¾¿å®šåˆ¶ã€æŽ’é˜Ÿã€å–æ¶ˆã€‚ ç¤ºä¾‹ï¼šHandler.poståŽHandler.handleMessageã€‚ ï¼ˆ23ï¼‰äº«å…ƒæ¨¡å¼ ç®€ä»‹ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šMessage.obtainMessageé€šè¿‡é‡ç”¨Messageå¯¹è±¡æ¥é¿å…å¤§é‡çš„Messageå¯¹è±¡è¢«é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯ã€‚ æ•°æ®ï¼šä¸‰ä¸ªé‡è¦çš„æŽ¥å£ä¸Žçº¿ç¨‹å®‰å…¨ä¸Žæœ‰åºæ— åº 1.List åˆ—è¡¨ arraylistã€vectoræ˜¯çº¿æ€§è¡¨ä½¿ç”¨objectæ•°ç»„ä½œä¸ºå®¹å™¨åŽ»å­˜å‚¨æ•°æ®ï¼Œé•¿åº¦åŠ¨æ€å¢žé•¿ã€‚arrayæ˜¯éžåŒæ­¥çš„ï¼Œvectoræ˜¯åŒæ­¥çš„ã€‚ LinkedListæ˜¯é“¾è¡¨ï¼Œé“¾è¡¨éšæœºä½ç½®æ’å…¥ã€åˆ é™¤æ•°æ®æ—¶æ¯”çº¿æ€§è¡¨å¿«ï¼ŒéåŽ†æ¯”çº¿æ€§è¡¨æ…¢ã€‚ ArrayListï¼ˆéžåŒæ­¥ã€éžé¢‘ç¹åˆ é™¤æ—¶é€‰æ‹©ï¼‰ã€Vectorï¼ˆéœ€åŒæ­¥æ—¶é€‰æ‹©ï¼‰ã€LinkedListï¼ˆé¢‘ç¹åœ¨ä»»æ„ä½ç½®æ’å…¥ã€åˆ é™¤æ—¶é€‰æ‹©ï¼‰ 2.Set å”¯ä¸€é›†åˆ Setç»“æž„å…¶å®žå°±æ˜¯ç»´æŠ¤ä¸€ä¸ªMapæ¥å­˜å‚¨æ•°æ®çš„ï¼Œåˆ©ç”¨Mapç»“æž„keyå€¼å”¯ä¸€æ€§ã€‚ 3.Map é”®å€¼å¯¹åº” keyå”¯ä¸€ HashMap ç»“æž„çš„å®žçŽ°åŽŸç†æ˜¯å°†putè¿›æ¥çš„key-valueå°è£…æˆä¸€ä¸ªEntryå¯¹è±¡å­˜å‚¨åˆ°ä¸€ä¸ªEntryæ•°ç»„ä¸­ï¼Œä½ç½®ï¼ˆæ•°ç»„ä¸‹æ ‡ï¼‰ç”±keyçš„å“ˆå¸Œå€¼ä¸Žæ•°ç»„é•¿åº¦è®¡ç®—è€Œæ¥ã€‚å¦‚æžœæ•°ç»„å½“å‰ä¸‹æ ‡å·²æœ‰å€¼ï¼Œåˆ™å°†æ•°ç»„å½“å‰ä¸‹æ ‡çš„å€¼æŒ‡å‘æ–°æ·»åŠ çš„Entryå¯¹è±¡ã€‚ TreeMap æ˜¯ç”±Entryå¯¹è±¡ä¸ºèŠ‚ç‚¹ç»„æˆçš„ä¸€é¢—çº¢é»‘æ ‘ï¼Œputåˆ°TreeMapçš„æ•°æ®é»˜è®¤æŒ‰keyçš„è‡ªç„¶é¡ºåºæŽ’åºï¼Œnew TreeMapæ—¶ä¼ å…¥Comparatorè‡ªå®šä¹‰æŽ’åºã€‚ HashMapå’ŒHashtableéƒ½å®žçŽ°äº†MapæŽ¥å£ï¼Œä½†å†³å®šç”¨å“ªä¸€ä¸ªä¹‹å‰å…ˆè¦å¼„æ¸…æ¥šå®ƒä»¬ä¹‹é—´çš„åˆ†åˆ«ã€‚ä¸»è¦çš„åŒºåˆ«æœ‰ï¼šçº¿ç¨‹å®‰å…¨æ€§ï¼ŒåŒæ­¥(synchronization)ï¼Œä»¥åŠé€Ÿåº¦ã€‚HashMapå‡ ä¹Žå¯ä»¥ç­‰ä»·äºŽHashtableï¼Œé™¤äº†HashMapæ˜¯éžsynchronizedçš„ï¼Œå¹¶å¯ä»¥æŽ¥å—null(HashMapå¯ä»¥æŽ¥å—ä¸ºnullçš„é”®å€¼(key)å’Œå€¼(value)ï¼Œè€ŒHashtableåˆ™ä¸è¡Œ)ã€‚ HashMapæ˜¯éžsynchronizedï¼Œè€ŒHashtableæ˜¯synchronizedï¼Œè¿™æ„å‘³ç€Hashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«ä¸€ä¸ªHashtableï¼›è€Œå¦‚æžœæ²¡æœ‰æ­£ç¡®çš„åŒæ­¥çš„è¯ï¼Œå¤šä¸ªçº¿ç¨‹æ˜¯ä¸èƒ½å…±äº«HashMapçš„ã€‚Java 5æä¾›äº†ConcurrentHashMapï¼Œå®ƒæ˜¯HashTableçš„æ›¿ä»£ï¼Œæ¯”HashTableçš„æ‰©å±•æ€§æ›´å¥½ã€‚ å¦ä¸€ä¸ªåŒºåˆ«æ˜¯HashMapçš„è¿­ä»£å™¨(Iterator)æ˜¯fail-fastè¿­ä»£å™¨ï¼Œè€ŒHashtableçš„enumeratorè¿­ä»£å™¨ä¸æ˜¯fail-fastçš„ã€‚æ‰€ä»¥å½“æœ‰å…¶å®ƒçº¿ç¨‹æ”¹å˜äº†HashMapçš„ç»“æž„ï¼ˆå¢žåŠ æˆ–è€…ç§»é™¤å…ƒç´ ï¼‰ï¼Œå°†ä¼šæŠ›å‡ºConcurrentModificationExceptionï¼Œä½†è¿­ä»£å™¨æœ¬èº«çš„remove()æ–¹æ³•ç§»é™¤å…ƒç´ åˆ™ä¸ä¼šæŠ›å‡ºConcurrentModif:icationExceptionå¼‚å¸¸ã€‚ä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªä¸€å®šå‘ç”Ÿçš„è¡Œä¸ºï¼Œè¦çœ‹JVMã€‚è¿™æ¡åŒæ ·ä¹Ÿæ˜¯Enumerationå’ŒIteratorçš„åŒºåˆ«ã€‚ ç”±äºŽHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ä¹Ÿæ˜¯synchronizedï¼Œæ‰€ä»¥åœ¨å•çº¿ç¨‹çŽ¯å¢ƒä¸‹å®ƒæ¯”HashMapè¦æ…¢ã€‚å¦‚æžœä½ ä¸éœ€è¦åŒæ­¥ï¼Œåªéœ€è¦å•ä¸€çº¿ç¨‹ï¼Œé‚£ä¹ˆä½¿ç”¨HashMapæ€§èƒ½è¦å¥½è¿‡Hashtableã€‚ HashMapä¸èƒ½ä¿è¯éšç€æ—¶é—´çš„æŽ¨ç§»Mapä¸­çš„å…ƒç´ æ¬¡åºæ˜¯ä¸å˜çš„ã€‚ å·¥å…·ç±»ï¼šCollections é›†åˆçš„å·®é›†ã€å¹¶é›†ã€æ‹·è´ã€æŽ’åºç­‰ç­‰ æ•°æ®ç»“æž„ï¼š æ•°ç»„ã€æœ‰åºæ•°ç»„ã€æ ˆã€é˜Ÿåˆ—ã€é“¾è¡¨ã€äºŒå‰æ ‘ã€çº¢é»‘æ ‘ã€2-3-4æ ‘ã€å“ˆå¸Œè¡¨ã€å †ã€å›¾ï¼› é‡ç‚¹çº¢é»‘æ ‘ï¼ï¼ï¼&lt;-------------é‡ç‚¹ 5.å¤šçº¿ç¨‹ã€å›¾å½¢ã€ç½‘ç»œç¼–ç¨‹ çº¿ç¨‹: ä¸€ä¸ªè¿›ç¨‹åŒ…æ‹¬ç”±æ“ä½œç³»ç»Ÿåˆ†é…çš„å†…å­˜ç©ºé—´ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚ä¸€ä¸ªçº¿ç¨‹ä¸èƒ½ç‹¬ç«‹çš„å­˜åœ¨ï¼Œå®ƒå¿…é¡»æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªè¿›ç¨‹ä¸€ç›´è¿è¡Œï¼Œç›´åˆ°æ‰€æœ‰çš„éžå®ˆæŠ¤çº¿ç¨‹éƒ½ç»“æŸè¿è¡ŒåŽæ‰èƒ½ç»“æŸã€‚çº¿ç¨‹çš„å®žçŽ°æ–¹å¼æœ‰ä¸‰ç§runnableï¼ˆæŽ¥å£ï¼‰ï¼Œthreadï¼ˆç±»ï¼‰ï¼Œcallableï¼ˆæŽ¥å£å¯é›†æˆåˆ«çš„ç±»ï¼‰ å®ˆæŠ¤çº¿ç¨‹ï¼š User Thread(ç”¨æˆ·çº¿ç¨‹)ã€DaemonThread(å®ˆæŠ¤çº¿ç¨‹)ã€‚ ä¸»çº¿ç¨‹ä¸­å»ºç«‹ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹ç»“æŸæ—¶ï¼Œå®ˆæŠ¤çº¿ç¨‹ä¹Ÿè·Ÿç€ç»“æŸã€‚å®ˆæŠ¤çº¿ç¨‹ä¸»è¦ä¸ºäº†åˆ«çš„çº¿ç¨‹æœåŠ¡ï¼›å½“æ‰€æœ‰çš„ç”¨æˆ·çº¿ç¨‹éƒ½ä¸å­˜åœ¨æ‰ä¼šè‡ªåŠ¨é€€å‡ºã€‚ çº¿ç¨‹çŠ¶æ€ï¼š æ–°å»ºçŠ¶æ€ã€å°±ç»ªçŠ¶æ€ã€è¿è¡ŒçŠ¶æ€ã€é˜»å¡žçŠ¶æ€ï¼ˆç­‰å¾…é˜»å¡žï¼›åŒæ­¥é˜»å¡žï¼Œçº¿ç¨‹èŽ·å–åŒæ­¥é”å¤±è´¥ï¼›å…¶ä»–é˜»å¡žï¼‰ã€æ­»äº¡çŠ¶æ€ï¼› çº¿ç¨‹åŒæ­¥ï¼š synchronized ï¼š ä¸€ ã€ä¿®é¥°æ–¹æ³• public synchronized void saveValueï¼ˆï¼‰{}ï¼› äºŒ ã€åŒæ­¥æ–¹æ³• synchronized (this){index+=dex;}ï¼› volatileï¼š aï¼švolatileå…³é”®å­—ä¸ºåŸŸå˜é‡çš„è®¿é—®æä¾›äº†ä¸€ç§å…é”æœºåˆ¶ bï¼šä½¿ç”¨volatileä¿®é¥°åŸŸç›¸å½“äºŽå‘Šè¯‰è™šæ‹Ÿæœºè¯¥åŸŸå¯èƒ½ä¼šè¢«å…¶ä»–çº¿ç¨‹æ›´æ–°ï¼Œ cï¼šå› æ­¤æ¯æ¬¡ä½¿ç”¨è¯¥åŸŸå°±è¦é‡æ–°è®¡ç®—ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å¯„å­˜å™¨ä¸­çš„å€¼ dï¼švolatileä¸ä¼šæä¾›ä»»ä½•åŽŸå­æ“ä½œï¼Œå®ƒä¹Ÿä¸èƒ½ç”¨æ¥ä¿®é¥°finalç±»åž‹çš„å˜é‡ ReentrantLockï¼ˆç±»ï¼‰ï¼š Lock lock = new ReentrantLock(); lock.lock(); //ä¸Šé” ... lock.unlock(); //è§£é” ThreadLocalç®¡ç†å˜é‡ï¼š ä¸€ä¸ªä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹éƒ½èŽ·å¾—è¯¥å˜é‡çš„å‰¯æœ¬ï¼Œå‰¯æœ¬ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œè¿™æ ·æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥éšæ„ä¿®æ”¹è‡ªå·±çš„å˜é‡å‰¯æœ¬ï¼Œè€Œä¸ä¼šå¯¹å…¶ä»–çº¿ç¨‹äº§ç”Ÿå½±å“ã€‚ ThreadLocal() : åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æœ¬åœ°å˜é‡ get() : è¿”å›žæ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼ initialValue() : è¿”å›žæ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹çš„&quot;åˆå§‹å€¼&quot; set(T value) : å°†æ­¤çº¿ç¨‹å±€éƒ¨å˜é‡çš„å½“å‰çº¿ç¨‹å‰¯æœ¬ä¸­çš„å€¼è®¾ç½®ä¸ºvalue LinkedBlockingQueueä¸ŽArrayBlockingQueue: Javaå¹¶å‘ä¸­é˜»å¡žé˜Ÿåˆ— ------------------------------------------------- ------------------------------------------------- å›¾å½¢ç¼–ç¨‹ï¼š hencoder.com ----&gt; å¤´2ç«  ------------------------------------------------- ------------------------------------------------- ç½‘ç»œç¼–ç¨‹: TCPï¼š TCP æ˜¯ä¼ è¾“æŽ§åˆ¶åè®®çš„ç¼©å†™ï¼Œå®ƒä¿éšœäº†ä¸¤ä¸ªåº”ç”¨ç¨‹åºä¹‹é—´çš„å¯é é€šä¿¡ã€‚é€šå¸¸ç”¨äºŽäº’è”ç½‘åè®®ï¼Œè¢«ç§° TCP / IPã€‚ UDPï¼š UDP æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®çš„ç¼©å†™ï¼Œä¸€ä¸ªæ— è¿žæŽ¥çš„åè®®ã€‚æä¾›äº†åº”ç”¨ç¨‹åºä¹‹é—´è¦å‘é€çš„æ•°æ®çš„æ•°æ®åŒ…ã€‚ ä»¥ä¸Šä¸¤ä¸ªå¤ªç‰¹ä¹ˆéš¾äº†ï¼Œä¸æ•´äº† Socket ç¼–ç¨‹: ç½‘ç»œä¸Šçš„ä¸¤ä¸ªç¨‹åºé€šè¿‡ä¸€ä¸ªåŒå‘çš„é€šè®¯è¿žæŽ¥å®žçŽ°æ•°æ®çš„äº¤æ¢ï¼Œè¿™ä¸ªåŒå‘é“¾è·¯çš„ä¸€ç«¯ç§°ä¸ºä¸€ä¸ªSocketã€‚Socketé€šå¸¸ç”¨æ¥å®žçŽ°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è¿žæŽ¥ã€‚Socketæ˜¯TCP/IPåè®®çš„ä¸€ä¸ªååˆ†æµè¡Œçš„ç¼–ç¨‹å®žçŽ°ï¼Œä¸€ä¸ªSocketç”±ä¸€ä¸ªIPåœ°å€å’Œä¸€ä¸ªç«¯å£å·å”¯ä¸€ç¡®å®šã€‚ ä½†æ˜¯ï¼ŒSocketæ‰€æ”¯æŒçš„åè®®ç§ç±»ä¹Ÿä¸å…‰TCP/IPä¸€ç§ï¼Œå› æ­¤ä¸¤è€…ä¹‹é—´æ˜¯æ²¡æœ‰å¿…ç„¶è”ç³»çš„ã€‚åœ¨JavaçŽ¯å¢ƒä¸‹ï¼ŒSocketç¼–ç¨‹ä¸»è¦æ˜¯æŒ‡åŸºäºŽTCP/IPåè®®çš„ç½‘ç»œç¼–ç¨‹ã€‚ Serverç«¯Listen(ç›‘å¬)æŸä¸ªç«¯å£æ˜¯å¦æœ‰è¿žæŽ¥è¯·æ±‚ï¼ŒClientç«¯å‘Serverç«¯å‘å‡ºConnect(è¿žæŽ¥)è¯·æ±‚ï¼ŒServerç«¯å‘Clientç«¯å‘å›žAcceptï¼ˆæŽ¥å—ï¼‰æ¶ˆæ¯ã€‚ä¸€ä¸ªè¿žæŽ¥å°±å»ºç«‹èµ·æ¥äº†ã€‚Serverç«¯å’ŒClient ç«¯éƒ½å¯ä»¥é€šè¿‡Sendï¼ŒWriteç­‰æ–¹æ³•ä¸Žå¯¹æ–¹é€šä¿¡ã€‚ å¯¹äºŽä¸€ä¸ªåŠŸèƒ½é½å…¨çš„Socketï¼Œéƒ½è¦åŒ…å«ä»¥ä¸‹åŸºæœ¬ç»“æž„ï¼Œå…¶å·¥ä½œè¿‡ç¨‹åŒ…å«ä»¥ä¸‹å››ä¸ªåŸºæœ¬çš„æ­¥éª¤ï¼š ï¼ˆ1ï¼‰ åˆ›å»ºSocketï¼› ï¼ˆ2ï¼‰ æ‰“å¼€è¿žæŽ¥åˆ°Socketçš„è¾“å…¥/å‡ºæµï¼› ï¼ˆ3ï¼‰ æŒ‰ç…§ä¸€å®šçš„åè®®å¯¹Socketè¿›è¡Œè¯»å†™æ“ä½œï¼› ï¼ˆ4ï¼‰ å…³é—­Socketã€‚ 6.åŠ¨ç”»ã€é¡µé¢ä¼˜åŒ– xmlåŠ¨ç”»ï¼ˆalphaã€scaleã€translateã€rotateã€setï¼‰ï¼š scale(fromXScaleã€toXScaleã€fromYscaleã€pivotX:&apos; 50ã€50%ã€50%p&apos;); alpha; rotate; translate; set; Interpolator æ’å€¼å™¨(ç³»ç»Ÿé»˜è®¤): AccelerateDecelerateInterpolator åœ¨åŠ¨ç”»å¼€å§‹ä¸Žä»‹ç»çš„åœ°æ–¹é€ŸçŽ‡æ”¹å˜æ¯”è¾ƒæ…¢ï¼Œåœ¨ä¸­é—´çš„æ—¶å€™åŠ é€Ÿ AccelerateInterpolator åœ¨åŠ¨ç”»å¼€å§‹çš„åœ°æ–¹é€ŸçŽ‡æ”¹å˜æ¯”è¾ƒæ…¢ï¼Œç„¶åŽå¼€å§‹åŠ é€Ÿ AnticipateInterpolator å¼€å§‹çš„æ—¶å€™å‘åŽç„¶åŽå‘å‰ç”© AnticipateOvershootInterpolator å¼€å§‹çš„æ—¶å€™å‘åŽç„¶åŽå‘å‰ç”©ä¸€å®šå€¼åŽè¿”å›žæœ€åŽçš„å€¼ BounceInterpolator åŠ¨ç”»ç»“æŸçš„æ—¶å€™å¼¹èµ· CycleInterpolator åŠ¨ç”»å¾ªçŽ¯æ’­æ”¾ç‰¹å®šçš„æ¬¡æ•°ï¼Œé€ŸçŽ‡æ”¹å˜æ²¿ç€æ­£å¼¦æ›²çº¿ DecelerateInterpolator åœ¨åŠ¨ç”»å¼€å§‹çš„åœ°æ–¹å¿«ç„¶åŽæ…¢ LinearInterpolator ä»¥å¸¸é‡é€ŸçŽ‡æ”¹å˜ OvershootInterpolator å‘å‰ç”©ä¸€å®šå€¼åŽå†å›žåˆ°åŽŸæ¥ä½ç½® ä»£ç ç”ŸæˆåŠ¨ç”»ï¼ˆAnimationçš„å­ç±»å®žçŽ°ï¼‰ï¼š ä¸åŒçš„æž„é€ å‚æ•°ä»£è¡¨å®žçŽ°åŠ¨ç”»çš„ä¸åŒå±žæ€§ï¼Œéœ€è¦é’ˆå¯¹åŽ»æŸ¥çœ‹ å±žæ€§åŠ¨ç”»ï¼ˆProperty Animator åŒ…æ‹¬ ValueAnimator å’Œ ObjectAnimatorï¼‰ï¼š ValueAnimatorï¼š TimeInterpolator: å®žçŽ°è‡ªå®šä¹‰æ’å€¼å™¨ Evaluatorï¼ˆ ç»§æ‰¿ TypeEvaluatorï¼‰ï¼š åŠ¨ç”»è¿›åº¦çš„æ•°å€¼è½¬æ¢ ArgbEvalutorï¼š é¢œè‰²æ•°å€¼è½¬æ¢å™¨ PointEvaluator ï¼š Pointç‚¹å€¼è¿”å›ž ofObject: å¯¹è±¡ ObjectAnimatorï¼ˆæ´¾ç”Ÿè‡ª ValueAnimatorï¼Œèƒ½ç”¨ä»–çš„æ‰€æœ‰æ–¹æ³•ï¼‰: public static ObjectAnimator ofFloat(Object target, String propertyName, float... values) å®žçŽ°æ–¹æ³•ï¼› alpha,rotaion(rotationã€rotationXã€rotationY),translate(translationXã€translationY),scale(scaleXã€scaleY)æ˜¯ç¬¬äºŒä¸ªå‚æ•°çš„å€¼ï¼Œèƒ½å¤Ÿç›´æŽ¥å®žçŽ°çš„åŠ¨ç”»æ•ˆæžœï¼› è‡ªå®šä¹‰ObjectAnimatorä¸»è¦æ˜¯èƒ½å¤Ÿå®žçŽ°ç¬¬äºŒä¸ªå‚æ•°çš„seteræ–¹å¼è¦åç§°ä¸€è‡´ï¼ˆ&quot;big&quot;--&gt;setBig(value)ï¼‰ï¼› PropertyValuesHolderï¼ˆObjectAnimator.ofPropertyValuesHolderï¼ˆ...ï¼‰ï¼‰: æŽ§åˆ¶è§†å›¾çš„å•ä¸ªå±žæ€§ï¼Œä¼ å¦‚å¤šä¸ªèƒ½å¤ŸæŽ§åˆ¶å¤šç§å±žæ€§å˜æ¢ã€‚ Keyframe(å…³é”®å¸§ï¼Œåœ¨æŸä¸€æ—¶é—´çš„åœç•™ä½ç½®çŠ¶æ€ï¼Œä¸ºäº†ç…§é¡¾æˆ‘ç­‰ä¸ä¼šè®¡ç®—çš„äºº)ï¼š PropertyValuesHolder ofKeyframe(String propertyName, Keyframe... values)ï¼› åˆ©ç”¨å…³é”®å¸§åˆ›å»º PropertyValuesHolder åŽï¼Œä¸€å®šè¦è®°å¾—è®¾ç½®è‡ªå®šä¹‰çš„ Evaluatorï¼›ofObject æ¥åšåŠ¨ç”»çš„æ—¶å€™ï¼Œéƒ½å¿…é¡»è°ƒç”¨ frameHolder.setEvaluator æ˜¾ç¤ºè®¾ç½® Evaluator LayoutAnimationï¼š xmlé…ç½®æœ‰æ•ˆçš„å­—æ®µï¼š delayï¼ˆanimationåŠ¨ç”»çš„å€æ•°ï¼‰ã€ animationOrderï¼ˆé¡ºåº normalã€reverseã€randomï¼‰ã€ animation GridLayoutAnimationï¼š rowDelayï¼ˆæ¯ä¸€è¡ŒåŠ¨ç”»å¼€å§‹çš„å»¶è¿Ÿï¼‰ã€ columnDelayï¼ˆæ¯ä¸€åˆ—åŠ¨ç”»å¼€å§‹çš„å»¶è¿Ÿï¼‰ã€ directionPriorityï¼ˆæ–¹å‘ä¼˜å…ˆçº§ã€‚å–å€¼ä¸º row,collumn,noneï¼‰ã€directionï¼ˆleft_to_rightï¼šåˆ—ï¼Œä»Žå·¦å‘å³å¼€å§‹åŠ¨ç”» right_to_left ï¼šåˆ—ï¼Œä»Žå³å‘å·¦å¼€å§‹åŠ¨ç”» top_to_bottomï¼šè¡Œï¼Œä»Žä¸Šå‘ä¸‹å¼€å§‹åŠ¨ç”» bottom_to_topï¼šè¡Œï¼Œä»Žä¸‹å‘ä¸Šå¼€å§‹åŠ¨ç”»ï¼‰ã€ animationï¼› animateLayoutChangesï¼ˆapi &gt;= 11ï¼‰ï¼š ä»¥ä¸Š2ç§çš„åŠ¨ç”»åªæ˜¯åœ¨åˆ›å»ºçš„æ—¶å€™ç¬¬ä¸€æ¬¡æ‰ä¼šæœ‰åŠ¨ç”»ï¼Œå†æ·»åŠ æ•°æ®ä¸ä¼šæœ‰åŠ¨ç”»å‡ºçŽ°ï¼› è®¾ç½®ä¸ºtrue; LayoutTransaction: ç”¨æ¥æ·»åŠ è‡ªå®šä¹‰åŠ¨ç”»ï¼Œå¦åˆ™animateLayoutChangesåªæ˜¯æ˜¾ç¤ºé»˜è®¤çš„åŠ¨ç”»ï¼› LayoutTransaction transitioner = new LayoutTransition(); ObjectAnimator animOut = ObjectAnimator.ofFloat(null, &quot;rotation&quot;, 0f, 90f, 0f); transitioner.setAnimator(LayoutTransition.DISAPPEARING, animOut); int transitionTypeï¼šè¡¨ç¤ºå½“å‰åº”ç”¨åŠ¨ç”»çš„å¯¹è±¡èŒƒå›´ï¼Œå–å€¼æœ‰ï¼š APPEARING â€”â€” å…ƒç´ åœ¨å®¹å™¨ä¸­å‡ºçŽ°æ—¶æ‰€å®šä¹‰çš„åŠ¨ç”»ã€‚ DISAPPEARING â€”â€” å…ƒç´ åœ¨å®¹å™¨ä¸­æ¶ˆå¤±æ—¶æ‰€å®šä¹‰çš„åŠ¨ç”»ã€‚ CHANGE_APPEARING â€”â€” ç”±äºŽå®¹å™¨ä¸­è¦æ˜¾çŽ°ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œå…¶å®ƒéœ€è¦å˜åŒ–çš„å…ƒç´ æ‰€åº”ç”¨çš„åŠ¨ç”» CHANGE_DISAPPEARING â€”â€” å½“å®¹å™¨ä¸­æŸä¸ªå…ƒç´ æ¶ˆå¤±ï¼Œå…¶å®ƒéœ€è¦å˜åŒ–çš„å…ƒç´ æ‰€åº”ç”¨çš„åŠ¨ç”» 7.jsã€ES6ã€html5 ES6ï¼š æ–°ç‰¹æ€§ï¼š å˜é‡å£°æ˜Žconstå’Œletï¼š ä¹‹å‰ä½¿ç”¨varå…³é”®å­—ç”Ÿiæ²¡é‚£ä¸ªå˜é‡ï¼Œæ— è®ºå£°æ˜Žåœ¨ä½•å¤„ï¼Œéƒ½ä¼šè§†ä¸ºå£°æ˜Žåœ¨å‡½æ•°çš„æœ€é¡¶ç«¯ï¼Œä¸åœ¨å‡½æ•°å†…ï¼Œæ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸçš„æœ€é¡¶ç«¯ï¼Œes6åŽleyè¡¨ç¤ºå˜é‡ï¼Œconstè¡¨ç¤ºå¸¸é‡ï¼Œletå’Œconstéƒ½æ˜¯å—çº§ä½œç”¨åŸŸï¼ˆå‡½æ•°å†…éƒ¨ã€æˆ–ä¸€ä¸ªä»£ç å—å†…éƒ¨ï¼Œ{}ï¼‰ï¼Œconstæ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œåªè¦æ˜¯æŒ‡å‘å¾—åœ°å€æ²¡æ”¹å˜å°±è¡Œï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å¾—å€¼æ”¹å˜èƒ½å¤ŸæŽ¥å—ï¼› æ¨¡æ¿å­—ç¬¦ä¸²ï¼š å­—ç¬¦ä¸²ä¸­ä½¿ç”¨${name}è¿›è¡Œæ ¼å¼åŒ–ï¼Œ``åå¼•å·æ¢è¡Œæ‹¼æŽ¥`************`,includes(),repeat(),startsWith(),endsWidth(); å‡½æ•°é»˜è®¤å‚æ•°ï¼š function action(num = 200){}ï¼› å‡½æ•°ç®­å¤´å‡½æ•°ï¼š ä¸éœ€è¦functionå…³é”®å­—æ¥åˆ›å»ºå‡½æ•°ï¼› çœç•¥return å…³é”®å­—ï¼› ç»§æ‰¿å½“å‰ä¸Šä¸‹æ–‡å¾—thiså…³é”®å­—ï¼› è·Ÿjavaå¾—å·®ä¸å¤š æ‰©å±•å¾—å¯¹è±¡åŠŸèƒ½ï¼š å¯¹è±¡åˆå§‹åŒ–ç®€å†™ï¼šfunction person(name,age){ return{name,age}; }; Object.assign(),æµ…æ‹·è´ æ•°æ®è®¿é—®ç»“æž„ï¼š const(name,age)= pserson; Spread Operatorå±•å¼€è¿ç®—ç¬¦ï¼š ä¸‰ä¸ªç‚¹ï¼š...; const color = [&apos;red&apos;, &apos;yellow&apos;] const colorful = [...color, &apos;green&apos;, &apos;pink&apos;] æˆ– const number = [1,2,3,4,5] const [first, ...rest] = number importå’Œexportï¼š å¯¼å…¥æ¨¡å—å’Œå¯¼å‡ºæ¨¡å—ï¼š //å…¨éƒ¨å¯¼å…¥ import people from &apos;./example&apos; //æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå³å…è®¸ä½ å°†æ•´ä¸ªæ¨¡å—å½“ä½œå•ä¸€å¯¹è±¡è¿›è¡Œå¯¼å…¥ //è¯¥æ¨¡å—çš„æ‰€æœ‰å¯¼å‡ºéƒ½ä¼šä½œä¸ºå¯¹è±¡çš„å±žæ€§å­˜åœ¨ import * as example from &quot;./example.js&quot; //å¯¼å…¥éƒ¨åˆ† import {name, age} from &apos;./example&apos; // å¯¼å‡ºé»˜è®¤, æœ‰ä¸”åªæœ‰ä¸€ä¸ªé»˜è®¤ export default App // éƒ¨åˆ†å¯¼å‡º export class App extend Component {}; 1.å½“ç”¨export default peopleå¯¼å‡ºæ—¶ï¼Œå°±ç”¨ import people å¯¼å…¥ï¼ˆä¸å¸¦å¤§æ‹¬å·ï¼‰ 2.ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªexport defaultã€‚ä½†å¯ä»¥æœ‰å¤šä¸ªexportã€‚ 3.å½“ç”¨export name æ—¶ï¼Œå°±ç”¨import { name }å¯¼å…¥ï¼ˆè®°å¾—å¸¦ä¸Šå¤§æ‹¬å·ï¼‰ 4.å½“ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œæ—¢æœ‰ä¸€ä¸ªexport default people, åˆæœ‰å¤šä¸ªexport name æˆ–è€… export ageæ—¶ï¼Œå¯¼å…¥å°±ç”¨ import people, { name, age } 5.å½“ä¸€ä¸ªæ–‡ä»¶é‡Œå‡ºçŽ°nå¤šä¸ª export å¯¼å‡ºå¾ˆå¤šæ¨¡å—ï¼Œå¯¼å…¥æ—¶é™¤äº†ä¸€ä¸ªä¸€ä¸ªå¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ç”¨import * as example Promiseï¼š åŒæ­¥çš„æ–¹å¼åŽ»å†™å¼‚æ­¥ä»£ç ã€‚ Generatorsï¼š ç”Ÿæˆå™¨ï¼ˆ generatorï¼‰æ˜¯èƒ½è¿”å›žä¸€ä¸ªè¿­ä»£å™¨çš„å‡½æ•°ã€‚ç”Ÿæˆå™¨å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å‡½æ•°ï¼Œæœ€ç›´è§‚çš„è¡¨çŽ°å°±æ˜¯æ¯”æ™®é€šçš„functionå¤šäº†ä¸ªæ˜Ÿå·*ï¼Œåœ¨å…¶å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨yieldå…³é”®å­—,æœ‰æ„æ€çš„æ˜¯å‡½æ•°ä¼šåœ¨æ¯ä¸ªyieldåŽæš‚åœã€‚ å½“ä½ è°ƒç”¨ä¸€ä¸ªgeneratoræ—¶ï¼Œå®ƒå°†è¿”å›žä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ã€‚è¿™ä¸ªè¿­ä»£å™¨å¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªå«åšnextçš„æ–¹æ³•æ¥å¸®åŠ©ä½ é‡å¯generatorå‡½æ•°å¹¶å¾—åˆ°ä¸‹ä¸€ä¸ªå€¼ã€‚nextæ–¹æ³•ä¸ä»…è¿”å›žå€¼ï¼Œå®ƒè¿”å›žçš„å¯¹è±¡å…·æœ‰ä¸¤ä¸ªå±žæ€§ï¼šdoneå’Œvalueã€‚valueæ˜¯ä½ èŽ·å¾—çš„å€¼ï¼Œdoneç”¨æ¥è¡¨æ˜Žä½ çš„generatoræ˜¯å¦å·²ç»åœæ­¢æä¾›å€¼ã€‚ç»§ç»­ç”¨åˆšåˆšå–ç¥¨çš„ä¾‹å­ï¼Œæ¯å¼ æŽ’é˜Ÿå·å°±æ˜¯è¿™é‡Œçš„valueï¼Œæ‰“å°ç¥¨çš„çº¸æ˜¯å¦ç”¨å®Œå°±è¿™æ˜¯è¿™é‡Œçš„doneã€‚ // ç”Ÿæˆå™¨ function *createIterator() { yield 1; yield 2; yield 3; } // ç”Ÿæˆå™¨èƒ½åƒæ­£è§„å‡½æ•°é‚£æ ·è¢«è°ƒç”¨ï¼Œä½†ä¼šè¿”å›žä¸€ä¸ªè¿­ä»£å™¨ let iterator = createIterator(); console.log(iterator.next().value); // 1 console.log(iterator.next().value); // 2 console.log(iterator.next().value); // 3 Proxies: ä»£ç†ï¼Œç›‘å¬æ•°æ®å¯¹è±¡å˜åŒ–ã€‚ 8.åŒºå—é“¾ åŽ»ä¸­å¿ƒåŒ–ï¼Œæ¦‚çŽ‡å€¼è¶Šå¤§è¶Šä¸å®¹æ˜“èŽ·å–ï¼Œsha64 9.httpåè®® å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œè¯·æ±‚å¤´åŒ…å«è¯·æ±‚çš„æ–¹æ³•ã€URLã€åè®®ç‰ˆæœ¬ã€ä»¥åŠåŒ…å«è¯·æ±‚ä¿®é¥°ç¬¦ã€å®¢æˆ·ä¿¡æ¯å’Œå†…å®¹çš„ç±»ä¼¼äºŽMIMEçš„æ¶ˆæ¯ç»“æž„ã€‚æœåŠ¡å™¨ä»¥ä¸€ä¸ªçŠ¶æ€è¡Œä½œä¸ºå“åº”ï¼Œå“åº”çš„å†…å®¹åŒ…æ‹¬æ¶ˆæ¯åè®®çš„ç‰ˆæœ¬ï¼ŒæˆåŠŸæˆ–è€…é”™è¯¯ç¼–ç åŠ ä¸ŠåŒ…å«æœåŠ¡å™¨ä¿¡æ¯ã€å®žä½“å…ƒä¿¡æ¯ä»¥åŠå¯èƒ½çš„å®žä½“å†…å®¹ã€‚ é€šç”¨å¤´åŸŸï¼š Cache-Control: è¯·æ±‚æ—¶çš„ç¼“å­˜æŒ‡ä»¤åŒ…æ‹¬no-cacheã€no-storeã€max-ageã€max-staleã€min-freshã€only-if-cached; å“åº”æ¶ˆæ¯ä¸­çš„æŒ‡ä»¤åŒ…æ‹¬publicã€privateã€no-cacheã€no-storeã€no-transformã€must-revalidateã€proxy-revalidateã€max-ageã€‚ Keep-Alive: KeepAliveTime:éªŒè¯è¿žæŽ¥æœ‰æ•ˆçš„é¢‘çŽ‡ã€‚ Dateï¼š æ¶ˆæ¯å‘é€çš„æ—¶é—´ã€‚ Pragmaï¼š åŒ…å«å®žçŽ°ç‰¹å®šçš„æŒ‡ä»¤ è¯·æ±‚æ¶ˆæ¯ï¼š è¯·æ±‚å¤´åŸŸå¯èƒ½åŒ…å«ä¸‹åˆ—å­—æ®µAcceptã€Accept-Charsetã€Accept-Encodingã€Accept-Languageã€Authorizationã€Fromã€Hostã€If-Modified-Sinceã€If-Matchã€If-None-Matchã€If-Rangeã€If-Rangeã€If-Unmodified-Sinceã€Max-Forwardsã€Proxy-Authorizationã€Rangeã€Refererã€User-Agentã€‚å¯¹è¯·æ±‚å¤´åŸŸçš„æ‰©å±•è¦æ±‚é€šè®¯åŒæ–¹éƒ½æ”¯æŒï¼Œå¦‚æžœå­˜åœ¨ä¸æ”¯æŒçš„è¯·æ±‚å¤´åŸŸï¼Œä¸€èˆ¬å°†ä¼šä½œä¸ºå®žä½“å¤´åŸŸå¤„ç†ã€‚ ç›¸åº”æ¶ˆæ¯ï¼š codeå€¼çš„è¿”å›žçŠ¶æ€æ„ä¹‰--&gt; 1xx:ä¿¡æ¯å“åº”ç±»ï¼Œè¡¨ç¤ºæŽ¥æ”¶åˆ°è¯·æ±‚å¹¶ä¸”ç»§ç»­å¤„ç† 2xx:å¤„ç†æˆåŠŸå“åº”ç±»ï¼Œè¡¨ç¤ºåŠ¨ä½œè¢«æˆåŠŸæŽ¥æ”¶ã€ç†è§£å’ŒæŽ¥å— 3xx:é‡å®šå‘å“åº”ç±»ï¼Œä¸ºäº†å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œå¿…é¡»æŽ¥å—è¿›ä¸€æ­¥å¤„ç† 4xx:å®¢æˆ·ç«¯é”™è¯¯ï¼Œå®¢æˆ·è¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–è€…æ˜¯ä¸èƒ½æ­£ç¡®æ‰§è¡Œ 5xx:æœåŠ¡ç«¯é”™è¯¯ï¼ŒæœåŠ¡å™¨ä¸èƒ½æ­£ç¡®æ‰§è¡Œä¸€ä¸ªæ­£ç¡®çš„è¯·æ±‚ Locationå“åº”å¤´: Locationå“åº”å¤´ç”¨äºŽé‡å®šå‘æŽ¥æ”¶è€…åˆ°ä¸€ä¸ªæ–°URIåœ°å€ã€‚ Serverå“åº”å¤´: Serverå“åº”å¤´åŒ…å«å¤„ç†è¯·æ±‚çš„åŽŸå§‹æœåŠ¡å™¨çš„è½¯ä»¶ä¿¡æ¯ã€‚æ­¤åŸŸèƒ½åŒ…å«å¤šä¸ªäº§å“æ ‡è¯†å’Œæ³¨é‡Šï¼Œäº§å“æ ‡è¯†ä¸€èˆ¬æŒ‰ç…§é‡è¦æ€§æŽ’åºã€‚ å®žä½“ä¿¡æ¯: è¯·æ±‚æ¶ˆæ¯å’Œå“åº”æ¶ˆæ¯éƒ½å¯ä»¥åŒ…å«å®žä½“ä¿¡æ¯ï¼Œå®žä½“ä¿¡æ¯ä¸€èˆ¬ç”±å®žä½“å¤´åŸŸå’Œå®žä½“ç»„æˆã€‚å®žä½“å¤´åŸŸåŒ…å«å…³äºŽå®žä½“çš„åŽŸä¿¡æ¯ï¼Œå®žä½“å¤´åŒ…æ‹¬Allowã€Content-Baseã€Content-Encodingã€Content-Languageã€Content-Lengthã€Content-Locationã€Content-MD5ã€Content-Rangeã€Content-Typeã€Etagã€Expiresã€Last-Modifiedã€extension-headerã€‚extension-headerå…è®¸å®¢æˆ·ç«¯å®šä¹‰æ–°çš„å®žä½“å¤´ï¼Œä½†æ˜¯è¿™äº›åŸŸå¯èƒ½æ— æ³•è¢«æŽ¥å—æ–¹è¯†åˆ«ã€‚å®žä½“å¯ä»¥æ˜¯ä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—èŠ‚æµï¼Œå®ƒçš„ç¼–ç æ–¹å¼ç”±Content-Encodingæˆ–Content-Typeå®šä¹‰ï¼Œå®ƒçš„é•¿åº¦ç”±Content-Lengthæˆ–Content-Rangeå®šä¹‰ã€‚ Content-Typeå®žä½“å¤´: Content-Typeå®žä½“å¤´ç”¨äºŽå‘æŽ¥æ”¶æ–¹æŒ‡ç¤ºå®žä½“çš„ä»‹è´¨ç±»åž‹ï¼ŒæŒ‡å®šHEADæ–¹æ³•é€åˆ°æŽ¥æ”¶æ–¹çš„å®žä½“ä»‹è´¨ç±»åž‹ï¼Œæˆ–GETæ–¹æ³•å‘é€çš„è¯·æ±‚ä»‹è´¨ç±»åž‹ Content-Rangeå®žä½“å¤´ Content-Rangeå®žä½“å¤´ç”¨äºŽæŒ‡å®šæ•´ä¸ªå®žä½“ä¸­çš„ä¸€éƒ¨åˆ†çš„æ’å…¥ä½ç½®ï¼Œä»–ä¹ŸæŒ‡ç¤ºäº†æ•´ä¸ªå®žä½“çš„é•¿åº¦ã€‚åœ¨æœåŠ¡å™¨å‘å®¢æˆ·è¿”å›žä¸€ä¸ªéƒ¨åˆ†å“åº”ï¼Œå®ƒå¿…é¡»æè¿°å“åº”è¦†ç›–çš„èŒƒå›´å’Œæ•´ä¸ªå®žä½“é•¿åº¦ã€‚ä¸€èˆ¬æ ¼å¼ï¼š Content-Range:bytes-unitSPfirst-byte-pos-last-byte-pos/entity-legth 10.websocketï¼ˆjsï¼‰ æœåŠ¡å™¨å¯ä»¥ä¸»åŠ¨å‘å®¢æˆ·ç«¯æŽ¨é€ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥ä¸»åŠ¨å‘æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œæ˜¯çœŸæ­£çš„åŒå‘å¹³ç­‰å¯¹è¯ï¼Œå±žäºŽæœåŠ¡å™¨æŽ¨é€æŠ€æœ¯çš„ä¸€ç§ã€‚ 1.å»ºç«‹åœ¨ TCP åè®®ä¹‹ä¸Šï¼ŒæœåŠ¡å™¨ç«¯çš„å®žçŽ°æ¯”è¾ƒå®¹æ˜“ã€‚ 2.ä¸ŽHTTPåè®®æœ‰ç€è‰¯å¥½çš„å…¼å®¹æ€§ã€‚é»˜è®¤ç«¯å£ä¹Ÿæ˜¯80å’Œ443ï¼Œå¹¶ä¸”æ¡æ‰‹é˜¶æ®µé‡‡ç”¨ HTTP åè®®ï¼Œå› æ­¤æ¡æ‰‹æ—¶ä¸å®¹æ˜“å±è”½ï¼Œèƒ½é€šè¿‡å„ç§ HTTP ä»£ç†æœåŠ¡å™¨ã€‚ 3.æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€å°ï¼Œé€šä¿¡é«˜æ•ˆã€‚ 4.å¯ä»¥å‘é€æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥å‘é€äºŒè¿›åˆ¶æ•°æ®ã€‚ 5.æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸Žä»»æ„æœåŠ¡å™¨é€šä¿¡ã€‚ 6.åè®®æ ‡è¯†ç¬¦æ˜¯wsï¼ˆå¦‚æžœåŠ å¯†ï¼Œåˆ™ä¸ºwssï¼‰ï¼ŒæœåŠ¡å™¨ç½‘å€å°±æ˜¯ URLã€‚ var Socket = new WebSocket(url, [protocol] ); open Socket.onopen è¿žæŽ¥å»ºç«‹æ—¶è§¦å‘ message Socket.onmessage å®¢æˆ·ç«¯æŽ¥æ”¶æœåŠ¡ç«¯æ•°æ®æ—¶è§¦å‘ error Socket.onerror é€šä¿¡å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ close Socket.onclose è¿žæŽ¥å…³é—­æ—¶è§¦å‘ 11.RESTful 1.Restæž¶æž„çš„ä¸»è¦åŽŸåˆ™ ç½‘ç»œä¸Šçš„æ‰€æœ‰äº‹ç‰©éƒ½è¢«æŠ½è±¡ä¸ºèµ„æº æ¯ä¸ªèµ„æºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„èµ„æºæ ‡è¯†ç¬¦ åŒä¸€ä¸ªèµ„æºå…·æœ‰å¤šç§è¡¨çŽ°å½¢å¼(xml,jsonç­‰) å¯¹èµ„æºçš„å„ç§æ“ä½œä¸ä¼šæ”¹å˜èµ„æºæ ‡è¯†ç¬¦ æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯æ— çŠ¶æ€çš„ ç¬¦åˆRESTåŽŸåˆ™çš„æž¶æž„æ–¹å¼å³å¯ç§°ä¸ºRESTful 12.react13.glide14.LeakCanary15.dexclassloader16.Android çƒ­æ›´æ–° classloaderï¼š æ’ä»¶åŒ–è¿˜æ˜¯ç»„ä»¶åŒ–ï¼Œéƒ½æ˜¯åŸºäºŽç³»ç»Ÿçš„ClassLoaderæ¥è®¾è®¡çš„ã€‚åªä¸è¿‡Androidå¹³å°ä¸Šè™šæ‹Ÿæœºè¿è¡Œçš„æ˜¯Dexå­—èŠ‚ç ,ä¸€ç§å¯¹classæ–‡ä»¶ä¼˜åŒ–çš„äº§ç‰©,ä¼ ç»ŸClassæ–‡ä»¶æ˜¯ä¸€ä¸ªJavaæºç æ–‡ä»¶ä¼šç”Ÿæˆä¸€ä¸ª.classæ–‡ä»¶ï¼Œè€ŒAndroidæ˜¯æŠŠæ‰€æœ‰Classæ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼Œä¼˜åŒ–ï¼Œç„¶åŽç”Ÿæˆä¸€ä¸ªæœ€ç»ˆçš„class.dex,ç›®çš„æ˜¯æŠŠä¸åŒclassæ–‡ä»¶é‡å¤çš„ä¸œè¥¿åªéœ€ä¿ç•™ä¸€ä»½,å¦‚æžœæˆ‘ä»¬çš„Androidåº”ç”¨ä¸è¿›è¡Œåˆ†dexå¤„ç†,æœ€åŽä¸€ä¸ªåº”ç”¨çš„apkåªä¼šæœ‰ä¸€ä¸ªdexæ–‡ä»¶ã€‚ Androidä¸­çš„ClassLoaderï¼š BootClassLoaderã€URLClassLoaderã€PathClassLoaderã€DexClassLoaderã€DexClassLoaderã€BaseDexClassLoaderï¼Œå…¨éƒ¨ç»§æ‰¿è‡ªClassLoaderï¼› Androidä¸­é»˜è®¤æ— çˆ¶æž„é€ å™¨çš„ä¼ å…¥æƒ…å†µä¸‹ï¼Œé»˜è®¤çˆ¶æž„é€ å™¨æ˜¯ä¸€ä¸ªPathClassLoaderï¼Œè¯¥ç±»çš„çˆ¶æž„é€ å™¨æ˜¯BootClassLoaderï¼Œä¸»è¦æ–¹æ³•ä¸ºloadClassï¼ˆString className,boolean resolveï¼‰åŠ è½½ç±»ï¼Œå¦‚æžœç±»æ˜¯é‡å¤çš„å°±ä¸ä¼šå¯¹ç±»è¿›è¡ŒåŠ è½½ã€‚ BootClassLoaderï¼š ä¸ŽJavaè™šæ‹Ÿæœºä¸­ä¸åŒçš„æ˜¯BootClassLoaderæ˜¯ClassLoaderçš„å†…éƒ¨ç±»ï¼Œç”±javaå®žçŽ°ï¼ŒAndroidä¸­çš„classLoaderçš„æœ€ç»ˆçˆ¶ç±»ï¼Œå†…éƒ¨ç±»ä¸å¯è§ã€‚ URLClassLoader: åŠ è½½jaræ–‡ä»¶ï¼Œç”±äºŽdalvikä¸èƒ½ç›´æŽ¥è¯†åˆ«jarï¼Œåœ¨Androidä¸­æ— æ³•ä½¿ç”¨è¿™ä¸ªåŠ è½½å™¨ã€‚ BaseDexClassLoaderï¼š PathClassLoaderä¸ŽDexClassLoaderéƒ½ç»§æ‰¿è‡ªBaseDexClassLoaderï¼Œä¸»è¦é€»è¾‘æ˜¯åœ¨BaseDexClassLoaderä¸­å®Œæˆã€‚ å››ä¸ªå‚æ•°ï¼š dexPath,æŒ‡ç›®æ ‡ç±»æ‰€åœ¨çš„APKæˆ–jaræ–‡ä»¶çš„è·¯å¾„,ç±»è£…è½½å™¨å°†ä»Žè¯¥è·¯å¾„ä¸­å¯»æ‰¾æŒ‡å®šçš„ç›®æ ‡ç±»,è¯¥ç±»å¿…é¡»æ˜¯APKæˆ–jarçš„å…¨è·¯å¾„.å¦‚æžœè¦åŒ…å«å¤šä¸ªè·¯å¾„,è·¯å¾„ä¹‹é—´å¿…é¡»ä½¿ç”¨ç‰¹å®šçš„åˆ†å‰²ç¬¦åˆ†éš”,ç‰¹å®šçš„åˆ†å‰²ç¬¦å¯ä»¥ä½¿ç”¨System.getProperty(â€œpath.separtorâ€)èŽ·å¾—ã€‚ä¸Šé¢&quot;æ”¯æŒåŠ è½½APKã€DEXå’ŒJARï¼Œä¹Ÿå¯ä»¥ä»ŽSDå¡è¿›è¡ŒåŠ è½½&quot;æŒ‡çš„å°±æ˜¯è¿™ä¸ªè·¯å¾„ï¼Œæœ€ç»ˆåšçš„æ˜¯å°†dexPathè·¯å¾„ä¸Šçš„æ–‡ä»¶ODEXä¼˜åŒ–åˆ°å†…éƒ¨ä½ç½®optimizedDirectoryï¼Œç„¶åŽï¼Œå†è¿›è¡ŒåŠ è½½çš„ã€‚ File optimizedDirectory,ç”±äºŽdexæ–‡ä»¶è¢«åŒ…å«åœ¨APKæˆ–è€…Jaræ–‡ä»¶ä¸­,å› æ­¤åœ¨è£…è½½ç›®æ ‡ç±»ä¹‹å‰éœ€è¦å…ˆä»ŽAPKæˆ–Jaræ–‡ä»¶ä¸­è§£åŽ‹å‡ºdexæ–‡ä»¶,è¯¥å‚æ•°å°±æ˜¯åˆ¶å®šè§£åŽ‹å‡ºçš„dex æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„ã€‚è¿™ä¹Ÿæ˜¯å¯¹apkä¸­dexæ ¹æ®å¹³å°è¿›è¡ŒODEXä¼˜åŒ–çš„è¿‡ç¨‹ã€‚å…¶å®žAPKæ˜¯ä¸€ä¸ªç¨‹åºåŽ‹ç¼©åŒ…ï¼Œé‡Œé¢åŒ…å«dexæ–‡ä»¶ï¼ŒODEXä¼˜åŒ–å°±æ˜¯æŠŠåŒ…é‡Œé¢çš„æ‰§è¡Œç¨‹åºæå–å‡ºæ¥ï¼Œå°±å˜æˆODEXæ–‡ä»¶ï¼Œå› ä¸ºä½ æå–å‡ºæ¥äº†ï¼Œç³»ç»Ÿç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™å°±ä¸ç”¨åŽ»è§£åŽ‹ç¨‹åºåŽ‹ç¼©åŒ…çš„ç¨‹åºï¼Œå°‘äº†ä¸€ä¸ªè§£åŽ‹çš„è¿‡ç¨‹ã€‚è¿™æ ·çš„è¯ç³»ç»Ÿå¯åŠ¨å°±åŠ å¿«äº†ã€‚ä¸ºä»€ä¹ˆè¯´æ˜¯ç¬¬ä¸€æ¬¡å‘¢ï¼Ÿæ˜¯å› ä¸ºDEXç‰ˆæœ¬çš„ä¹Ÿåªæœ‰ç¬¬ä¸€æ¬¡ä¼šè§£åŽ‹æ‰§è¡Œç¨‹åºåˆ° /data/dalvik-cacheï¼ˆé’ˆå¯¹PathClassLoaderï¼‰æˆ–è€…optimizedDirectory(é’ˆå¯¹DexClassLoaderï¼‰ç›®å½•ï¼Œä¹‹åŽä¹Ÿæ˜¯ç›´æŽ¥è¯»å–ç›®å½•ä¸‹çš„çš„dexæ–‡ä»¶ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡å¯åŠ¨å°±å’Œæ­£å¸¸çš„å·®ä¸å¤šäº†ã€‚å½“ç„¶è¿™åªæ˜¯ç®€å•çš„ç†è§£ï¼Œå®žé™…ç”Ÿæˆçš„ODEXè¿˜æœ‰ä¸€å®šçš„ä¼˜åŒ–ä½œç”¨ã€‚ClassLoaderåªèƒ½åŠ è½½å†…éƒ¨å­˜å‚¨è·¯å¾„ä¸­çš„dexæ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ä¸ªè·¯å¾„å¿…é¡»ä¸ºå†…éƒ¨è·¯å¾„ã€‚ libPath,æŒ‡ç›®æ ‡ç±»ä¸­æ‰€ä½¿ç”¨çš„C/C++åº“å­˜æ”¾çš„è·¯å¾„ classload,æ˜¯æŒ‡è¯¥è£…è½½å™¨çš„çˆ¶è£…è½½å™¨,ä¸€èˆ¬ä¸ºå½“å‰æ‰§è¡Œç±»çš„è£…è½½å™¨ï¼Œä¾‹å¦‚åœ¨Androidä¸­ä»¥context.getClassLoader()ä½œä¸ºçˆ¶è£…è½½å™¨ã€‚ DexClassLoaderï¼š å››ä¸ªå‚æ•°ï¼š DexClassLoaderæ”¯æŒåŠ è½½APKã€DEXå’ŒJARï¼Œä¹Ÿå¯ä»¥ä»ŽSDå¡è¿›è¡ŒåŠ è½½ã€‚ ä¸Šé¢è¯´dalvikä¸èƒ½ç›´æŽ¥è¯†åˆ«jar,DexClassLoaderå´å¯ä»¥åŠ è½½jaræ–‡ä»¶,è¿™éš¾é“ä¸çŸ›ç›¾å—?å…¶å®žåœ¨BaseDexClassLoaderé‡Œå¯¹&quot;.jar&quot;,&quot;.zip&quot;,&quot;.apk&quot;,&quot;.dex&quot;åŽç¼€çš„æ–‡ä»¶æœ€åŽéƒ½ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„dexæ–‡ä»¶,æ‰€ä»¥æœ€ç»ˆå¤„ç†çš„è¿˜æ˜¯dexæ–‡ä»¶,è€ŒURLClassLoaderå¹¶æ²¡æœ‰åšç±»ä¼¼çš„å¤„ç†ã€‚ ä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯ç”¨è¿™ä¸ªDexClassLoaderæ¥ä½œä¸ºåŠ¨æ€åŠ è½½çš„åŠ è½½å™¨ã€‚ PathClassLoaderï¼š ä¸‰ä¸ªå‚æ•°ï¼šå¹¶æ— optimizedDirectoryï¼Œç›´æŽ¥è®¾ä¸ºnullï¼› PathClassLoaderå°†optimizedDirectoryç½®ä¸ºNull,ä¹Ÿå°±æ˜¯æ²¡è®¾ç½®ä¼˜åŒ–åŽçš„å­˜æ”¾è·¯å¾„ã€‚å…¶å®žoptimizedDirectoryä¸ºnullæ—¶çš„é»˜è®¤è·¯å¾„å°±æ˜¯/data/dalvik-cache ç›®å½•ã€‚ PathClassLoaderæ˜¯ç”¨æ¥åŠ è½½Androidç³»ç»Ÿç±»å’Œåº”ç”¨çš„ç±»ï¼Œå¹¶ä¸”ä¸å»ºè®®å¼€å‘è€…ä½¿ç”¨ã€‚ ARTè™šæ‹Ÿæœºçš„å…¼å®¹æ€§é—®é¢˜ï¼š Android Runtimeï¼ˆç¼©å†™ä¸ºARTï¼‰ï¼Œåœ¨Android 5.0åŠåŽç»­Androidç‰ˆæœ¬ä¸­ä½œä¸ºæ­£å¼çš„è¿è¡Œæ—¶åº“å–ä»£äº†ä»¥å¾€çš„Dalvikè™šæ‹Ÿæœºã€‚ARTèƒ½å¤ŸæŠŠåº”ç”¨ç¨‹åºçš„å­—èŠ‚ç è½¬æ¢ä¸ºæœºå™¨ç ï¼Œæ˜¯Androidæ‰€ä½¿ç”¨çš„ä¸€ç§æ–°çš„è™šæ‹Ÿæœºã€‚å®ƒä¸ŽDalvikçš„ä¸»è¦ä¸åŒåœ¨äºŽï¼šDalviké‡‡ç”¨çš„æ˜¯JITæŠ€æœ¯ï¼Œå­—èŠ‚ç éƒ½éœ€è¦é€šè¿‡å³æ—¶ç¼–è¯‘å™¨ï¼ˆjust in time ï¼ŒJITï¼‰è½¬æ¢ä¸ºæœºå™¨ç ï¼Œè¿™ä¼šæ‹–æ…¢åº”ç”¨çš„è¿è¡Œæ•ˆçŽ‡ï¼Œè€ŒARTé‡‡ç”¨Ahead-of-timeï¼ˆAOTï¼‰æŠ€æœ¯ï¼Œåº”ç”¨åœ¨ç¬¬ä¸€æ¬¡å®‰è£…çš„æ—¶å€™ï¼Œå­—èŠ‚ç å°±ä¼šé¢„å…ˆç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé¢„ç¼–è¯‘ã€‚ARTåŒæ—¶ä¹Ÿæ”¹å–„äº†æ€§èƒ½ã€åžƒåœ¾å›žæ”¶ï¼ˆGarbage Collectionï¼‰ã€åº”ç”¨ç¨‹åºé™¤é”™ä»¥åŠæ€§èƒ½åˆ†æžã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œè¿è¡Œæ—¶å†…å­˜å ç”¨ç©ºé—´è¾ƒå°‘åŒæ ·æ„å‘³ç€ç¼–è¯‘äºŒè¿›åˆ¶éœ€è¦æ›´é«˜çš„å­˜å‚¨ã€‚ ARTæ¨¡å¼ç›¸æ¯”åŽŸæ¥çš„Dalvikï¼Œä¼šåœ¨å®‰è£…APKçš„æ—¶å€™ï¼Œä½¿ç”¨Androidç³»ç»Ÿè‡ªå¸¦çš„dex2oatå·¥å…·æŠŠAPKé‡Œé¢çš„.dexæ–‡ä»¶è½¬åŒ–æˆOATæ–‡ä»¶ï¼ŒOATæ–‡ä»¶æ˜¯ä¸€ç§Androidç§æœ‰ELFæ–‡ä»¶æ ¼å¼ï¼Œå®ƒä¸ä»…åŒ…å«æœ‰ä»ŽDEXæ–‡ä»¶ç¿»è¯‘è€Œæ¥çš„æœ¬åœ°æœºå™¨æŒ‡ä»¤ï¼Œè¿˜åŒ…å«æœ‰åŽŸæ¥çš„DEXæ–‡ä»¶å†…å®¹ã€‚è¿™ä½¿å¾—æˆ‘ä»¬æ— éœ€é‡æ–°ç¼–è¯‘åŽŸæœ‰çš„APKå°±å¯ä»¥è®©å®ƒæ­£å¸¸åœ°åœ¨ARTé‡Œé¢è¿è¡Œï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸éœ€è¦æ”¹å˜åŽŸæ¥çš„APKç¼–ç¨‹æŽ¥å£ã€‚ARTæ¨¡å¼çš„ç³»ç»Ÿé‡Œï¼ŒåŒæ ·å­˜åœ¨DexClassLoaderç±»ï¼ŒåŒ…åè·¯å¾„ä¹Ÿæ²¡å˜ï¼Œåªä¸è¿‡å®ƒçš„å…·ä½“å®žçŽ°ä¸ŽåŽŸæ¥çš„æœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯æŽ¥å£æ˜¯ä¸€è‡´çš„ã€‚å®žé™…ä¸Šï¼ŒARTè¿è¡Œæ—¶å°±æ˜¯å’ŒDalvikè™šæ‹Ÿæœºä¸€æ ·ï¼Œå®žçŽ°äº†ä¸€å¥—å®Œå…¨å…¼å®¹Javaè™šæ‹Ÿæœºçš„æŽ¥å£ã€‚ 17.Androidæ’ä»¶åŒ–å¼€å‘ï¼š ä»£ç†ï¼ˆé™æ€ä»£ç†ã€åŠ¨æ€ä»£ç†ï¼‰ã€hookã€javaåå°„; javaåå°„ï¼š 1.å®žä¾‹åŒ–Classå¯¹è±¡ï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼Œ Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• å¯¹è±¡.getClass() //é€šè¿‡å¯¹è±¡.getClassæ–¹æ³• int.class //åŸºæœ¬æ•°æ®ç±»åž‹åŠåŸºæœ¬æ•°æ®ç±»åž‹çš„å°è£…äº†ï¼Œä¾‹å¦‚Integer 2.èŽ·å–çˆ¶ç±» Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Class&lt;?&gt; superclass = clazz.getSuperclass(); 3.èŽ·å–å®žçŽ°æŽ¥å£ Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Class&lt;?&gt;[] interfaces = clazz.getInterfaces() 4.èŽ·å–æŒ‡å®šå‚æ•°æž„é€ å‡½æ•°åŠå®žä¾‹åŒ– Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Constructor&lt;?&gt; constructor = clazz.getConstructor(Class&lt;?&gt; ... class);//èŽ·å–å…¬å…±çš„ Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor()//èŽ·å–ç§æœ‰çš„ constructor.newInstance(Object args); 5.èŽ·å–æ‰€æœ‰æž„é€ å‡½æ•°åŠæž„é€ å‚æ•°çš„ç±»åž‹ Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Constructor&lt;?&gt;[] constructors = clazz.getConstructors();//å…¬å…±çš„ Constructor&lt;?&gt;[] constructors = clazz.getDeclaredConstructors()//åŒ…æ‹¬ç§æœ‰çš„ for (int i = 0; i &lt; constructors.length; i++) { Class&lt;?&gt; clazzs[] = constructors[i].getParameterTypes();//èŽ·å–ç±»åž‹ System.out.print(&quot;constructors[&quot; + i + &quot;] (&quot;); for (int j = 0; j &lt; clazzs.length; j++) { if (j == clazzs.length - 1) System.out.print(clazzs[j].getName()); else System.out.print(clazzs[j].getName() + &quot;,&quot;); } System.out.println(&quot;)&quot;); } 6.é€šè¿‡æ— å‚å®žä¾‹åŒ–å¯¹è±¡ Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• class.newInstance(); 7.èŽ·å–å­—æ®µï¼Œä¿®æ”¹å­—æ®µ Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Field field = clazz.getField(String name);//èŽ·å–å…¬å…±å­—æ®µ Field field = clazz.getDeclaredField(String name);//èŽ·å–ç§æœ‰å…¬å…±å­—æ®µ Field[] field = clazz.getFields();//èŽ·å–æ‰€æœ‰å…¬å…±å­—æ®µ Field[] field = clazz.getDeclaredFields();//èŽ·å–åŒ…æ‹¬ç§æœ‰æ‰€æœ‰å­—æ®µ Field field = clazz.getDeclaredField(&quot;heihei&quot;); field.setAccessible(true);//è®¾ç½®javaå–æ¶ˆè®¿é—®æ£€æŸ¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœæ˜¯ç§æœ‰çš„ä¹Ÿå¯ä»¥è®¿é—®, field.set(obj, &quot;Javaåå°„æœºåˆ¶&quot;); 8.èŽ·å–æ–¹æ³•,è¿è¡Œæ–¹æ³• Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• clazz.getMethod(String name ,Class&lt;?&gt; ... parame);//èŽ·å–å…¬å…±æŒ‡å®šæ–¹æ³• clazz.getDeclaredMethod(String name ,Class&lt;?&gt; ... parame)//èŽ·å–ç§æœ‰æŒ‡å®šæ–¹æ³• clazz.getMethods()//èŽ·å–å…¬å…±æ‰€æœ‰æ–¹æ³• clazz.getDeclaredMethods();//èŽ·å–åŒ…æ‹¬ç§æœ‰å…¨éƒ¨æ–¹æ³• Method method = clazz.getMethod(&quot;add&quot;); method.invoke(clazz.newInstance()); method = clazz.getMethod(&quot;getInfo&quot;, int.class, String.class); method.setAccessible(true)//è®¾ç½®javaå–æ¶ˆè®¿é—®æ£€æŸ¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœæ˜¯ç§æœ‰çš„ä¹Ÿå¯ä»¥è®¿é—®, method.invoke(clazz.newInstance(), 20, &quot;å¼ ä¸‰&quot;); 9.èŽ·å–æ•°ç»„æˆ–è€…listä¸­çš„ç±»åž‹,å¦‚æžœä¸æ˜¯æ•°ç»„æˆ–é›†åˆè¿”å›žnull Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Class&lt;?&gt; componentType = clazz.getComponentType(); 18.bitmapçš„é‡å¤ä½¿ç”¨19.LeakCanary20.activiti manager ï¼›window managerï¼› content providersï¼› package manager ï¼›resource manager ï¼›view system:21.Viewç‚¹å‡»äº‹ä»¶ï¼š 1 getAction:è§¦æ‘¸åŠ¨ä½œçš„åŽŸå§‹32ä½ä¿¡æ¯ï¼ŒåŒ…æ‹¬äº‹ä»¶çš„åŠ¨ä½œï¼Œè§¦æŽ§ç‚¹ä¿¡æ¯ï¼š ä¸€ä¸ªç‚¹å‡»äº‹ä»¶çš„æ‰€æœ‰ä¿¡æ¯ï¼Œåæ ‡ç‚¹ã€è§¦æ‘¸äº‹ä»¶ã€æ˜¯å“ªä¸ªæ‰‹æŒ‡å¤´ç‚¹çš„ 2 getActionMask:è§¦æ‘¸çš„åŠ¨ä½œ,æŒ‰ä¸‹ï¼ŒæŠ¬èµ·ï¼Œæ»‘åŠ¨ï¼Œå¤šç‚¹æŒ‰ä¸‹ï¼Œå¤šç‚¹æŠ¬èµ·ï¼š å•çº¯çš„è§¦æ‘¸äº‹ä»¶ 3 getActionIndex:è§¦æŽ§ç‚¹ä¿¡æ¯ï¼š è§¦æ‘¸ç‚¹ éƒ½ä¼šå›žè°ƒåˆ°onTouchEvent()æ–¹æ³•ä¸­ï¼Œå¤šç‚¹è§¦æ‘¸å¤„å°±æ ¹æ®3-&gt;2 æ—‹è½¬æ‰‹åŠ¿ï¼š GestureDetectorä¸ŽScaleGestureDetectorï¼› 22.å¹¿æ’­ï¼š æœ¬åœ°å¹¿æ’­ï¼šLocalBroadcastManagerï¼Œåªåœ¨åº”ç”¨å†…æŽ¥å—å‘é€å¹¿æ’­ï¼› æ™®é€šå¹¿æ’­æœ‰åºå¹¿æ’­ï¼šæ™®é€šæ˜¯å¼‚æ­¥æ–¹å¼å…¨éƒ¨å‘é€ï¼Œæœ‰åºå¹¿æ’­æŒ‰ç…§é¡ºåºå‘é€æ¯æ¬¡åªç»™ä¸€ä¸ªå‘é€ï¼Œæœ‰åºå¹¿æ’­èƒ½å¤Ÿåœ¨è¢«æŽ¥æ”¶åˆ°åŽåé¦ˆæ•°æ®ã€ç»ˆæ­¢ç»§ç»­ä¸‹å‘; 23.çº¿ç¨‹æ± ï¼š(https://blog.csdn.net/tuke_tuke/article/details/51353925 è¯´çš„æ¯”è¾ƒè¯¦ç»†) ExecutorServiceï¼š ExecutoræŽ¥å£æ˜¯Executoræ¡†æž¶ä¸­æœ€åŸºç¡€çš„éƒ¨åˆ†ï¼Œå®šä¹‰äº†ä¸€ä¸ªç”¨äºŽæ‰§è¡ŒRunnableçš„executeæ–¹æ³•ï¼Œå®ƒæ²¡æœ‰å®žçŽ°ç±»åªæœ‰å¦ä¸€ä¸ªé‡è¦çš„å­æŽ¥å£ExecutorServiceï¼› ExecutorServiceæŽ¥å£ç»§æ‰¿è‡ªExecutoræŽ¥å£ï¼Œå®šä¹‰äº†ç»ˆæ­¢ã€æäº¤,æ‰§è¡Œä»»åŠ¡ã€è·Ÿè¸ªä»»åŠ¡è¿”å›žç»“æžœç­‰æ–¹æ³• 1.executeï¼ˆRunnable commandï¼‰ï¼šå±¥è¡ŒRuannableç±»åž‹çš„ä»»åŠ¡, 2.submitï¼ˆtaskï¼‰ï¼šå¯ç”¨æ¥æäº¤Callableæˆ–Runnableä»»åŠ¡ï¼Œå¹¶è¿”å›žä»£è¡¨æ­¤ä»»åŠ¡çš„Futureå¯¹è±¡ 3.shutdownï¼ˆï¼‰ï¼šåœ¨å®Œæˆå·²æäº¤çš„ä»»åŠ¡åŽå°é—­åŠžäº‹ï¼Œä¸å†æŽ¥ç®¡æ–°ä»»åŠ¡, 4.shutdownNowï¼ˆï¼‰ï¼šåœæ­¢æ‰€æœ‰æ­£åœ¨å±¥è¡Œçš„ä»»åŠ¡å¹¶å°é—­åŠžäº‹ã€‚ 5.isTerminatedï¼ˆï¼‰ï¼šæµ‹è¯•æ˜¯å¦æ‰€æœ‰ä»»åŠ¡éƒ½å±¥è¡Œå®Œæ¯•äº†ã€‚, 6.isShutdownï¼ˆï¼‰ï¼šæµ‹è¯•æ˜¯å¦è¯¥ExecutorServiceå·²è¢«å…³é—­ Executors: è´Ÿè´£ç”Ÿæˆå„ç§ç±»åž‹çš„ExecutorServiceçº¿ç¨‹æ± å®žä¾‹; +newFixedThreadPool(numberOfThreads:int):ï¼ˆå›ºå®šçº¿ç¨‹æ± ï¼‰ExecutorService åˆ›å»ºä¸€ä¸ªå›ºå®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± ï¼Œå¹¶è¡Œæ‰§è¡Œçš„çº¿ç¨‹æ•°é‡ä¸å˜ï¼Œçº¿ç¨‹å½“å‰ä»»åŠ¡å®ŒæˆåŽï¼Œå¯ä»¥è¢«é‡ç”¨æ‰§è¡Œå¦ä¸€ä¸ªä»»åŠ¡ +newCachedThreadPool():ï¼ˆå¯ç¼“å­˜çº¿ç¨‹æ± ï¼‰ExecutorService åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼ŒæŒ‰éœ€åˆ›å»ºæ–°çº¿ç¨‹ï¼Œå°±æ˜¯æœ‰ä»»åŠ¡æ—¶æ‰åˆ›å»ºï¼Œç©ºé—²çº¿ç¨‹ä¿å­˜60sï¼Œå½“å‰é¢åˆ›å»ºçš„çº¿ç¨‹å¯ç”¨æ—¶ï¼Œåˆ™é‡ç”¨å®ƒä»¬ +new SingleThreadExecutor(); ï¼ˆå•çº¿ç¨‹æ‰§è¡Œå™¨ï¼‰çº¿ç¨‹æ± ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¾æ¬¡æ‰§è¡Œä»»åŠ¡ +new ScheduledThreadPool()ï¼š çº¿ç¨‹æ± æŒ‰æ—¶é—´è®¡åˆ’æ¥æ‰§è¡Œä»»åŠ¡ï¼Œå…è®¸ç”¨æˆ·è®¾å®šæ‰§è¡Œä»»åŠ¡çš„æ—¶é—´ +new SingleThreadScheduledExcutor(); çº¿ç¨‹æ± ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒæŒ‰è§„å®šæ—¶é—´æ¥æ‰§è¡Œä»»åŠ¡ Feature: Futureä»£è¡¨å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œç»“æžœ; Futureå°±æ˜¯å¯¹äºŽå…·ä½“çš„Runnableæˆ–è€…Callableä»»åŠ¡çš„æ‰§è¡Œç»“æžœè¿›è¡Œå–æ¶ˆã€æŸ¥è¯¢æ˜¯å¦å®Œæˆã€èŽ·å–ç»“æžœã€‚å¿…è¦æ—¶å¯ä»¥é€šè¿‡getæ–¹æ³•èŽ·å–æ‰§è¡Œç»“æžœï¼Œè¯¥æ–¹æ³•ä¼šé˜»å¡žç›´åˆ°ä»»åŠ¡è¿”å›žç»“æžœ; +cancel æ–¹æ³•ç”¨æ¥å–æ¶ˆä»»åŠ¡ï¼Œå¦‚æžœå–æ¶ˆä»»åŠ¡æˆåŠŸåˆ™è¿”å›žtrueï¼Œå¦‚æžœå–æ¶ˆä»»åŠ¡å¤±è´¥åˆ™è¿”å›žfalseã€‚ å‚æ•°mayInterruptIfRunningè¡¨ç¤ºæ˜¯å¦å…è®¸å–æ¶ˆæ­£åœ¨æ‰§è¡Œå´æ²¡æœ‰æ‰§è¡Œå®Œæ¯•çš„ä»»åŠ¡ï¼Œå¦‚æžœè®¾ç½®trueï¼Œåˆ™è¡¨ç¤ºå¯ä»¥å–æ¶ˆæ­£åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»åŠ¡ã€‚å¦‚æžœä»»åŠ¡å·²ç»å®Œæˆï¼Œåˆ™æ— è®ºmayInterruptIfRunningä¸ºtrueè¿˜æ˜¯falseï¼Œæ­¤æ–¹æ³•è‚¯å®šè¿”å›žfalseï¼Œå³å¦‚æžœå–æ¶ˆå·²ç»å®Œæˆçš„ä»»åŠ¡ä¼šè¿”å›žfalseï¼›å¦‚æžœä»»åŠ¡æ­£åœ¨æ‰§è¡Œï¼Œè‹¥mayInterruptIfRunningè®¾ç½®ä¸ºtrueï¼Œåˆ™è¿”å›žtrueï¼Œè‹¥mayInterruptIfRunningè®¾ç½®ä¸ºfalseï¼Œåˆ™è¿”å›žfalseï¼›å¦‚æžœä»»åŠ¡è¿˜æ²¡æœ‰æ‰§è¡Œï¼Œåˆ™æ— è®ºmayInterruptIfRunningä¸ºtrueè¿˜æ˜¯falseï¼Œè‚¯å®šè¿”å›žtrueã€‚ +isCancelled æ–¹æ³•è¡¨ç¤ºä»»åŠ¡æ˜¯å¦è¢«å–æ¶ˆæˆåŠŸï¼Œå¦‚æžœåœ¨ä»»åŠ¡æ­£å¸¸å®Œæˆå‰è¢«å–æ¶ˆæˆåŠŸï¼Œåˆ™è¿”å›ž trueã€‚ +isDone æ–¹æ³•è¡¨ç¤ºä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆï¼Œè‹¥ä»»åŠ¡å®Œæˆï¼Œåˆ™è¿”å›žtrueï¼› +get() æ–¹æ³•ç”¨æ¥èŽ·å–æ‰§è¡Œç»“æžœï¼Œè¿™ä¸ªæ–¹æ³•ä¼šäº§ç”Ÿé˜»å¡žï¼Œä¼šä¸€ç›´ç­‰åˆ°ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æ‰è¿”å›žï¼› +get(long timeout, TimeUnit unit) ç”¨æ¥èŽ·å–æ‰§è¡Œç»“æžœï¼Œå¦‚æžœåœ¨æŒ‡å®šæ—¶é—´å†…ï¼Œè¿˜æ²¡èŽ·å–åˆ°ç»“æžœï¼Œå°±ç›´æŽ¥è¿”å›žnullã€‚ ä¹Ÿå°±æ˜¯è¯´Futureæä¾›äº†ä¸‰ç§åŠŸèƒ½ï¼š 1ï¼‰åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å®Œæˆï¼› 2ï¼‰èƒ½å¤Ÿä¸­æ–­ä»»åŠ¡ï¼› 3ï¼‰èƒ½å¤ŸèŽ·å–ä»»åŠ¡æ‰§è¡Œç»“æžœã€‚ 24.OAuth2: åŸºæœ¬æµç¨‹ï¼š ï¼ˆAï¼‰ç”¨æˆ·æ‰“å¼€å®¢æˆ·ç«¯ä»¥åŽï¼Œå®¢æˆ·ç«¯è¯·æ±‚èµ„æºæ‰€æœ‰è€…ï¼ˆç”¨æˆ·ï¼‰çš„æŽˆæƒã€‚ ï¼ˆBï¼‰ç”¨æˆ·åŒæ„ç»™äºˆå®¢æˆ·ç«¯æŽˆæƒã€‚ ï¼ˆCï¼‰å®¢æˆ·ç«¯ä½¿ç”¨ä¸Šä¸€æ­¥èŽ·å¾—çš„æŽˆæƒï¼Œå‘è®¤è¯æœåŠ¡å™¨ç”³è¯·è®¿é—®ä»¤ç‰Œã€‚ ï¼ˆDï¼‰è®¤è¯æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯ä»¥åŽï¼Œç¡®è®¤æ— è¯¯ï¼ŒåŒæ„å‘æ”¾è®¿é—®ä»¤ç‰Œã€‚ ï¼ˆEï¼‰å®¢æˆ·ç«¯ä½¿ç”¨è®¿é—®ä»¤ç‰Œï¼Œå‘èµ„æºæœåŠ¡å™¨ç”³è¯·èŽ·å–èµ„æºã€‚ ï¼ˆFï¼‰èµ„æºæœåŠ¡å™¨ç¡®è®¤ä»¤ç‰Œæ— è¯¯ï¼ŒåŒæ„å‘å®¢æˆ·ç«¯å¼€æ”¾èµ„æºã€‚ æŽˆæƒçš„å››ç§æ¨¡å¼ï¼š æŽˆæƒç æ¨¡å¼ï¼ˆauthorization codeï¼‰ ç®€åŒ–æ¨¡å¼ï¼ˆimplicitï¼‰ å¯†ç æ¨¡å¼ï¼ˆresource owner password credentialsï¼‰ å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆclient credentialsï¼‰ 25.scrollViewåµŒå¥—ListViewæ»‘åŠ¨å†²çªæ˜¾ç¤ºä¸æ­£ç¡®: https://www.jianshu.com/p/9abf6a874feb 26.ä¸€å¤©ä¸€é¢ï¼š https://www.jianshu.com/p/1d3a2227fb72 çŸ¥è¯†ç‚¹æ˜¯æŒºåŸºç¡€åœ¨å¹³æ—¶ä¹Ÿæ˜¯æŒºä½¿ç”¨çš„ï¼Œéœ€è¦å®šæœŸçœ‹ä¸‹]]></content>
  </entry>
  <entry>
    <title><![CDATA[ViewGroupä¸€äº›ç›¸å…³çš„ç±»]]></title>
    <url>%2F2018%2F06%2F26%2FewGroup%E4%B8%80%E4%BA%9B%E7%9B%B8%E5%85%B3%E7%9A%84%E7%B1%BB%2F</url>
    <content type="text"><![CDATA[setWillNotDraw() åœ¨viewgroupåˆå§‹åŒ–çš„æ—¶å€™ï¼Œå®ƒè°ƒç”¨äº†ä¸€ä¸ªç§æœ‰æ–¹æ³•ï¼šinitViewGroup --&gt; setFlagsï¼ˆWILLL_NOT_DRAW,DRAW_MASK)ï¼Œä¸ä¼šè°ƒç”¨ondrawï¼ˆï¼‰æ–¹æ³•ï¼Œè‡ªå®šä¹‰viewgroupæ—¶å€™éœ€è¦setWillNotDraw(false)ï¼› descendantfocusability viewgroupæŽ§ä»¶åœ¨ä»£ç ä¸­æˆ–è€…xmlä¸­èƒ½è®¾ç½®è¯¥å±žæ€§ï¼š FOCUS_BEFORE_DESCENDANTS ViewGroupæœ¬èº«å…ˆå¯¹ç„¦ç‚¹è¿›è¡Œå¤„ç†ï¼Œå¦‚æžœæ²¡æœ‰å¤„ç†åˆ™åˆ†å‘ç»™child Viewè¿›è¡Œå¤„ç† FOCUS_AFTER_DESCENDANTS å…ˆåˆ†å‘ç»™Child Viewè¿›è¡Œå¤„ç†ï¼Œå¦‚æžœæ‰€æœ‰çš„Child Viewéƒ½æ²¡æœ‰å¤„ç†ï¼Œåˆ™è‡ªå·±å†å¤„ç† FOCUS_BLOCK_DESCENDANTS ViewGroupæœ¬èº«è¿›è¡Œå¤„ç†ï¼Œä¸ç®¡æ˜¯å¦å¤„ç†æˆåŠŸï¼Œéƒ½ä¸ä¼šåˆ†å‘ç»™ChildViewè¿›è¡Œå¤„ç† ViewCompat è¿™ä¸ªæ˜¯è§£å†³ç‰ˆæœ¬å…¼å®¹æ€§çš„ ViewPagerå†…éƒ¨çš„viewæ ¹æ®ä½ç½®ç»˜åˆ¶çš„ï¼Œç¼“å­˜å¤šå°‘ä¸ªå°±åœ¨ç›¸é‚»ä½ç½®ç»˜åˆ¶å¤šå°‘ä¸ª]]></content>
  </entry>
  <entry>
    <title><![CDATA[gradle ç¬”è®°01]]></title>
    <url>%2F2018%2F06%2F25%2Fradle-%E7%AC%94%E8%AE%B001%2F</url>
    <content type="text"><![CDATA[ä»»åŠ¡çš„æŒ‰ç…§dofirst{}dolast{}é¡ºåºæ‰§è¡Œ&lt;&lt; ç¬¦å·æ˜¯dolastçš„åˆ«åextæ˜¯åˆ›å»ºçš„ä»»åŠ¡çš„é¢å¤–ä»»åŠ¡å±žæ€§]]></content>
  </entry>
  <entry>
    <title><![CDATA[Canvançš„å‡ ä¸ªæ–¹æ³•å«ä¹‰]]></title>
    <url>%2F2018%2F06%2F11%2Fnvan%E7%9A%84%E5%87%A0%E4%B8%AA%E6%96%B9%E6%B3%95%E5%90%AB%E4%B9%89%2F</url>
    <content type="text"><![CDATA[saveä¿å­˜å½“å‰ç»˜åˆ¶å±žæ€§ï¼Œç”»å¸ƒåæ ‡å˜åŒ–ä¹‹å‰çš„çŠ¶æ€ restoreç»˜åˆ¶å±žæ€§å›žé€€åˆ°ä¸Šä¸€ä¸ªä¿å­˜å †æ ˆçš„ä¸Šä¸€ä¸ªçŠ¶æ€]]></content>
  </entry>
  <entry>
    <title><![CDATA[Shader]]></title>
    <url>%2F2018%2F06%2F11%2Fader%2F</url>
    <content type="text"><![CDATA[ç€è‰²å™¨ LinearGradient çº¿æ€§å˜è‰²ï¼ŒShader shader = new LinearGradient(0, 0, 100, 100, Color.RED, Color.GREEN, Shader.TileMode.REPEAT); å‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯xå¼€å§‹åæ ‡ï¼Œç¬¬äºŒä¸ªæ˜¯yå¼€å§‹åæ ‡ï¼Œä¸‰ã€å››ç»“æŸxã€yåæ ‡ï¼Œå·¦è¾¹æ˜¯æ ¹æ®viewçš„åæ ‡ç³»å¼€å§‹è®¡ç®—çš„ï¼Œäº”æ˜¯æ¨¡å¼ï¼šé‡å¤è¿˜æ˜¯æ‰©å±•ã€é•œåƒ RadialGradientè¾å°„æ¸å˜ï¼Œç”±ä¸€ä¸­å¿ƒç‚¹æ¸å˜ SweepGradient åƒé›·è¾¾ä¸€æ · BitmapShader å›¾åƒBitmapShader(Bitmap bitmap, Shader.TileMode tileX, Shader.TileMode tileY) ComposeShaderå¤šä¸ªç€è‰²å™¨ç»„åˆä½¿ç”¨ new ComposeShader(shader1, shader2, PorterDuff.Mode.SRC_OVER);]]></content>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹åŠ¿ç›‘å¬]]></title>
    <url>%2F2018%2F06%2F11%2F%E5%8A%BF%E7%9B%91%E5%90%AC%2F</url>
    <content type="text"><![CDATA[æ‰‹åŠ¿ç›‘å¬ VelocityTrackeråŠ é€Ÿåº¦ç›‘å¬ obtain()ï¼šå®žä¾‹åŒ– addMovement(MotionEvent event)ï¼šæ·»åŠ äº‹ä»¶ recycle()ï¼šå›žæ”¶]]></content>
  </entry>
  <entry>
    <title><![CDATA[xml]]></title>
    <url>%2F2018%2F05%2F30%2Fl%2F</url>
    <content type="text"><![CDATA[https://www.studytutorial.in/android-sending-xml-or-soap-rest-api-request-using-okhttp-tutorial]]></content>
  </entry>
  <entry>
    <title><![CDATA[WorkManager]]></title>
    <url>%2F2018%2F05%2F29%2ForkManager%2F</url>
    <content type="text"><![CDATA[WorkManager ä¸»è¦çš„ç±» WorkManagerï¼šç®¡ç†ä»»åŠ¡ï¼Œå¼€å¯ä»»åŠ¡ WorkManager æ–¹æ³•WorkManager getInstance()ï¼š èŽ·å–å®žä¾‹ initialize(@NonNull Context context, @NonNull Configuration configuration)ï¼š èŽ·å–å®žä¾‹ï¼Œå‚æ•°äºŒé…ç½®çº¿ç¨‹æ±  enqueue(@NonNull WorkRequest... workRequest)ï¼š æ·»åŠ åŽå°ä»»åŠ¡ enqueue(@NonNull List&lt;? extends WorkRequest&gt; baseWork)ï¼š æ·»åŠ åŽå°ä»»åŠ¡ WorkContinuation beginWith(@NonNull OneTimeWorkRequest...work)ï¼š å¼€å¯ä¸éœ€è¦é‡å¤çš„ä»»åŠ¡ï¼Œå®ƒåªæ‰§è¡Œä¸€éï¼Œè¿”å›žå€¼WorkContinuation æ˜¯ç”¨æ¥å¼€å¯ä»»åŠ¡é“¾çš„ï¼› èƒ½å¤Ÿä¸Žå…¶ä»–çš„è¿›è¡Œthenã€combineæ“ä½œ WorkContinuation beginWith(@NonNull List&lt;OneTimeWorkRequest&gt; work)ï¼› å¼€å¯ä¸€ç»„çš„ä¸Šè¿°ä»»åŠ¡ WorkContinuation beginUniqueWork( @NonNull String uniqueWorkName, @NonNull ExistingWorkPolicy existingWorkPolicy, @NonNull OneTimeWorkRequest... work) ï¼š è¯¥æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä»»åŠ¡åç§°ï¼Œåç§°æ˜¯å”¯ä¸€çš„ä¸èƒ½å¤Ÿé‡å¤ï¼›ç¬¬äºŒä¸ªå‚æ•°ExistingWorkPOneTimeWorkRequestolicyæ˜¯ç”¨æ¥åˆ¤æ–­å¦‚æžœå‡ºçŽ°äº†é‡å¤çš„ï¼Œæ˜¯æ›¿æ¢è¿˜æ˜¯è¿½åŠ ã€è¿˜æ˜¯ä¸ç†ä¼š ç»§ç»­ä¿æŒå½“å‰çš„ä»»åŠ¡ç›®æ ‡ä¸å˜ï¼› cancelWorkById(@NonNull UUID id)ï¼š æ ¹æ®uuidåŽ»å–æ¶ˆä»»åŠ¡ï¼Œä½†æ˜¯æ–¹æ³•çš„è°ƒç”¨ä¸ä¸€å®šå›žèµ·ä½œç”¨ï¼Œå¦‚æžœæ­£åœ¨æ‰§è¡Œï¼Œé‚£ä¹ˆå°†ä¸ä¼šå–æ¶ˆï¼Œä»»åŠ¡ä¼šæ­£å¸¸çš„åŽ»å®Œæˆã€‚ void cancelAllWorkByTag(@NonNull String tag)ï¼š ä¸Žä¸Šç›¸ä¼¼ã€‚ void cancelUniqueWork(@NonNull String uniqueWorkName) å­—é¢æ„æ€ã€‚ LiveData&lt;WorkStatus&gt; getStatusById(@NonNull UUID id); èƒ½å¤Ÿç›‘å¬ä»»åŠ¡çš„å®Œæˆæƒ…å†µã€‚ LiveData&lt;List&lt;WorkStatus&gt;&gt; getStatusesByTag(@NonNull String tag)ï¼š å­—é¢ã€‚ LiveData&lt;List&lt;WorkStatus&gt;&gt; getStatusesForUniqueWork( @NonNull String uniqueWorkName)ï¼š å­—é¢ã€‚ SynchronousWorkManager synchronous()ï¼š è¿”å›žçš„å¯¹è±¡æ–¹æ³•ä»€ä¹ˆçš„è·ŸåŽŸæ¥çš„WorkManageræ–¹æ³•éƒ½å·®ä¸å¤šï¼Œè¿™ä¸ªæ˜¯åŒæ­¥æ–¹æ³•ï¼Œä¸èƒ½åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œã€‚åœ¨å­çº¿ç¨‹ä¸­ä½¿ç”¨ï¼Œèƒ½ç›´æŽ¥çŸ¥é“æ˜¯å¦æ·»åŠ æˆåŠŸ WorkRequest ä»»åŠ¡è¯·æ±‚ OneTimeWorkRequest ä¸é‡å¤çš„è¯·æ±‚ï¼Œæ‰§è¡Œä¸€æ¬¡ï¼› PeriodicWorkRequesté‡å¤æ‰§è¡Œ WorkSpecå­˜å…¥æ•°æ®åº“çš„ä¸€äº›ä»»åŠ¡è°ƒåº¦ä¿¡æ¯ï¼Œæ—¶é—´ã€ä»»åŠ¡ä¿¡æ¯ç­‰ Worker ä»»åŠ¡åŸºæœ¬å•å…ƒï¼Œæœ‰å·²ç»å®žçŽ°å¥½çš„å‡ ä¸ªç±»ï¼Œè‡ªå·±å®žçŽ°åªéœ€è¦å¤å†™ doworkå°±å¯ä»¥ï¼Œç±»å•ç‹¬å†™ï¼Œä¸èƒ½æ˜¯å†…éƒ¨ç±»å®žçŽ°ï¼Œå¦åˆ™å®žä¾‹åŒ–ä¸äº†ã€‚é€šè¿‡getæ–¹æ³•èƒ½èŽ·å–åˆ°ä¼ é€’çš„æ‰€æœ‰ä¿¡æ¯æ•°æ®ã€‚ä¸‹åˆ—å‡ºå·²ç»å®žçŽ°çš„è¯¥ç±»çš„å¯¹è±¡ã€‚ CombineContinuationsWorkerå·¥ä½œä»»åŠ¡æµç»„åˆï¼Œèƒ½å¤Ÿåƒé“¾æ¡ä¸€æ · ConstraintTrackingWorkerå½“çº¦æŸç¬¦åˆæ¡ä»¶,å¯ä»¥ä¼ å¦‚å‚æ•°ï¼ˆç±»åç§°ï¼‰ï¼Œé€šè¿‡ä¸åŒå‚æ•°å®žçŽ°ä¸åŒä»£ç† Constraints çº¦æŸï¼Œè®¾å®šä»»åŠ¡åœ¨ä»€ä¹ˆç³»ç»Ÿçš„ä»€ä¹ˆæƒ…å†µä¸‹èƒ½å¤Ÿå¯åŠ¨ mRequiredNetworkTypeä»€ä¹ˆç½‘ç»œæ¡ä»¶ä¸‹å¯åŠ¨ mRequiresCharging å……ç”µ mRequiresDeviceIdleä¼‘çœ  mRequiresBatteryNotLowç”µé‡ä¸é«˜ mRequiresStorageNotLowå†…å­˜ä¸é«˜ mContentUriTriggersuriè§¦å‘å¯åŠ¨]]></content>
  </entry>
  <entry>
    <title><![CDATA[å®šæ—¶ä»»åŠ¡çš„ä¸€ä¸ªåº“]]></title>
    <url>%2F2018%2F05%2F29%2F%E4%BB%BB%E5%8A%A1%E7%9A%84%E4%B8%80%E4%B8%AA%E5%BA%93%2F</url>
    <content type="text"><![CDATA[åœ°å€ https://blog.evernote.com/tech/2015/10/26/unified-job-library-android/èƒ½å¤Ÿæ ¹æ®ä¸åŒç‰ˆæœ¬åŽ»é€‰æ‹©ä¸åŒæ–¹å¼]]></content>
  </entry>
  <entry>
    <title><![CDATA[ä¹¦ç­¾]]></title>
    <url>%2F2018%2F05%2F28%2F%E7%AD%BE%2F</url>
    <content type="text"><![CDATA[&lt;!DOCTYPE NETSCAPE-Bookmark-file-1&gt; Bookmarks Bookmarks ä¹¦ç­¾æ  Android Api Guide ä¸­å›½è½¯ä»¶ä¸ŽæŠ€æœ¯æœåŠ¡è‚¡ä»½æœ‰é™å…¬å¸é‚®ä»¶ç™»å½• okhttp3 (OkHttp 3.4.1 API) Realm: Create reactive mobile apps in a fraction of the time HTML/CSS Flex å¸ƒå±€æ•™ç¨‹ï¼šå®žä¾‹ç¯‡ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— GitHub - googlesamples/android-architecture: A collection of samples to discuss and showcase different architectural tools and patterns for Android apps. GitHub - googlesamples/android-architecture-components: Samples for Android Architecture Components. ä¸€ä¸ªgithubä¸Šä¸é”™çš„å·¥å…·ç±»åˆ†äº« - CSDNåšå®¢ HenCoderã€Œä»¿å†™é…·ç•Œé¢ã€æ´»åŠ¨â€”â€”å¾ç¨¿ Most Popular - LottieFiles æˆ‘æ‰€ç»åŽ†çš„Androidé¢è¯•|æŽ˜é‡‘æŠ€æœ¯å¾æ–‡ - æŽ˜é‡‘ GitHub - alibaba/ARouter: An android router middleware that help app navigating to activities and custom services. GitHub - CyC2018/Interview-Notebook: æŠ€æœ¯é¢è¯•éœ€è¦æŽŒæ¡çš„åŸºç¡€çŸ¥è¯†æ•´ç†ï¼Œæ¬¢è¿Žç¼–è¾‘~ Android çŸ¥è¯†ä½“ç³»è„‘å›¾ã€Œandroidç¯‡ã€ | bug é¸£æ³£ä¹‹æ—¶ ï¼»AndroidåŸºç¡€ï¼½Androidæ€»ç»“ç¯‡ - CSDNåšå®¢ 10ä¸ªä¼˜ç§€ä¸ªandroidé¡¹ç›®ï¼Œç²¾é€‰|å¿«é€Ÿå¼€å‘ â€“ Androidå¼€å‘ä¸­æ–‡ç«™ AndroidXRef Android å¼€æºé¡¹ç›®é›†åˆ ä¸‹ç­åŽï¼Œå¯ä»¥é€šè¿‡ä»€ä¹ˆæ–¹å¼èµšé’±ï¼Ÿ - ç®€ä¹¦ Androidå¼€å‘ä¸­æ–‡ç«™â€“å…³æ³¨Androidï¼Œå…³æ³¨å¼€å‘è€… Gradle æ•™ç¨‹ - Android Studio å®‰å“å¼€å‘è€…ç¤¾åŒº åˆ†äº«æ–‡ä»¶ | Androidå®˜æ–¹åŸ¹è®­è¯¾ç¨‹ä¸­æ–‡ç‰ˆ(v0.9.7) å¤®è§†App]]></content>
  </entry>
  <entry>
    <title><![CDATA[äº§å“åŸºæœ¬æµç¨‹]]></title>
    <url>%2F2018%2F05%2F28%2F%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[äº§å“å®šä½ éœ€æ±‚åˆ†æž éœ€æ±‚ç­›é€‰ å•†ä¸šä»·å€¼ 5W2H?what,who,where,when,why? how,how much?]]></content>
  </entry>
  <entry>
    <title><![CDATA[vpn]]></title>
    <url>%2F2018%2F05%2F25%2Fpn%2F</url>
    <content type="text"><![CDATA[æ¬ç“¦å·¥è´¦å·ï¼š513952947@qq.comå¯†ç ï¼›** wæœåŠ¡å™¨åœ°å€ æœåŠ¡å™¨å®‰è£…ï¼š wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh å®‰è£…wget yum -y install wget æ›´æ”¹è¿è¡Œè„šæœ¬æƒé™ chmod +x shadowsocks-all.sh è¿è¡Œè„šæœ¬ ./shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log ä¿å­˜ä¿¡æ¯ ä¿å­˜æœåŠ¡ipç«¯å£å·å¯†ç ç­‰ä¿¡æ¯ ç»ˆç«¯è½¯ä»¶å®‰è£… iosï¼šhttps://itunes.apple.com/us/app/wingy-proxy-for-http-s-socks5/id1178584911?mt=8 Androidï¼šhttps://github.com/shadowsocks/shadowsocks-android/releases windowsï¼šhttps://github.com/shadowsocks/shadowsocks-windows/releases ubuntuï¼šsudo apt-get update sudo apt-get install python-pip sudo apt-get install python-setuptools m2crypto pip install shadowsocks sudo apt install shadowsocks sslocal -s [ipåœ°å€] -p [ç«¯å£å·] -k [å¯†ç ] -l [1080æœ¬åœ°ç«¯å£] -t [è¶…æ—¶] -m aes-256-cfb]]></content>
  </entry>
  <entry>
    <title><![CDATA[Android çŸ¢é‡å›¾åŠ¨ç”»]]></title>
    <url>%2F2018%2F05%2F25%2Fndroid-%E7%9F%A2%E9%87%8F%E5%9B%BE%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[çŸ¢é‡å›¾æ¥æº åœ¨Androidä¸­æ­£å¸¸çš„æ˜¯ï¼š f &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; ...&gt; &lt;path/&gt; &lt;/vector&gt; vectoræ ‡ç­¾ä¸­åŒ…å«è·¯å¾„ï¼ŒåŠ¨ç”»å°±éœ€è¦ä½¿ç”¨&lt;group&gt; path... &lt;/group&gt;åŒ…è£¹è·¯å¾„ï¼Œå¹¶å¯¹åŒ…è£¹è·¯å¾„çš„groupè®¾ç½®åŠ¨ç”»å±žæ€§æ¥æŽ§åˆ¶è¯¥æ ‡ç­¾å†…çš„è·¯å¾„å˜åŒ–ï¼› xmlå®žçŽ°åŠ¨ç”»æ–¹å¼ &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;animated-vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:drawable=&quot;vectorå›¾ç‰‡&quot;&gt; &lt;target android:animation=&quot;@animator/åŠ¨ç”»xml&quot; android:name=&quot;è¦åšåŠ¨ç”»çš„pathã€åœ¨groupä¸­pathçš„å®šä¹‰åç§°&quot;/&gt; &lt;target android:name=&quot;è¦åšåŠ¨ç”»çš„path&quot; android:animation=&quot;@animator/smile_morph&quot;/&gt; &lt;/animated-vector&gt; AnimatedVectorDrawable smileDrawable = (AnimatedVectorDrawable) imageView.getDrawable(); smileDrawable.start();è°ƒç”¨ javaä»£ç å®žçŽ°æ–¹å¼ çŸ¢é‡å›¾åŠ¨ç”»ç½‘ç«™]]></content>
  </entry>
  <entry>
    <title><![CDATA[Palette]]></title>
    <url>%2F2018%2F05%2F25%2Falette%2F</url>
    <content type="text"><![CDATA[Paletteâ€˜com.android.support:palette-v7:27.1.1â€™ Vibrant: äº®è‰² Vibrant dark: æ·±äº®è‰² Vibrant light: æµ…äº®è‰² Muted: æš—è‰² Muted dark: æ·±æš—è‰² Muted light: æµ…æš—è‰²]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>é¢œè‰²æå–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android statusBar]]></title>
    <url>%2F2018%2F05%2F25%2Fdroid-statusBar%2F</url>
    <content type="text"><![CDATA[View mDecorView; private static String TAG = &quot;StatusBarActivity&quot;; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); mDecorView = findViewById(android.R.id.content); mDecorView.setOnSystemUiVisibilityChangeListener(new View.OnSystemUiVisibilityChangeListener() { @Override public void onSystemUiVisibilityChange(int visibility) { // Note that system bars will only be &quot;visible&quot; if none of the // LOW_PROFILE, HIDE_NAVIGATION, or FULLSCREEN flags are set. if ((visibility &amp; View.SYSTEM_UI_FLAG_FULLSCREEN) == 0) { // TODO: The system bars are visible. Make any desired // adjustments to your UI, such as showing the action bar or // other navigational controls. } else { // TODO: The system bars are NOT visible. Make any desired // adjustments to your UI, such as hiding the action bar or // other navigational controls. } } }); showSystemUI(); setContentView(R.layout.activity_status_bar); findViewById(R.id.btn).setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { hideSystemUI(); } }); } private void showSystemUI() { //æ˜¾ç¤ºçŠ¶æ€æ  mDecorView.setSystemUiVisibility( View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN); } private void hideSystemUI() { // Set the IMMERSIVE flag. è®¾ç½®æ²‰æµ¸å¼ //SYSTEM_UI_FLAG_IMMERSIVE_STICKY å†…æ»‘æ˜¾ç¤ºçŠ¶æ€æ  ä¼šè‡ªåŠ¨æ¶ˆå¤± //SYSTEM_UI_FLAG_IMMERSIVE å†…æ»‘æ˜¾ç¤ºçŠ¶æ€æ  ä¸ä¼šè‡ªåŠ¨æ¶ˆå¤± // Set the content to appear under the system bars so that the content // doesn&apos;t resize when the system bars hide and show. mDecorView.setSystemUiVisibility( View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar | View.SYSTEM_UI_FLAG_FULLSCREEN // hide status bar | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY); }]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>statusBar</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[FileProvider]]></title>
    <url>%2F2018%2F05%2F24%2FFileProvider%2F</url>
    <content type="text"><![CDATA[ä¸ºäº†ç»™åº”ç”¨ç¨‹åºå®šä¹‰ä¸€ä¸ªFileProviderï¼Œéœ€è¦åœ¨Manifestæ¸…å•æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªentryï¼Œè¯¥entryæŒ‡æ˜Žäº†éœ€è¦ä½¿ç”¨çš„åˆ›å»ºContent URIçš„Authorityã€‚æ­¤å¤–ï¼Œè¿˜éœ€è¦ä¸€ä¸ªXMLæ–‡ä»¶çš„æ–‡ä»¶åï¼Œè¯¥XMLæ–‡ä»¶æŒ‡å®šäº†æˆ‘ä»¬çš„åº”ç”¨å¯ä»¥å…±äº«çš„ç›®å½•è·¯å¾„ã€‚ ä¸‹ä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨æ¸…å•æ–‡ä»¶ä¸­æ·»åŠ æ ‡ç­¾ï¼Œæ¥æŒ‡å®šFileProviderç±»ï¼ŒAuthorityåŠXMLæ–‡ä»¶åï¼š &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;com.example.myapp&quot;&gt; &lt;application ...&gt; &lt;provider android:name=&quot;android.support.v4.content.FileProvider&quot; android:authorities=&quot;com.example.myapp.fileprovider&quot; android:grantUriPermissions=&quot;true&quot; android:exported=&quot;false&quot;&gt; &lt;meta-data android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot; android:resource=&quot;@xml/filepaths&quot; /&gt; &lt;/provider&gt; ... &lt;/application&gt; &lt;/manifest&gt; åœ¨â€œres/xml/â€ä¸‹åˆ›å»ºæ–‡ä»¶â€œfilepaths.xmlâ€ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œä¸ºæ¯ä¸€ä¸ªæƒ³è¦å…±äº«ç›®å½•æ·»åŠ ä¸€ä¸ªXMLæ ‡ç­¾ &lt;paths&gt; &lt;files-path path=&quot;images/&quot; name=&quot;myimages&quot; /&gt; &lt;/paths&gt; æ ‡ç­¾å…±äº«çš„æ˜¯åœ¨æˆ‘ä»¬åº”ç”¨çš„å†…éƒ¨å­˜å‚¨ä¸­â€œfiles/â€ç›®å½•ä¸‹çš„ç›®å½•ã€‚â€œpathâ€å±žæ€§å­—æ®µæŒ‡å‡ºäº†è¯¥å­ç›®å½•ä¸ºâ€œfiles/â€ç›®å½•ä¸‹çš„å­ç›®å½•â€œimages/â€ã€‚â€œnameâ€å±žæ€§å­—æ®µå‘ŠçŸ¥FileProvideråœ¨â€œfiles/images/â€å­ç›®å½•ä¸­çš„æ–‡ä»¶çš„Content URIæ·»åŠ è·¯å¾„åˆ†æ®µï¼ˆpath segmentï¼‰æ ‡è®°ï¼šâ€œmyimagesâ€ã€‚ æ ‡ç­¾å¯ä»¥æœ‰å¤šä¸ªå­æ ‡ç­¾ï¼Œæ¯ä¸€ä¸ªå­æ ‡ç­¾ç”¨æ¥æŒ‡å®šä¸åŒçš„å…±äº«ç›®å½•ã€‚é™¤äº†æ ‡ç­¾ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ¥å…±äº«ä½äºŽå¤–éƒ¨å­˜å‚¨çš„ç›®å½•ï¼›å¦å¤–ï¼Œæ ‡ç­¾ç”¨æ¥å…±äº«åœ¨å†…éƒ¨ç¼“å­˜ç›®å½•ä¸‹çš„å­ç›®å½•ã€‚ åœ¨æ–‡ä»¶åˆ†äº«æ˜¯æ—¶è°ƒç”¨ç»™ä¸Žä¸´æ—¶çš„æƒé™ï¼š Intent.addFlags( Intent.FLAG_GRANT_READ_URI_PERMISSION);]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>FileProvider</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android ç½‘ç»œè¿žæŽ¥æ£€æµ‹]]></title>
    <url>%2F2018%2F05%2F24%2Fdroid-%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E6%A3%80%E6%B5%8B%2F</url>
    <content type="text"><![CDATA[æ£€æµ‹æ˜¯å¦è¿žæŽ¥ private static final String DEBUG_TAG = &quot;NetworkStatusExample&quot;; ConnectivityManager connMgr = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE); NetworkInfo networkInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_WIFI); boolean isWifiConn = networkInfo.isConnected(); networkInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE); boolean isMobileConn = networkInfo.isConnected(); Log.d(DEBUG_TAG, &quot;Wifi connected: &quot; + isWifiConn); Log.d(DEBUG_TAG, &quot;Mobile connected: &quot; + isMobileConn);]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android æ‰“å°å½“å‰è¡Œæ•°å’Œåç§°æ–¹æ³•]]></title>
    <url>%2F2018%2F05%2F24%2Fdroid-%E6%89%93%E5%8D%B0%E5%BD%93%E5%89%8D%E8%A1%8C%E6%95%B0%E5%92%8C%E5%90%8D%E7%A7%B0%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[èŽ·å–ç±»åç§° è¡Œæ•° public static String getFunctionName() { StackTraceElement[] sts = Thread.currentThread().getStackTrace(); if (sts == null) { return null; } for (StackTraceElement st : sts) { if (st.isNativeMethod()) { continue; } if (st.getClassName().equals(Thread.class.getName())) { continue; } if (st.getClassName().equals(Logger.class.getName())) { continue; } return &quot;[&quot; + Thread.currentThread().getName() + &quot;(&quot; + Thread.currentThread().getId() + &quot;): &quot; + st.getFileName() + &quot;:&quot; + st.getLineNumber() + &quot;]&quot;; } return null; } æ‰“å°è¶…å¤šæ•°å­—public static void i(String msg) { if (debug) { String message = createMessage(msg); if (message.length() &gt; 4000) { int chunkCount = message.length() / 4000; // integer division for (int i = 0; i &lt;= chunkCount; i++) { int max = 4000 * (i + 1); if (max &gt;= message.length()) { Log.i(tag,message.substring(4000 * i)+&quot;\n&quot;); } else { Log.v(tag, message.substring(4000 * i, max)+&quot;\n&quot;); } } }else { Log.i(tag, message); } } }]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>log</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å±€åŸŸç½‘å†… ipè¿žæŽ¥]]></title>
    <url>%2F2018%2F05%2F24%2F%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85-ip%E8%BF%9E%E6%8E%A5%2F</url>
    <content type="text"><![CDATA[è½¬è½½https://blog.csdn.net/jspping/article/details/64438515åœ¨å½“ä»Šçš„äº’è”ç½‘æ—¶ä»£ï¼Œå¾ˆå¤šäº’è”ç½‘å…¬å¸ã€æ–¹æ¡ˆå…¬å¸ã€æ™ºèƒ½è®¾å¤‡å…¬å¸æˆ–å¤šæˆ–å°‘éƒ½ä¼šæŽ¥è§¦ä¸€äº›å±€åŸŸç½‘å†…çš„ç›¸å…³å¼€å‘ï¼Œæ¯”å¦‚æŸå…¬å¸ç ”å‘äº†ä¸€ä¸ªappï¼Œè¯¥appéœ€æ±‚æ˜¯åœ¨å±€åŸŸç½‘å’Œç½‘åŸŸç½‘éƒ½å¯ä»¥èŽ·å–è‡ªå·±å¥½å‹çš„æ¶ˆæ¯æˆ–ä¿¡æ¯ï¼Œç½‘åŸŸç½‘ä¸‹æŠ€æœ¯äººå‘˜å¯ä»¥é€šè¿‡æœåŠ¡å™¨è½¬æŽ¥ä¿¡æ¯å’Œå‘é€ï¼Œå®žçŽ°äº¤äº’ï¼Œä½†æ˜¯åœ¨éžè”ç½‘çš„å±€åŸŸç½‘ä¸‹ä½¿ç”¨éƒ¨åˆ†éžä½¿ç”¨ç½‘ç»œçš„åŠŸèƒ½ï¼Œè¿™å°±éœ€è¦ç ”ç©¶ä¸€äº›æ¯”è¾ƒä¸å¸¸ç”¨çš„ç±»ï¼Œåœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯èƒ½å¤§éƒ¨åˆ†äººé¦–å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯0-255çš„é€ä¸ªåŽ»pingï¼Œè¿™æ ·æ•ˆçŽ‡è¶…çº§ä½Žï¼è€Œä¸”ç²—æš´çš„æ–¹å¼è¿˜å¯èƒ½å¯¼è‡´oomï¼Œä¹‹å‰è¯´åˆ°çš„ ping ï¼Œå°±æ˜¯æ¯”å¦‚å±€åŸŸç½‘ä¸‹å‘å°„ä¿¡å·çš„ä¸»æœºå³æœåŠ¡å™¨ï¼Œè¿™é‡Œæˆ‘å°±å½¢è±¡çš„è¯´æ˜¯è·¯ç”±å™¨å§ï¼Œæ¯”å¦‚è·¯ç”±å™¨çš„ipæ˜¯192.168.0.1ï¼Œé‚£è¿žæŽ¥å®ƒçš„å…¶ä»–è®¾å¤‡çš„ipè¢«åˆ†é…çš„ipä¹Ÿæ˜¯192.168.0.xxxï¼Œè¿™é‡Œçš„xxxæ˜¯ä¸€ä¸ªå–å€¼èŒƒå›´0-255ï¼Œå¾ˆå¤šæ—¶å€™å¤§å®¶ä¸ºäº†æ–¹ä¾¿å°±é‡‡ç”¨å¾ªçŽ¯æ¥å¯¹0-255è¿™æ ·çš„ä¸€ä¸ªä¸€ä¸ªçš„åŽ»pingï¼Œä¹Ÿå°±æ˜¯åƒ192.168.0.2ã€192.168.0.3â€¦â€¦è¿™æ ·ä¸€ç›´åˆ°255,æ•ˆçŽ‡éžå¸¸æ…¢ã€‚ã€‚ã€‚ æ‰€ä»¥ä»Šå¤©å°±ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªå¥½ä¸œè¥¿ï¼Œjava.net.MulticastSocket MulticastSocket ç»§æ‰¿è‡ª DatagramSocket [java] view plain copy/* Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. The ASF licenses this file to You under the Apache License, Version 2.0 (the â€œLicenseâ€); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an â€œAS ISâ€ BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.*/ package java.net; import java.io.IOException;import java.util.Enumeration;import libcore.io.IoUtils; /** This class implements a multicast socket for sending and receiving IP multicast datagram packets. @see DatagramSocket*/public class MulticastSocket extends DatagramSocket { /** Stores the address supplied to setInterface so we can return it from getInterface. The translation to an interface index is lossy because an interface can have multiple addresses.*/private InetAddress setAddress; /** Constructs a multicast socket, bound to any available port on the local host. @throws IOException if an error occurs.*/public MulticastSocket() throws IOException { setReuseAddress(true);} /** Constructs a multicast socket, bound to the specified {@code port} on the local host. @throws IOException if an error occurs.*/public MulticastSocket(int port) throws IOException { super(port); setReuseAddress(true);} /** Constructs a {@code MulticastSocket} bound to the address and port specified by {@code localAddress}, or an unbound {@code MulticastSocket} if {@code localAddress == null}. @throws IllegalArgumentException if {@code localAddress} is not supported (because itâ€™s not an {@code InetSocketAddress}, say). @throws IOException if an error occurs.*/public MulticastSocket(SocketAddress localAddress) throws IOException { super(localAddress); setReuseAddress(true);} /** Returns an address of the outgoing network interface used by this socket. To avoid inherent unpredictability, new code should use {@link #getNetworkInterface} instead. @throws SocketException if an error occurs.*/public InetAddress getInterface() throws SocketException { checkOpen(); if (setAddress != null) { return setAddress; } InetAddress ipvXaddress = (InetAddress) impl.getOption(SocketOptions.IP_MULTICAST_IF); if (ipvXaddress.isAnyLocalAddress()) { // the address was not set at the IPv4 level so check the IPv6 // level NetworkInterface theInterface = getNetworkInterface(); if (theInterface != null) { Enumeration&lt;InetAddress&gt; addresses = theInterface.getInetAddresses(); if (addresses != null) { while (addresses.hasMoreElements()) { InetAddress nextAddress = addresses.nextElement(); if (nextAddress instanceof Inet6Address) { return nextAddress; } } } } } return ipvXaddress;} /** Returns the outgoing network interface used by this socket. @throws SocketException if an error occurs.*/public NetworkInterface getNetworkInterface() throws SocketException { checkOpen(); int index = (Integer) impl.getOption(SocketOptions.IP_MULTICAST_IF2); if (index != 0) { return NetworkInterface.getByIndex(index); } return NetworkInterface.forUnboundMulticastSocket();} /** Returns the time-to-live (TTL) for multicast packets sent on this socket. @throws IOException if an error occurs.*/public int getTimeToLive() throws IOException { checkOpen(); return impl.getTimeToLive();} /** Returns the time-to-live (TTL) for multicast packets sent on this socket. @throws IOException if an error occurs. @deprecated Use {@link #getTimeToLive} instead.*/@Deprecatedpublic byte getTTL() throws IOException { checkOpen(); return impl.getTTL();} /** Adds this socket to the specified multicast group. A socket must join a group before data may be received. A socket may be a member of multiple groups but may join any group only once. @param groupAddr the multicast group to be joined. @throws IOException if an error occurs.*/public void joinGroup(InetAddress groupAddr) throws IOException { checkJoinOrLeave(groupAddr); impl.join(groupAddr);} /** Adds this socket to the specified multicast group. A socket must join a group before data may be received. A socket may be a member of multiple groups but may join any group only once. @param groupAddress the multicast group to be joined. @param netInterface the network interface on which the datagram packets will be received. @throws IOException if the specified address is not a multicast address. @throws IllegalArgumentException if no multicast group is specified.*/public void joinGroup(SocketAddress groupAddress, NetworkInterface netInterface) throws IOException {checkJoinOrLeave(groupAddress, netInterface);impl.joinGroup(groupAddress, netInterface);} /** Removes this socket from the specified multicast group. @param groupAddr the multicast group to be left. @throws NullPointerException if {@code groupAddr} is {@code null}. @throws IOException if the specified group address is not a multicast address.*/public void leaveGroup(InetAddress groupAddr) throws IOException {checkJoinOrLeave(groupAddr);impl.leave(groupAddr);} /** Removes this socket from the specified multicast group. @param groupAddress the multicast group to be left. @param netInterface the network interface on which the addresses should be dropped. @throws IOException if the specified group address is not a multicast address. @throws IllegalArgumentException if {@code groupAddress} is {@code null}.*/public void leaveGroup(SocketAddress groupAddress, NetworkInterface netInterface) throws IOException {checkJoinOrLeave(groupAddress, netInterface);impl.leaveGroup(groupAddress, netInterface);} private void checkJoinOrLeave(SocketAddress groupAddress, NetworkInterface netInterface) throws IOException {checkOpen();if (groupAddress == null) {throw new IllegalArgumentException(â€œgroupAddress == nullâ€);} if (netInterface != null &amp;&amp; !netInterface.getInetAddresses().hasMoreElements()) {throw new SocketException(â€œNo address associated with interface: â€œ + netInterface);} if (!(groupAddress instanceof InetSocketAddress)) {throw new IllegalArgumentException(â€œGroup address not an InetSocketAddress: â€œ +groupAddress.getClass());} InetAddress groupAddr = ((InetSocketAddress) groupAddress).getAddress();if (groupAddr == null) {throw new SocketException(â€œGroup address has no address: â€œ + groupAddress);} if (!groupAddr.isMulticastAddress()) {throw new IOException(â€œNot a multicast group: â€œ + groupAddr);}} private void checkJoinOrLeave(InetAddress groupAddr) throws IOException {checkOpen();if (groupAddr == null) {throw new IllegalArgumentException(â€œgroupAddress == nullâ€);}if (!groupAddr.isMulticastAddress()) {throw new IOException(â€œNot a multicast group: â€œ + groupAddr);}} /** Sends the given {@code packet} on this socket, using the given {@code ttl}. This method is deprecated because it modifies the TTL socket option for this socket twice on each call. @throws IOException if an error occurs. @deprecated Use {@link #setTimeToLive} instead.*/@Deprecatedpublic void send(DatagramPacket packet, byte ttl) throws IOException { checkOpen(); InetAddress packAddr = packet.getAddress(); int currTTL = getTimeToLive(); if (packAddr.isMulticastAddress() &amp;&amp; (byte) currTTL != ttl) { try { setTimeToLive(ttl &amp; 0xff); impl.send(packet); } finally { setTimeToLive(currTTL); } } else { impl.send(packet); }} /** Sets the outgoing network interface used by this socket. The interface used is the first interface found to have the given {@code address}. To avoid inherent unpredictability, new code should use {@link #getNetworkInterface} instead. @throws SocketException if an error occurs.*/public void setInterface(InetAddress address) throws SocketException { checkOpen(); if (address == null) { throw new NullPointerException(&quot;address == null&quot;); } NetworkInterface networkInterface = NetworkInterface.getByInetAddress(address); if (networkInterface == null) { throw new SocketException(&quot;Address not associated with an interface: &quot; + address); } impl.setOption(SocketOptions.IP_MULTICAST_IF2, networkInterface.getIndex()); this.setAddress = address;} /** Sets the outgoing network interface used by this socket to the given {@code networkInterface}. @throws SocketException if an error occurs.*/public void setNetworkInterface(NetworkInterface networkInterface) throws SocketException { checkOpen(); if (networkInterface == null) { throw new SocketException(&quot;networkInterface == null&quot;); } impl.setOption(SocketOptions.IP_MULTICAST_IF2, networkInterface.getIndex()); this.setAddress = null;} /** Sets the time-to-live (TTL) for multicast packets sent on this socket. Valid TTL values are between 0 and 255 inclusive. @throws IOException if an error occurs.*/public void setTimeToLive(int ttl) throws IOException { checkOpen(); if (ttl &lt; 0 || ttl &gt; 255) { throw new IllegalArgumentException(&quot;TimeToLive out of bounds: &quot; + ttl); } impl.setTimeToLive(ttl);} /** Sets the time-to-live (TTL) for multicast packets sent on this socket. Valid TTL values are between 0 and 255 inclusive. @throws IOException if an error occurs. @deprecated Use {@link #setTimeToLive} instead.*/@Deprecatedpublic void setTTL(byte ttl) throws IOException { checkOpen(); impl.setTTL(ttl);} @Overridesynchronized void createSocket(int aPort, InetAddress addr) throws SocketException { impl = factory != null ? factory.createDatagramSocketImpl() : new PlainDatagramSocketImpl(); impl.create(); try { impl.setOption(SocketOptions.SO_REUSEADDR, Boolean.TRUE); impl.bind(aPort, addr); isBound = true; } catch (SocketException e) { close(); throw e; }} /** Returns true if multicast loopback is disabled. See {@link SocketOptions#IP_MULTICAST_LOOP}, and note that the sense of this is the opposite of the underlying Unix {@code IP_MULTICAST_LOOP}. @throws SocketException if an error occurs.*/public boolean getLoopbackMode() throws SocketException { checkOpen(); return !((Boolean) impl.getOption(SocketOptions.IP_MULTICAST_LOOP)).booleanValue();} /** Disables multicast loopback if {@code disable == true}. See {@link SocketOptions#IP_MULTICAST_LOOP}, and note that the sense of this is the opposite of the underlying Unix {@code IP_MULTICAST_LOOP}: true means disabled, false means enabled. @throws SocketException if an error occurs.*/public void setLoopbackMode(boolean disable) throws SocketException { checkOpen(); impl.setOption(SocketOptions.IP_MULTICAST_LOOP, Boolean.valueOf(!disable));}} äº†è§£ä¸€ä¸‹è¯¥ç±»åŽå¯ä»¥å¼€å§‹ä¸‹é¢çš„ç¼–ç¨‹ï¼Œé¦–å…ˆè¯´ä¸€ä¸‹å®¢æˆ·ç«¯ï¼Œå†è¯´æœåŠ¡ç«¯ï¼Œæœ€åŽè¯´æ˜Žä½¿ç”¨æ–¹æ³•â‘ å®¢æˆ·ç«¯ä»£ç æ ¸å¿ƒï¼š [java] view plain copy@Overrideprotected void onResume() { super.onResume(); /** * @author Engineer-Jsp * ç¬”è€…åœ¨è¯¥ Activity çš„ onResume()å‡½æ•°åˆå§‹åŒ–æŽ¥æ”¶çš„ä¾¦å¬ */ onBrodacastReceiver(); }â‘¡onBrodacastReceiver()å‡½æ•°ï¼š[java] view plain copyMulticastSocket multicastSocket; /** @author Engineer-Jsp onBrodacastReceiver()*/private void onBrodacastReceiver() { new Thread(new Runnable() { @Override public void run() { try { // æŽ¥æ”¶æ•°æ®æ—¶éœ€è¦æŒ‡å®šç›‘å¬çš„ç«¯å£å· multicastSocket = new MulticastSocket(10001); // åˆ›å»ºç»„æ’­IDåœ°å€ InetAddress address = InetAddress.getByName(&quot;239.0.0.1&quot;); // åŠ å…¥åœ°å€ multicastSocket.joinGroup(address); // åŒ…é•¿ byte[] buf = new byte[1024]; while (true) { // æ•°æ®æŠ¥ DatagramPacket datagramPacket = new DatagramPacket(buf, buf.length); // æŽ¥æ”¶æ•°æ®ï¼ŒåŒæ ·ä¼šè¿›å…¥é˜»å¡žçŠ¶æ€ multicastSocket.receive(datagramPacket); // ä»Žbufferä¸­æˆªå–æ”¶åˆ°çš„æ•°æ® byte[] message = new byte[datagramPacket.getLength()]; // æ•°ç»„æ‹·è´ System.arraycopy(buf, 0, message, 0, datagramPacket.getLength()); // æ‰“å°æ¥è‡ªç»„æ’­é‡Œå…¶ä»–æœåŠ¡çš„orå®¢æˆ·ç«¯çš„ip System.out.println(datagramPacket.getAddress()); // æ‰“å°æ¥è‡ªç»„æ’­é‡Œå…¶ä»–æœåŠ¡çš„orå®¢æˆ·ç«¯çš„æ¶ˆæ¯ System.out.println(new String(message)); // æ”¶åˆ°æ¶ˆæ¯åŽå¯ä»¥è¿›è¡Œè®°å½•ç„¶åŽäºŒæ¬¡ç¡®è®¤ï¼Œå¦‚æžœåªæ˜¯æƒ³èŽ·å–ipï¼Œåœ¨å‘é€æ–¹æ”¶åˆ°è¯¥æ¶ˆæ¯åŽå¯å…³é—­å¥—æŽ¥å­—ï¼Œä»Žè€Œé‡Šæ”¾èµ„æº onBrodacastSend(datagramPacket.getAddress()); } } catch (IOException e) { e.printStackTrace(); } } }).start();} â‘¢ onBrodacastSend() å‡½æ•°[java] view plain copy/** onBrodacastSend() @author Engineer-Jsp @param address ip*/private void onBrodacastSend(InetAddress address) { // å‡è®¾ 239.0.0.1 å·²ç»æ”¶åˆ°äº†æ¥è‡ªå…¶ä»–ç»„ipæ®µçš„æ¶ˆæ¯ï¼Œä¸ºäº†è¿›è¡ŒäºŒæ¬¡ç¡®è®¤ï¼Œå‘é€ â€œsnoopâ€ // è¿›è¡Œç¡®è®¤ï¼Œå½“å‘é€æ–¹æ”¶åˆ°è¯¥æ¶ˆæ¯å¯ä»¥é‡Šæ”¾èµ„æº String out = â€œsnoopâ€; // èŽ·å–â€snoopâ€çš„å­—èŠ‚æ•°ç»„ byte[] buf = out.getBytes(); // ç»„æŠ¥ DatagramPacket datagramPacket = new DatagramPacket(buf, buf.length); // è®¾ç½®åœ°å€ï¼Œè¯¥åœ°å€æ¥è‡ªonBrodacastReceiver()å‡½æ•°é˜»å¡žæ•°æ®æŠ¥ï¼ŒdatagramPacket.getAddress() datagramPacket.setAddress(address); // å‘é€çš„ç«¯å£å· datagramPacket.setPort(8082); try { // å¼€å§‹å‘é€ multicastSocket.send(datagramPacket); } catch (IOException e) { e.printStackTrace(); }} è¿™æ˜¯å®¢æˆ·ç«¯çš„ä»£ç ï¼Œä¸‹é¢å¼€å§‹ä¸ŠæœåŠ¡ç«¯çš„ä»£ç â‘ åˆå§‹åŒ– [java] view plain copy@Overrideprotected void onResume() { super.onResume(); /** * @author Engineer-Jsp * ç¬”è€…åœ¨è¯¥ Activity çš„ onResume()å‡½æ•°åˆå§‹åŒ–æŽ¥æ”¶å’Œå‘é€ * onBrodacastSend() å‘é€ * onBrodacastReceiver() æŽ¥æ”¶ */ onBrodacastSend(); onBrodacastReceiver(); }â‘¡ onBrodacastSend() å‡½æ•°[java] view plain copyInetAddress address;MulticastSocket multicastSocket; /** @author Engineer-Jsp onBrodacastSend() å‘é€*/private void onBrodacastSend() { try { // ä¾¦å¬çš„ç«¯å£ multicastSocket = new MulticastSocket(8082); // ä½¿ç”¨Dç±»åœ°å€ï¼Œè¯¥åœ°å€ä¸ºå‘èµ·ç»„æ’­çš„é‚£ä¸ªipæ®µï¼Œå³ä¾¦å¬10001çš„å¥—æŽ¥å­— address = InetAddress.getByName(&quot;239.0.0.1&quot;); new Thread(new Runnable() { @Override public void run() { while (true) { // èŽ·å–å½“å‰æ—¶é—´ String time = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(new Date()); // å½“å‰æ—¶é—´+æ ‡è¯†åŽç¼€ time = time + &quot; &gt;&gt;&gt; form server onBrodacastSend()&quot;; // èŽ·å–å½“å‰æ—¶é—´+æ ‡è¯†åŽç¼€çš„å­—èŠ‚æ•°ç»„ byte[] buf = time.getBytes(); // ç»„æŠ¥ DatagramPacket datagramPacket = new DatagramPacket(buf, buf.length); // å‘ç»„æ’­IDï¼Œå³æŽ¥æ”¶group /239.0.0.1 ç«¯å£ 10001 datagramPacket.setAddress(address); // å‘é€çš„ç«¯å£å· datagramPacket.setPort(10001); try { // å¼€å§‹å‘é€ multicastSocket.send(datagramPacket); // æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œçº¿ç¨‹ä¼‘çœ 2sï¼Œç„¶åŽç»§ç»­ä¸‹ä¸€æ¬¡ä»»åŠ¡ Thread.sleep(2000); } catch (InterruptedException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); } } } }).start(); } catch (UnknownHostException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); }} â‘¢onBrodacastReceiver(ï¼‰å‡½æ•°[java] view plain copy/** @author Engineer-Jsp onBrodacastReceiver() æŽ¥æ”¶*/private void onBrodacastReceiver() { new Thread(new Runnable() { @Override public void run() { try { // å­—èŠ‚æ•°ç»„çš„æ ¼å¼ï¼Œå³æœ€å¤§å¤§å° byte[] buf = new byte[1024]; while (true) { // ç»„æŠ¥æ ¼å¼ DatagramPacket datagramPacket = new DatagramPacket(buf, buf.length); // æŽ¥æ”¶æ¥è‡ªgroupç»„æ’­10001ç«¯å£çš„äºŒæ¬¡ç¡®è®¤ï¼Œé˜»å¡ž multicastSocket.receive(datagramPacket); // ä»Žbufä¸­æˆªå–æ”¶åˆ°çš„æ•°æ® byte[] message = new byte[datagramPacket.getLength()]; // æ•°ç»„æ‹·è´ System.arraycopy(buf, 0, message, 0, datagramPacket.getLength()); // è¿™é‡Œæ‰“å°ipå­—æ®µ System.out.println(datagramPacket.getAddress()); // æ‰“å°ç»„æ’­ç«¯å£10001å‘é€è¿‡æ¥çš„æ¶ˆæ¯ System.out.println(new String(message)); // è¿™é‡Œå¯ä»¥æ ¹æ®ç»“æŽ¥æ”¶åˆ°çš„å†…å®¹è¿›è¡Œåˆ†å‘å¤„ç†ï¼Œå‡å¦‚æ”¶åˆ° 10001çš„ &quot;snoop&quot;å­—æ®µä¸ºå…³é—­å‘½ä»¤ï¼Œå³å¯åœ¨æ­¤å¤„å…³é—­å¥—æŽ¥å­—ä»Žè€Œé‡Šæ”¾èµ„æº } } catch (IOException e) { e.printStackTrace(); } } }).start();} è¿™æ˜¯æœåŠ¡ç«¯çš„ä»£ç ï¼Œä¹Ÿåˆ†äº«å®Œäº†ï¼Œä¸‹é¢ç”»ä¸€ä¸ªå›¾æ¥å¤§æ¦‚æè¿°ä¸€ä¸‹ä»–ä»¬çš„å·¥ä½œæµç¨‹å›¾ç¤ºæ„ï¼š ä½¿ç”¨æ–¹æ³•ï¼šâ‘ é¦–å…ˆéœ€è¦åœ¨åŒä¸€wifiç½‘ç»œä¸‹ â‘¡éœ€è¦èŽ·å–æ‰€æœ‰ipçš„æ‰‹æœºå®‰è£…å®¢æˆ·ç«¯ï¼Œå³ä¾¦å¬10001çš„é‚£ä¸ªç«¯å£ â‘¢æ‰€æœ‰éœ€è¦å°†ä¿¡æ¯å…±äº«å¹¶ç»„æ’­åˆ° 239.0.0.1:10001è¿™ä¸ªgroupçš„å®‰è£…æœåŠ¡ç«¯ â‘£å¼€å¯æœåŠ¡ç«¯ä¸Žå®¢æˆ·ç«¯å¼€å§‹è¿›è¡Œæ•°æ®çš„äº¤äº’ ä»¥ä¸Šæ˜¯å¤§è‡´çš„æè¿°å›¾ï¼Œå¸®åŠ©å¤§å®¶ç†è§£ï¼Œè°¢è°¢è§‚åšï¼]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>MulticastSocket</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android åŸºæœ¬æŠ€æœ¯ç‚¹æ— çº¿è®¾å¤‡]]></title>
    <url>%2F2018%2F05%2F24%2FAndroid%E5%9F%BA%E6%9C%AC%E6%8A%80%E6%9C%AF%E7%82%B9%E5%9B%9E%E9%A1%BE%2F</url>
    <content type="text"><![CDATA[æ— çº¿è¿žæŽ¥è®¾å¤‡ Network Service Discovery:NSDç½‘ç»œæœåŠ¡å‘çŽ°ã€‚ WiFiå»ºç«‹P2Pè¿žæŽ¥ ä½¿ç”¨WiFi P2PæœåŠ¡ NSDç½‘ç»œå‘çŽ° NsdManager ç®¡ç†æ¶‰åŠåˆ°æœåŠ¡æ³¨å†Œã€ç›‘å¬å™¨ã€å–æ¶ˆæœåŠ¡ç­‰ï¼Œå½“ä¸šåŠ¡å®Œæˆè¦åŠæ—¶å–æ¶ˆæ³¨å†ŒæœåŠ¡(å–æ¶ˆæ³¨å†Œã€å…³é—­æœç´¢æœåŠ¡)ï¼Œé˜²æ­¢å ç”¨èµ„æº registerServiceæ³¨å†Œç›‘å¬å™¨ resolveServiceè§£æžç›‘å¬å™¨ discoverServicesæœç´¢å¯å‘çŽ°æœåŠ¡ NsdServiceInfoæ³¨å†ŒæœåŠ¡çš„ä¿¡æ¯ - setServiceName - setPort - setServiceType ä¸æŽ¨èç¡¬ç¼–ç è®¾ç½®ç«¯å£å·ï¼Œå»ºè®®ä½¿ç”¨è¿™ç§ï¼š ServerSocket sock = new ServerSocket(0); port = sock.getLocalPort(); sock.close(); å…¶ä¸­çš„æœåŠ¡ç±»åž‹å†™æ³•ï¼šæŒ‡å®šåº”ç”¨ä½¿ç”¨çš„åè®®å’Œä¼ è¾“å±‚ã€‚è¯­æ³•æ˜¯â€œ_&lt; protocol &gt;._&lt; transportlayer &gt;â€ NsdManager.DiscoveryListener mDiscoveryListener = new NsdManager.DiscoveryListener() { // Called as soon as service discovery begins. @Override public void onDiscoveryStarted(String regType) { Log.d(TAG, &quot;Service discovery started&quot;); } @Override public void onServiceFound(NsdServiceInfo service) { // A service was found! Do something with it. Log.d(TAG, &quot;Service discovery success&quot; + service); if (!service.getServiceType().equals(&quot;_http._tcp.&quot;)) { // Service type is the string containing the protocol and // transport layer for this service. Log.d(TAG, &quot;Unknown Service Type: &quot; + service.getServiceType()); } else if (service.getServiceName().equals(mServiceName)) { // The name of the service tells the user what they&apos;d be // connecting to. It could be &quot;Bob&apos;s Chat App&quot;. Log.d(TAG, &quot;Same machine: &quot; + mServiceName); } else if (service.getServiceName().contains(&quot;NsdChat&quot;)){ mNsdManager.resolveService(service, mResolveListener); } } @Override public void onServiceLost(NsdServiceInfo service) { // When the network service is no longer available. // Internal bookkeeping code goes here. Log.e(TAG, &quot;service lost&quot; + service); } @Override public void onDiscoveryStopped(String serviceType) { Log.i(TAG, &quot;Discovery stopped: &quot; + serviceType); } @Override public void onStartDiscoveryFailed(String serviceType, int errorCode) { Log.e(TAG, &quot;Discovery failed: Error code:&quot; + errorCode); mNsdManager.stopServiceDiscovery(this); } @Override public void onStopDiscoveryFailed(String serviceType, int errorCode) { Log.e(TAG, &quot;Discovery failed: Error code:&quot; + errorCode); mNsdManager.stopServiceDiscovery(this); } }; NsdManager.RegistrationListener mRegistrationListener = new NsdManager.RegistrationListener() { @Override public void onServiceRegistered(NsdServiceInfo NsdServiceInfo) { // Save the service name. Android may have changed it in order to // resolve a conflict, so update the name you initially requested // with the name Android actually used. mServiceName = NsdServiceInfo.getServiceName(); } @Override public void onRegistrationFailed(NsdServiceInfo serviceInfo, int errorCode) { // Registration failed! Put debugging code here to determine why. } @Override public void onServiceUnregistered(NsdServiceInfo arg0) { // Service has been unregistered. This only happens when you call // NsdManager.unregisterService() and pass in this listener. } @Override public void onUnregistrationFailed(NsdServiceInfo serviceInfo, int errorCode) { // Unregistration failed. Put debugging code here to determine why. } }; NsdManager.ResolveListener mResolveListener = new NsdManager.ResolveListener() { @Override public void onResolveFailed(NsdServiceInfo serviceInfo, int errorCode) { // Called when the resolve fails. Use the error code to debug. Log.e(TAG, &quot;Resolve failed&quot; + errorCode); } @Override public void onServiceResolved(NsdServiceInfo serviceInfo) { Log.e(TAG, &quot;Resolve Succeeded. &quot; + serviceInfo); if (serviceInfo.getServiceName().equals(mServiceName)) { Log.d(TAG, &quot;Same IP.&quot;); return; } } }; å¤§è‡´æµç¨‹ï¼šæ³¨å†Œæœ¬æœºæœåŠ¡ -&gt; æ³¨å†Œç›‘å¬ -&gt; æ³¨è§£è§£æž -&gt; æœç´¢å‘çŽ°æœåŠ¡ -&gt; è§£æžå¯å‘çŽ°çš„ -&gt; èŽ·å–ip ç«¯å£å· -&gt; è¿žæŽ¥ WiFi p2pè¿žæŽ¥ p2pä¸éœ€è¦è®¿é—®ç½‘ç»œï¼Œä½†æ˜¯ä¼šä½¿ç”¨javaä¸­çš„socketï¼Œsocketéœ€ç½‘ç»œæƒé™( CHANGE_WIFI_STATEã€ACCESS_WIFI_STATEã€INTERNET) è®¾ç½®å¹¿æ’­æŽ¥æ”¶å™¨å’Œp2pç®¡ç†å™¨ é¦–å…ˆæ³¨å†Œå¹¿æ’­ï¼Œç›‘å¬æ¯æ¬¡çš„wifi p2päº‹ä»¶å˜åŒ–ï¼Œä¸»è¦ç›‘å¬WIFI_P2P_STATE_CHANGED_ACTION Wi-Fi P2P æ˜¯å¦å¼€å¯ï¼ŒWIFI_P2P_PEERS_CHANGED_ACTION å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰åˆ—è¡¨å‘ç”Ÿäº†å˜åŒ–,WIFI_P2P_CONNECTION_CHANGED_ACTION è¿žæŽ¥çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜,WIFI_P2P_THIS_DEVICE_CHANGED_ACTION è®¾å¤‡çš„è¯¦ç»†é…ç½®å‘ç”Ÿäº†å˜åŒ–è¿™äº›å¹¿æ’­ï¼Œè¿™äº›å¹¿æ’­å®šä¹‰åœ¨WifiP2pManagerç±»ä¸­ã€‚ å®žä¾‹åŒ–Channelå¯¹è±¡ï¼Œåœ¨åŽç»­çš„æ–¹æ³•ä¸­åŸºæœ¬éƒ½éœ€è¦ç”¨åˆ°ï¼ŒWifiP2pManagerçš„æ–¹æ³•åŸºæœ¬éƒ½éœ€è¦è¿™ä¸ªï¼Œåº”è¯¥æ˜¯ä¼ é€’æ•°æ®å°è£…æ•°æ®ç”¨çš„ã€‚ mChannel = mManager.initialize(this, getMainLooper(), null); åˆå§‹åŒ–å¯¹ç­‰èŠ‚ç‚¹å‘çŽ°ï¼ˆPeer Discoveryï¼‰ discoverPeers() æœç´¢è®¾å¤‡ åŸºæœ¬æ¦‚å¿µ WPSæ˜¯å•¥ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼š ï¼ˆWi-Fi Protected Setupï¼ŒWi-Fiä¿æŠ¤è®¾ç½®ï¼‰ï¼ˆæœ‰çš„å«åšAOSSã€æœ‰çš„å«åšQSSï¼Œä¸è¿‡åŠŸèƒ½éƒ½ä¸€è‡´ã€‚ï¼‰æ˜¯ç”±Wi-Fiè”ç›Ÿç»„ç»‡å®žæ–½çš„è®¤è¯é¡¹ç›®ï¼Œä¸»è¦è‡´åŠ›äºŽç®€åŒ–æ— çº¿å±€åŸŸç½‘çš„å®‰è£…åŠå®‰å…¨æ€§èƒ½é…ç½®å·¥ä½œã€‚åœ¨ä¼ ç»Ÿæ–¹å¼ä¸‹ï¼Œç”¨æˆ·æ–°å»ºä¸€ä¸ªæ— çº¿ç½‘ç»œæ—¶ï¼Œå¿…é¡»åœ¨æŽ¥å…¥ç‚¹æ‰‹åŠ¨è®¾ç½®ç½‘ç»œåï¼ˆSSIDï¼‰å’Œå®‰å…¨å¯†é’¥ï¼Œç„¶åŽåœ¨å®¢æˆ·ç«¯éªŒè¯å¯†é’¥ä»¥é˜»æ­¢â€œä¸é€Ÿä¹‹å®¢â€çš„é—¯å…¥ã€‚è¿™æ•´ä¸ªè¿‡ç¨‹éœ€è¦ç”¨æˆ·å…·å¤‡Wi-Fiè®¾å¤‡çš„èƒŒæ™¯çŸ¥è¯†å’Œä¿®æ”¹å¿…è¦é…ç½®çš„èƒ½åŠ›ã€‚Wi- Fi Protected Setupèƒ½å¸®åŠ©ç”¨æˆ·è‡ªåŠ¨è®¾ç½®ç½‘ç»œåï¼ˆSSIDï¼‰ã€é…ç½®å¼ºå¤§çš„WPAæ•°æ®ç¼–ç åŠè®¤è¯åŠŸèƒ½ï¼Œç”¨æˆ·åªéœ€è¾“å…¥ä¸ªäººä¿¡æ¯ç ï¼ˆPINæ–¹æ³•ï¼‰æˆ–æŒ‰ä¸‹æŒ‰é’®ï¼ˆæŒ‰é’®è®¾ç½®ï¼Œæˆ–ç§°PBCï¼‰ï¼Œå³èƒ½å®‰å…¨åœ°è¿žå…¥WLANã€‚è¿™å¤§å¤§ç®€åŒ–äº†æ— çº¿å®‰å…¨è®¾ç½®çš„æ“ä½œã€‚Wi-Fi Protected Setupæ”¯æŒå¤šç§é€šè¿‡Wi-Fiè®¤è¯çš„802.11äº§å“ï¼ŒåŒ…æ‹¬æŽ¥å…¥ç‚¹ã€æ— çº¿é€‚é…å™¨ã€Wi-Fiç”µè¯ä»¥åŠå…¶ä»–æ¶ˆè´¹æ€§ç”µå­è®¾å¤‡ã€‚ WPSåˆ†ä¸ºPBC(BUTTON)å’ŒPINä¸¤ç§æ–¹å¼ï¼š A PBC: æŒ‰WPSæŒ‰é’®å®žçŽ°WPSå®‰å…¨è¿žæŽ¥. åœ¨APä¸­ï¼Œåœ¨WPSè®¾ç½®ä¸­,è®¾ç½®ä¸ºå¯ç”¨. æŒ‰ä¸€ä¸‹å®¢æˆ·ç«¯(æ— çº¿ç½‘å¡)ä¸Šçš„WPSæŒ‰é”®,æœç´¢WPSç½‘ç»œ. æŒ‰ä¸€ä¸‹APä¸Šçš„WPSæŒ‰é”®,WPSå¼€å§‹é“¾æŽ¥åå•†,ç‰‡åˆ»åŽWPSå®‰å…¨è¿žæŽ¥æˆåŠŸå»ºç«‹. B PIN B1) PIN(Internal Registra, ç›¸å¯¹äºŽAPè€Œè¨€)ï¼šé€šè¿‡åœ¨è·¯ç”±å™¨ä¸­è¾“å…¥å®¢æˆ·ç«¯PINç æ¥å®žçŽ°WPSå®‰å…¨è¿žæŽ¥. åœ¨WPSè®¾ç½®ä¸­,æŠŠçŠ¶æ€è®¾ç½®ä¸ºå¯ç”¨. æ‰“å¼€å®¢æˆ·ç«¯WPSè®¾ç½®è½¯ä»¶,é€‰æ‹©åœ¨è·¯ç”±å™¨ä¸­è¾“å…¥PINçš„æ–¹å¼è¿žæŽ¥,åŒæ—¶è½¯ä»¶ä¸Šè¿˜ä¼šæ˜¾ç¤ºå®¢æˆ·ç«¯å½“å‰çš„PINç . æ‰“å¼€è·¯ç”±å™¨ç•Œé¢,åœ¨WPSæ¨¡å¼é‡Œé€‰æ‹©PINæ¨¡å¼,ç„¶åŽè¾“å…¥å®¢æˆ·ç«¯çš„PINç ,ç‚¹æ·»åŠ æ–°è®¾å¤‡,ä¸€ä¼šå„¿åŽ,WPSå®‰å…¨è¿žæŽ¥æˆåŠŸå»ºç«‹. B2) PIN(External Registra, ç›¸å¯¹äºŽAPè€Œè¨€)ï¼šé€šè¿‡è¾“å…¥APçš„PINç å®žçŽ°WPSå®‰å…¨è¿žæŽ¥.åœ¨APä¸­ï¼Œåœ¨WPSè®¾ç½®ä¸­,è®¾ç½®ä¸ºå¯ç”¨. è®°ä½APçš„PINç ,ç„¶åŽæ‰“å¼€å®¢æˆ·ç«¯ï¼ˆæ— çº¿ç½‘å¡ï¼‰WPSè®¾ç½®è½¯ä»¶,é€‰æ‹©ä»¥APçš„PINç æ¥è¿›è¡Œè¿žæŽ¥. è¾“å…¥å®ŒPINç åŽ,ç‚¹ä¸‹ä¸€æ­¥,ä¸€ä¼šå„¿åŽ,WPSå®‰å…¨è¿žæŽ¥æˆåŠŸå»ºç«‹. ä»£ç  public class WifiP2PActivity extends AppCompatActivity { String TAG = &quot; WifiP2P&quot;; WifiP2pManager mWifiP2pManager; Channel mChannel; IntentFilter mIntentFilter; WifiP2PBReciver mReciver; List&lt;WifiP2pDevice&gt; peers = new ArrayList(); WifiP2pConfig mWifiP2pConfig; //èŽ·å–è®¾å¤‡åˆ—è¡¨ private WifiP2pManager.PeerListListener peerListListener = new WifiP2pManager.PeerListListener() { @Override public void onPeersAvailable(WifiP2pDeviceList peerList) { // èŽ·å–è®¾å¤‡åˆ—è¡¨ peerList.getDeviceList(); Log.i(TAG,&quot;èŽ·å–çš„å¯¹ç­‰èŠ‚ç‚¹åˆ—è¡¨ï¼š&quot;+peerList.toString()); peers.clear(); peers.addAll(peerList.getDeviceList()); // è¿žæŽ¥ ä¸åº”è¯¥åœ¨è¿™å†™ï¼Œè¿™æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œåº”è¯¥æ‰‹åŠ¨é€‰æ‹©æ—¶ä»Žä¿å­˜çš„å¯¹ç­‰èŠ‚ç‚¹åˆ—è¡¨ä¸­èŽ·å–ä¿¡æ¯ï¼ŒåŽ»è¿žæŽ¥ mWifiP2pConfig = new WifiP2pConfig(); mWifiP2pConfig.deviceAddress = peers.get(0).deviceAddress; mWifiP2pConfig.wps.setup = WpsInfo.PBC; mWifiP2pManager.connect(mChannel, mWifiP2pConfig, new WifiP2pManager.ActionListener() { @Override public void onSuccess() { Log.i(TAG,&quot;è¿žæŽ¥æˆåŠŸäº†&quot;); } @Override public void onFailure(int reason) { Log.i(TAG,&quot;è¿žæŽ¥å¤±è´¥äº†:&quot;+reason); } }); } }; WifiP2pManager.ConnectionInfoListener connectionInfoListener = new WifiP2pManager.ConnectionInfoListener() { @Override public void onConnectionInfoAvailable(WifiP2pInfo info) { // InetAddress from WifiP2pInfo struct. //å½“æœ‰å¤šä¸ªè®¾å¤‡åŒæ—¶è¯•å›¾è¿žæŽ¥åˆ°ä¸€å°è®¾å¤‡æ—¶ï¼ˆä¾‹å¦‚å¤šäººæ¸¸æˆæˆ–è€…èŠå¤©ç¾¤ï¼‰ï¼Œè¿™ä¸€å°è®¾å¤‡å°†è¢«æŒ‡å®šä¸ºâ€œç¾¤ä¸»â€ï¼ˆgroup ownerï¼‰ã€‚ String groupOwnerAddress = info.groupOwnerAddress.getHostAddress(); // After the group negotiation, we can determine the group owner. if (info.groupFormed &amp;&amp; info.isGroupOwner) { // Do whatever tasks are specific to the group owner. // One common case is creating a server thread and accepting // incoming connections. } else if (info.groupFormed) { // The other device acts as the client. In this case, // you&apos;ll want to create a client thread that connects to the group // owner. } } }; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_wifi_p2_p); mIntentFilter = new IntentFilter(); //è¿žæŽ¥çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION); // æŒ‡ç¤ºè®¾å¤‡çš„è¯¦ç»†é…ç½®å‘ç”Ÿäº†å˜åŒ– mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION); //ä»£è¡¨å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰åˆ—è¡¨å‘ç”Ÿäº†å˜åŒ– mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION); // æŒ‡ç¤º Wi-Fi P2P æ˜¯å¦å¼€å¯ mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION); mWifiP2pManager = (WifiP2pManager) getApplicationContext().getSystemService(WIFI_P2P_SERVICE); mChannel = mWifiP2pManager.initialize(this, getMainLooper(), new WifiP2pManager.ChannelListener() { @Override public void onChannelDisconnected() { Log.i(TAG,&quot;é€šé“æ–­å¼€&quot;); } }); //æœç´¢å¯¹ç­‰èŠ‚ç‚¹ peers mWifiP2pManager.discoverPeers(mChannel, new WifiP2pManager.ActionListener() { @Override public void onSuccess() { Log.i(TAG,&quot;æœç´¢æˆåŠŸï¼&quot;); } @Override public void onFailure(int reason) { //WifiP2pManager ä¸­çš„å¤±è´¥å€¼ /*** Passed with {@link WifiP2pManager.ActionListener#onFailure}. * Indicates that the operation failed due to an internal error. */int ERROR = 0; /** * Passed with {@link WifiP2pManager.ActionListener#onFailure}. * Indicates that the operation failed because p2p is unsupported on the device. */int P2P_UNSUPPORTED = 1; /** * Passed with {@link WifiP2pManager.ActionListener#onFailure}. * Indicates that the operation failed because the framework is busy and * unable to service the request */int BUSY = 2; /** * Passed with {@link WifiP2pManager.ActionListener#onFailure}. * Indicates that the {@link #discoverServices} failed because no service * requests are added. Use {@link #addServiceRequest} to add a service * request. */int NO_SERVICE_REQUESTS = 3; Log.e(TAG,&quot;æœç´¢å¤±è´¥ï¼&quot;+reason); } }); } @Override protected void onResume() { super.onResume(); //æ³¨å†ŒæŽ¥å—wifi p2p çŠ¶æ€å˜åŒ–å¹¿æ’­ mReciver = new WifiP2PBReciver(); getApplicationContext().registerReceiver(mReciver,mIntentFilter); } @Override protected void onPause() { super.onPause(); try{ unregisterReceiver(mReciver); }catch (Exception e){ } } class WifiP2PBReciver extends BroadcastReceiver{ @Override public void onReceive(Context context, Intent intent) { String action = intent.getAction(); if (WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION.equals(action)) { // Determine if Wifi P2P mode is enabled or not, alert // the Activity. int state = intent.getIntExtra(WifiP2pManager.EXTRA_WIFI_STATE, -1); if (state == WifiP2pManager.WIFI_P2P_STATE_ENABLED) { } else { } } else if (WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION.equals(action)) { // The peer list has changed! We should probably do something about // that. //åœ¨æ­¤å¤„èŽ·å–è®¾å¤‡åˆ—è¡¨å˜åŒ–åŽçš„æ•°æ® mWifiP2pManager.requestPeers(mChannel,peerListListener); } else if (WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION.equals(action)) { // Connection state changed! We should probably do something about // that. NetworkInfo networkInfo = (NetworkInfo) intent .getParcelableExtra(WifiP2pManager.EXTRA_NETWORK_INFO); if (networkInfo.isConnected()) { // We are connected with the other device, request connection // info to find group owner IP mWifiP2pManager.requestConnectionInfo(mChannel, connectionInfoListener); } } else if (WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION.equals(action)) { WifiP2pDevice device = (WifiP2pDevice) intent.getParcelableExtra(WifiP2pManager.EXTRA_WIFI_P2P_DEVICE); } } } } WiFi P2P æœåŠ¡å‘çŽ° é¦–å…ˆåœ¨æœ¬åœ°æ³¨å†Œä¸€ä¸ªæœåŠ¡ï¼ŒæœåŠ¡æ³¨å†Œæ˜¯è¦å°†æœåŠ¡ç±»åž‹ã€æœåŠ¡ä¿¡æ¯å°è£…åˆ°WifiP2pServiceInfoä¸­ï¼Œå†é€šè¿‡WifiP2pManagerå°†æœåŠ¡æ·»åŠ åˆ°æœ¬åœ°ï¼Œæœ¬åœ°æœåŠ¡æ·»åŠ åŽæ³¨å†Œç›‘å¬DnsSdTxtRecordListeneræ¥å®žæ—¶ç›‘å¬recordè®°å½•æ•°æ®ï¼Œæ³¨å†ŒDnsSdServiceResponseListeneræŽ¥æ”¶æœåŠ¡çš„å®žé™…æè¿°å’Œè¿žæŽ¥çš„ä¿¡æ¯ï¼Œå‰è€…å¤„ç†è®°å½•è¿žæŽ¥çš„æœåŠ¡ä¿¡æ¯ç”¨æ¥è·ŸåŽè€…åšå¯¹åº”å…³ç³»å¤„ç†ã€‚å‰è€…ç»™ä½ ä¸€ç»„å¯¹ä»–çš„æœåŠ¡çš„æè¿°ä¿¡æ¯ï¼Œç„¶åŽåœ¨åŽè€…è¿›è¡ŒåŒ¹é…ï¼Œå°†æè¿°ä¿¡æ¯ä¸Žå®žé™…çš„ç¡¬ä»¶ä¿¡æ¯åšåŒ¹é…ï¼ŒæŠŠå¤„ç†è¿‡çš„æ•°æ®ç»™ç”¨æˆ·çœ‹ã€‚è¿žæŽ¥åŽåˆ›å»ºæœåŠ¡è¯·æ±‚ addServiceRequest()ï¼Œæœ€åŽè°ƒç”¨ discoverServices() WifiP2pManager(æ·»åŠ æœåŠ¡åˆ°æœ¬åœ°) wifiP2pManager = (WifiP2pManager) getApplicationContext().getSystemService(WIFI_P2P_SERVICE); WifiP2pServiceInfo (åˆ›å»ºæœ¬åœ°æœåŠ¡çš„å‚æ•°é…ç½®ä¿¡æ¯) WifiP2pDnsSdServiceInfo.newInstance(&quot;instanceName&quot;,&quot;serviceType&quot;,map); serviceTypeä¸ŽNSDä¸­çš„æœåŠ¡ç±»åž‹ç›¸åŒ; æœåŠ¡ä¿¡æ¯æ˜¯é€šè¿‡å­˜æ”¾åœ¨mapæ–¹å¼å­˜å…¥ï¼Œä»–äººè¿žæŽ¥èƒ½å¤ŸèŽ·å–åˆ°è¯¥æ•°æ®;]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œå‘çŽ°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaçš„å››ç§å¼•ç”¨]]></title>
    <url>%2F2018%2F05%2F24%2Fva%E7%9A%84%E5%9B%9B%E7%A7%8D%E5%BC%95%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å¼ºå¼•ç”¨ StrongReferenceå¼ºå¼•ç”¨æ˜¯ä½¿ç”¨æœ€æ™®éçš„å¼•ç”¨ã€‚å¦‚æžœä¸€ä¸ªå¯¹è±¡å…·æœ‰å¼ºå¼•ç”¨ï¼Œé‚£åžƒåœ¾å›žæ”¶å™¨ç»ä¸ä¼šå›žæ”¶å®ƒã€‚å½“å†…å­˜ç©ºé—´ä¸è¶³ï¼ŒJavaè™šæ‹Ÿæœºå®æ„¿æŠ›å‡ºOutOfMemoryErroré”™è¯¯ï¼Œä½¿ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ï¼Œä¹Ÿä¸ä¼šé éšæ„å›žæ”¶å…·æœ‰å¼ºå¼•ç”¨çš„å¯¹è±¡æ¥è§£å†³å†…å­˜ä¸è¶³çš„é—®é¢˜ã€‚ psï¼šå¼ºå¼•ç”¨å…¶å®žä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶A a = new A()è¿™ä¸ªæ„æ€ã€‚ å¼±å¼•ç”¨ WeakReference å¼±å¼•ç”¨ä¸Žè½¯å¼•ç”¨çš„åŒºåˆ«åœ¨äºŽï¼šåªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡æ‹¥æœ‰æ›´çŸ­æš‚çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨åžƒåœ¾å›žæ”¶å™¨çº¿ç¨‹æ‰«æå®ƒæ‰€ç®¡è¾–çš„å†…å­˜åŒºåŸŸçš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦å‘çŽ°äº†åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸ç®¡å½“å‰å†…å­˜ç©ºé—´è¶³å¤Ÿä¸Žå¦ï¼Œéƒ½ä¼šå›žæ”¶å®ƒçš„å†…å­˜ã€‚ä¸è¿‡ï¼Œç”±äºŽåžƒåœ¾å›žæ”¶å™¨æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½Žçš„çº¿ç¨‹ï¼Œå› æ­¤ä¸ä¸€å®šä¼šå¾ˆå¿«å‘çŽ°é‚£äº›åªå…·æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ã€‚ å¼±å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æžœå¼±å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åžƒåœ¾å›žæ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªå¼±å¼•ç”¨åŠ å…¥åˆ°ä¸Žä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚ è½¯å¼•ç”¨ SoftReference å¦‚æžœä¸€ä¸ªå¯¹è±¡åªå…·æœ‰è½¯å¼•ç”¨ï¼Œåˆ™å†…å­˜ç©ºé—´è¶³å¤Ÿï¼Œåžƒåœ¾å›žæ”¶å™¨å°±ä¸ä¼šå›žæ”¶å®ƒï¼›å¦‚æžœå†…å­˜ç©ºé—´ä¸è¶³äº†ï¼Œå°±ä¼šå›žæ”¶è¿™äº›å¯¹è±¡çš„å†…å­˜ã€‚åªè¦åžƒåœ¾å›žæ”¶å™¨æ²¡æœ‰å›žæ”¶å®ƒï¼Œè¯¥å¯¹è±¡å°±å¯ä»¥è¢«ç¨‹åºä½¿ç”¨ã€‚è½¯å¼•ç”¨å¯ç”¨æ¥å®žçŽ°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ï¼ˆä¸‹æ–‡ç»™å‡ºç¤ºä¾‹ï¼‰ã€‚ è½¯å¼•ç”¨å¯ä»¥å’Œä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ï¼Œå¦‚æžœè½¯å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªè½¯å¼•ç”¨åŠ å…¥åˆ°ä¸Žä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚ è™šå¼•ç”¨ PhantomReference â€œè™šå¼•ç”¨â€é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å½¢åŒè™šè®¾ï¼Œä¸Žå…¶ä»–å‡ ç§å¼•ç”¨éƒ½ä¸åŒï¼Œè™šå¼•ç”¨å¹¶ä¸ä¼šå†³å®šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æžœä¸€ä¸ªå¯¹è±¡ä»…æŒæœ‰è™šå¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå°±å’Œæ²¡æœ‰ä»»ä½•å¼•ç”¨ä¸€æ ·ï¼Œåœ¨ä»»ä½•æ—¶å€™éƒ½å¯èƒ½è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶ã€‚ è™šå¼•ç”¨ä¸»è¦ç”¨æ¥è·Ÿè¸ªå¯¹è±¡è¢«åžƒåœ¾å›žæ”¶å™¨å›žæ”¶çš„æ´»åŠ¨ã€‚è™šå¼•ç”¨ä¸Žè½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„ä¸€ä¸ªåŒºåˆ«åœ¨äºŽï¼šè™šå¼•ç”¨å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ— ï¼ˆReferenceQueueï¼‰è”åˆä½¿ç”¨ã€‚å½“åžƒåœ¾å›žæ”¶å™¨å‡†å¤‡å›žæ”¶ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå¦‚æžœå‘çŽ°å®ƒè¿˜æœ‰è™šå¼•ç”¨ï¼Œå°±ä¼šåœ¨å›žæ”¶å¯¹è±¡çš„å†…å­˜ä¹‹å‰ï¼ŒæŠŠè¿™ä¸ªè™šå¼•ç”¨åŠ å…¥åˆ°ä¸Žä¹‹ å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚ ReferenceQueue queue = new ReferenceQueue (); PhantomReference pr = new PhantomReference (object, queue); ç¨‹åºå¯ä»¥é€šè¿‡åˆ¤æ–­å¼•ç”¨é˜Ÿåˆ—ä¸­æ˜¯å¦å·²ç»åŠ å…¥äº†è™šå¼•ç”¨ï¼Œæ¥äº†è§£è¢«å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦å°†è¦è¢«åžƒåœ¾å›žæ”¶ã€‚å¦‚æžœç¨‹åºå‘çŽ°æŸä¸ªè™šå¼•ç”¨å·²ç»è¢«åŠ å…¥åˆ°å¼•ç”¨é˜Ÿåˆ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å†…å­˜è¢«å›žæ”¶ä¹‹å‰é‡‡å–å¿…è¦çš„è¡ŒåŠ¨ã€‚ åœºæ™¯ä½¿ç”¨è½¯å¼•ç”¨æž„å»ºæ•æ„Ÿæ•°æ®çš„ç¼“å­˜ 1 ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨è½¯å¼•ç”¨ é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªé›‡å‘˜ä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿçš„å®žä¾‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªJavaè¯­è¨€å®žçŽ°çš„é›‡å‘˜ä¿¡æ¯æŸ¥è¯¢ç³»ç»ŸæŸ¥è¯¢å­˜å‚¨åœ¨ç£ç›˜æ–‡ä»¶æˆ–è€…æ•°æ®åº“ä¸­çš„é›‡å‘˜äººäº‹æ¡£æ¡ˆä¿¡æ¯ã€‚ä½œä¸ºä¸€ä¸ªç”¨æˆ·ï¼Œæˆ‘ä»¬å®Œå…¨æœ‰å¯èƒ½éœ€è¦å›žå¤´åŽ»æŸ¥çœ‹å‡ åˆ†é’Ÿç”šè‡³å‡ ç§’é’Ÿå‰æŸ¥çœ‹è¿‡çš„é›‡å‘˜æ¡£æ¡ˆä¿¡æ¯(åŒæ ·ï¼Œæˆ‘ä»¬åœ¨æµè§ˆWEBé¡µé¢çš„æ—¶å€™ä¹Ÿç»å¸¸ä¼šä½¿ç”¨â€œåŽé€€â€æŒ‰é’®)ã€‚è¿™æ—¶æˆ‘ä»¬é€šå¸¸ä¼šæœ‰ä¸¤ç§ç¨‹åºå®žçŽ°æ–¹å¼:ä¸€ç§æ˜¯æŠŠè¿‡åŽ»æŸ¥çœ‹è¿‡çš„é›‡å‘˜ä¿¡æ¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ¯ä¸€ä¸ªå­˜å‚¨äº†é›‡å‘˜æ¡£æ¡ˆä¿¡æ¯çš„Javaå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸè´¯ç©¿æ•´ä¸ªåº”ç”¨ç¨‹åºå§‹ç»ˆ;å¦ä¸€ç§æ˜¯å½“ç”¨æˆ·å¼€å§‹æŸ¥çœ‹å…¶ä»–é›‡å‘˜çš„æ¡£æ¡ˆä¿¡æ¯çš„æ—¶å€™ï¼ŒæŠŠå­˜å‚¨äº†å½“å‰æ‰€æŸ¥çœ‹çš„é›‡å‘˜æ¡£æ¡ˆä¿¡æ¯çš„Javaå¯¹è±¡ç»“æŸå¼•ç”¨ï¼Œä½¿å¾—åžƒåœ¾æ”¶é›†çº¿ç¨‹å¯ä»¥å›žæ”¶å…¶æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå½“ç”¨æˆ·å†æ¬¡éœ€è¦æµè§ˆè¯¥é›‡å‘˜çš„æ¡£æ¡ˆä¿¡æ¯çš„æ—¶å€™ï¼Œé‡æ–°æž„å»ºè¯¥é›‡å‘˜çš„ä¿¡æ¯ã€‚å¾ˆæ˜¾ç„¶ï¼Œç¬¬ä¸€ç§å®žçŽ°æ–¹æ³•å°†é€ æˆå¤§é‡çš„å†…å­˜æµªè´¹ï¼Œè€Œç¬¬äºŒç§å®žçŽ°çš„ç¼ºé™·åœ¨äºŽå³ä½¿åžƒåœ¾æ”¶é›†çº¿ç¨‹è¿˜æ²¡æœ‰è¿›è¡Œåžƒåœ¾æ”¶é›†ï¼ŒåŒ…å«é›‡å‘˜æ¡£æ¡ˆä¿¡æ¯çš„å¯¹è±¡ä»ç„¶å®Œå¥½åœ°ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œåº”ç”¨ç¨‹åºä¹Ÿè¦é‡æ–°æž„å»ºä¸€ä¸ªå¯¹è±¡ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œè®¿é—®ç£ç›˜æ–‡ä»¶ã€è®¿é—®ç½‘ç»œèµ„æºã€æŸ¥è¯¢æ•°æ®åº“ç­‰æ“ä½œéƒ½æ˜¯å½±å“åº”ç”¨ç¨‹åºæ‰§è¡Œæ€§èƒ½çš„é‡è¦å› ç´ ï¼Œå¦‚æžœèƒ½é‡æ–°èŽ·å–é‚£äº›å°šæœªè¢«å›žæ”¶çš„Javaå¯¹è±¡çš„å¼•ç”¨ï¼Œå¿…å°†å‡å°‘ä¸å¿…è¦çš„è®¿é—®ï¼Œå¤§å¤§æé«˜ç¨‹åºçš„è¿è¡Œé€Ÿåº¦ã€‚ 2 å¦‚æžœä½¿ç”¨è½¯å¼•ç”¨ SoftReferenceçš„ç‰¹ç‚¹æ˜¯å®ƒçš„ä¸€ä¸ªå®žä¾‹ä¿å­˜å¯¹ä¸€ä¸ªJavaå¯¹è±¡çš„è½¯å¼•ç”¨ï¼Œè¯¥è½¯å¼•ç”¨çš„å­˜åœ¨ä¸å¦¨ç¢åžƒåœ¾æ”¶é›†çº¿ç¨‹å¯¹è¯¥Javaå¯¹è±¡çš„å›žæ”¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦SoftReferenceä¿å­˜äº†å¯¹ä¸€ä¸ªJavaå¯¹è±¡çš„è½¯å¼•ç”¨åŽï¼Œåœ¨åžƒåœ¾çº¿ç¨‹å¯¹è¿™ä¸ªJavaå¯¹è±¡å›žæ”¶å‰ï¼ŒSoftReferenceç±»æ‰€æä¾›çš„get()æ–¹æ³•è¿”å›žJavaå¯¹è±¡çš„å¼ºå¼•ç”¨ã€‚å¦å¤–ï¼Œä¸€æ—¦åžƒåœ¾çº¿ç¨‹å›žæ”¶è¯¥Javaå¯¹è±¡ä¹‹åŽï¼Œget()æ–¹æ³•å°†è¿”å›žnullã€‚ çœ‹ä¸‹é¢ä»£ç : MyObject aRef = new MyObject(); SoftReference aSoftRef=new SoftReference(aRef); æ­¤æ—¶ï¼Œå¯¹äºŽè¿™ä¸ªMyObjectå¯¹è±¡ï¼Œæœ‰ä¸¤ä¸ªå¼•ç”¨è·¯å¾„ï¼Œä¸€ä¸ªæ˜¯æ¥è‡ªSoftReferenceå¯¹è±¡çš„è½¯å¼•ç”¨ï¼Œä¸€ä¸ªæ¥è‡ªå˜é‡aReferenceçš„å¼ºå¼•ç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªMyObjectå¯¹è±¡æ˜¯å¼ºå¯åŠå¯¹è±¡ã€‚ éšå³ï¼Œæˆ‘ä»¬å¯ä»¥ç»“æŸaReferenceå¯¹è¿™ä¸ªMyObjectå®žä¾‹çš„å¼ºå¼•ç”¨: aRef = null; æ­¤åŽï¼Œè¿™ä¸ªMyObjectå¯¹è±¡æˆä¸ºäº†è½¯å¯åŠå¯¹è±¡ã€‚å¦‚æžœåžƒåœ¾æ”¶é›†çº¿ç¨‹è¿›è¡Œå†…å­˜åžƒåœ¾æ”¶é›†ï¼Œå¹¶ä¸ä¼šå› ä¸ºæœ‰ä¸€ä¸ªSoftReferenceå¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨è€Œå§‹ç»ˆä¿ç•™è¯¥å¯¹è±¡ã€‚Javaè™šæ‹Ÿæœºçš„åžƒåœ¾æ”¶é›†çº¿ç¨‹å¯¹è½¯å¯åŠå¯¹è±¡å’Œå…¶ä»–ä¸€èˆ¬Javaå¯¹è±¡è¿›è¡Œäº†åŒºåˆ«å¯¹å¾…:è½¯å¯åŠå¯¹è±¡çš„æ¸…ç†æ˜¯ç”±åžƒåœ¾æ”¶é›†çº¿ç¨‹æ ¹æ®å…¶ç‰¹å®šç®—æ³•æŒ‰ç…§å†…å­˜éœ€æ±‚å†³å®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåžƒåœ¾æ”¶é›†çº¿ç¨‹ä¼šåœ¨è™šæ‹ŸæœºæŠ›å‡ºOutOfMemoryErrorä¹‹å‰å›žæ”¶è½¯å¯åŠå¯¹è±¡ï¼Œè€Œä¸”è™šæ‹Ÿæœºä¼šå°½å¯èƒ½ä¼˜å…ˆå›žæ”¶é•¿æ—¶é—´é—²ç½®ä¸ç”¨çš„è½¯å¯åŠå¯¹è±¡ï¼Œå¯¹é‚£äº›åˆšåˆšæž„å»ºçš„æˆ–åˆšåˆšä½¿ç”¨è¿‡çš„â€œæ–°â€è½¯å¯åå¯¹è±¡ä¼šè¢«è™šæ‹Ÿæœºå°½å¯èƒ½ä¿ç•™ã€‚åœ¨å›žæ”¶è¿™äº›å¯¹è±¡ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡: MyObject anotherRef=(MyObject)aSoftRef.get(); é‡æ–°èŽ·å¾—å¯¹è¯¥å®žä¾‹çš„å¼ºå¼•ç”¨ã€‚è€Œå›žæ”¶ä¹‹åŽï¼Œè°ƒç”¨get()æ–¹æ³•å°±åªèƒ½å¾—åˆ°nulläº†ã€‚ 3 ä½¿ç”¨ReferenceQueueæ¸…é™¤å¤±åŽ»äº†è½¯å¼•ç”¨å¯¹è±¡çš„SoftReference ä½œä¸ºä¸€ä¸ªJavaå¯¹è±¡ï¼ŒSoftReferenceå¯¹è±¡é™¤äº†å…·æœ‰ä¿å­˜è½¯å¼•ç”¨çš„ç‰¹æ®Šæ€§ä¹‹å¤–ï¼Œä¹Ÿå…·æœ‰Javaå¯¹è±¡çš„ä¸€èˆ¬æ€§ã€‚æ‰€ä»¥ï¼Œå½“è½¯å¯åŠå¯¹è±¡è¢«å›žæ”¶ä¹‹åŽï¼Œè™½ç„¶è¿™ä¸ªSoftReferenceå¯¹è±¡çš„get()æ–¹æ³•è¿”å›žnull,ä½†è¿™ä¸ªSoftReferenceå¯¹è±¡å·²ç»ä¸å†å…·æœ‰å­˜åœ¨çš„ä»·å€¼ï¼Œéœ€è¦ä¸€ä¸ªé€‚å½“çš„æ¸…é™¤æœºåˆ¶ï¼Œé¿å…å¤§é‡SoftReferenceå¯¹è±¡å¸¦æ¥çš„å†…å­˜æ³„æ¼ã€‚åœ¨java.lang.refåŒ…é‡Œè¿˜æä¾›äº†ReferenceQueueã€‚å¦‚æžœåœ¨åˆ›å»ºSoftReferenceå¯¹è±¡çš„æ—¶å€™ï¼Œä½¿ç”¨äº†ä¸€ä¸ªReferenceQueueå¯¹è±¡ä½œä¸ºå‚æ•°æä¾›ç»™SoftReferenceçš„æž„é€ æ–¹æ³•ï¼Œå¦‚: ReferenceQueue queue = new ReferenceQueue(); SoftReferenceref=new SoftReference(aMyObject, queue); é‚£ä¹ˆå½“è¿™ä¸ªSoftReferenceæ‰€è½¯å¼•ç”¨çš„aMyOhjectè¢«åžƒåœ¾æ”¶é›†å™¨å›žæ”¶çš„åŒæ—¶ï¼Œrefæ‰€å¼ºå¼•ç”¨çš„SoftReferenceå¯¹è±¡è¢«åˆ—å…¥ReferenceQueueã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒReferenceQueueä¸­ä¿å­˜çš„å¯¹è±¡æ˜¯Referenceå¯¹è±¡ï¼Œè€Œä¸”æ˜¯å·²ç»å¤±åŽ»äº†å®ƒæ‰€è½¯å¼•ç”¨çš„å¯¹è±¡çš„Referenceå¯¹è±¡ã€‚å¦å¤–ä»ŽReferenceQueueè¿™ä¸ªåå­—ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå®ƒæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å®ƒçš„poll()æ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æžœè¿™ä¸ªé˜Ÿåˆ—ä¸­ä¸æ˜¯ç©ºé˜Ÿåˆ—ï¼Œé‚£ä¹ˆå°†è¿”å›žé˜Ÿåˆ—å‰é¢çš„é‚£ä¸ªReferenceå¯¹è±¡ã€‚ åœ¨ä»»ä½•æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è°ƒç”¨ReferenceQueueçš„poll()æ–¹æ³•æ¥æ£€æŸ¥æ˜¯å¦æœ‰å®ƒæ‰€å…³å¿ƒçš„éžå¼ºå¯åŠå¯¹è±¡è¢«å›žæ”¶ã€‚å¦‚æžœé˜Ÿåˆ—ä¸ºç©ºï¼Œå°†è¿”å›žä¸€ä¸ªnull,å¦åˆ™è¯¥æ–¹æ³•è¿”å›žé˜Ÿåˆ—ä¸­å‰é¢çš„ä¸€ä¸ªReferenceå¯¹è±¡ã€‚åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥å“ªä¸ªSoftReferenceæ‰€è½¯å¼•ç”¨çš„å¯¹è±¡å·²ç»è¢«å›žæ”¶ã€‚äºŽæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›å¤±åŽ»æ‰€è½¯å¼•ç”¨çš„å¯¹è±¡çš„SoftReferenceå¯¹è±¡æ¸…é™¤æŽ‰ã€‚å¸¸ç”¨çš„æ–¹å¼ä¸º: SoftReference ref = null; while ((ref = (EmployeeRef) q.poll()) != null) { // æ¸…é™¤ref } æŠ„è‡ªâ€”&gt;Javaå››ç§å¼•ç”¨åŒ…æ‹¬å¼ºå¼•ç”¨ï¼Œè½¯å¼•ç”¨ï¼Œå¼±å¼•ç”¨ï¼Œè™šå¼•ç”¨ã€‚]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>å¼•ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰¾åˆ°çš„å‡ ä¸ªAndroidå­¦ä¹ ç½‘ç«™]]></title>
    <url>%2F2018%2F05%2F24%2F%E7%9A%84%E5%87%A0%E4%B8%AAAndroid%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99%2F</url>
    <content type="text"><![CDATA[Android Studioä½¿ç”¨ç›¸å…³çš„èµ„æ–™ æŸ¥çœ‹æ–‡æ¡£ä¹‹ç±»çš„ åº”ç”¨çš„åŸºæœ¬æ¦‚å¿µ gradleå­¦ä¹ èµ„æ–™ ä¸­æ–‡Androidå­¦ä¹ èµ„æ–™ç½‘ç«™å¤§å…¨]]></content>
      <categories>
        <category>å­¦ä¹ ç½‘ç«™</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitå­¦ä¹ ç¬”è®°03]]></title>
    <url>%2F2018%2F05%2F23%2Ft%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003%2F</url>
    <content type="text"><![CDATA[gitåŸºæœ¬æ“ä½œç¬¦ init git init [-q | --quiet] [--bare] [--template=&lt;template_directory&gt;] [--separate-git-dir &lt;git dir&gt;] [--shared[=&lt;permissions&gt;]] [directory] add git add [--verbose | -v] [--dry-run | -n] [--force | -f] [--interactive | -i] [--patch | -p] [--edit | -e] [--[no-]all | --[no-]ignore-removal | [--update | -u]] [--intent-to-add | -N] [--refresh] [--ignore-errors] [--ignore-missing] [--chmod=(+|-)x] [--] [&lt;pathspec&gt;â€¦â€‹] æ–°æ–‡ä»¶åˆ›å»ºï¼Œæ·»åŠ åˆ°gitç‰ˆæœ¬ç´¢å¼•åº“ä¸­ï¼ŒåŠ åˆ°æš‚å­˜åŒºï¼Œaddæ“ä½œè¦åœ¨commitä¹‹å‰ä½¿ç”¨ã€‚git add -fé€‰é¡¹æ·»åŠ è¢«å¿½ç•¥çš„æ–‡ä»¶ã€‚ $ git add . # å°†æ‰€æœ‰ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº $ git add * # Anté£Žæ ¼æ·»åŠ ä¿®æ”¹ $ git add *Controller # å°†ä»¥Controllerç»“å°¾çš„æ–‡ä»¶çš„æ‰€æœ‰ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº clone git clone [--template=&lt;template_directory&gt;] [-l] [-s] [--no-hardlinks] [-q] [-n] [--bare] [--mirror] [-o &lt;name&gt;] [-b &lt;name&gt;] [-u &lt;upload-pack&gt;] [--reference &lt;repository&gt;] [--dissociate] [--separate-git-dir &lt;git dir&gt;] [--depth &lt;depth&gt;] [--[no-]single-branch] [--recurse-submodules] [--[no-]shallow-submodules] [--jobs &lt;n&gt;] [--] &lt;repository&gt; [&lt;directory&gt;] status git status [&lt;options&gt;â€¦â€‹] [--] [&lt;pathspec&gt;â€¦â€‹] trackedæ–‡ä»¶è¢«ç›‘æŽ§æ–‡ä»¶ï¼Œuntrackedæ–‡ä»¶ä¸ºè¦è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼Œä¸éœ€è¦æäº¤ï¼Œåœ¨.gitignoreæ–‡ä»¶ä¸­åŠ å…¥è¦å¿½ç•¥çš„æ–‡ä»¶é€šé…ç¬¦ï¼›é€šè¿‡git status -unoå¯ä»¥åªåˆ—å‡ºæ‰€æœ‰å·²ç»è¢«gitç®¡ç†çš„ä¸”è¢«ä¿®æ”¹ä½†æ²¡æäº¤çš„æ–‡ä»¶ diff git diff [options] [&lt;commit&gt;] [--] [&lt;path&gt;â€¦â€‹] git diff [options] --cached [&lt;commit&gt;] [--] [&lt;path&gt;â€¦â€‹] git diff [options] &lt;commit&gt; &lt;commit&gt; [--] [&lt;path&gt;â€¦â€‹] git diff [options] &lt;blob&gt; &lt;blob&gt; git diff [options] [--no-index] [--] &lt;path&gt; &lt;path&gt; commit git commit [-a | â€“interactive | â€“patch] [-s] [-v] [-u] [â€“amend] [--dry-run] [(-c | -C | --fixup | --squash) &lt;commit&gt;] [-F &lt;file&gt; | -m &lt;msg&gt;] [--reset-author] [--allow-empty] [--allow-empty-message] [--no-verify] [-e] [--author=&lt;author&gt;] [--date=&lt;date&gt;] [--cleanup=&lt;mode&gt;] [--[no-]status] [-i | -o] [-S[&lt;keyid&gt;]] [--] [&lt;file&gt;â€¦â€‹] $ git add . $ # æˆ–è€…~ $ git add newfile.txt $ git commit -m &quot;the commit message&quot; # $ git commit -a # ä¼šå…ˆæŠŠæ‰€æœ‰å·²ç»trackçš„æ–‡ä»¶çš„æ”¹åŠ¨`git add`è¿›æ¥ï¼Œç„¶åŽæäº¤(æœ‰ç‚¹åƒsvnçš„ä¸€æ¬¡æäº¤,ä¸ç”¨å…ˆæš‚å­˜)ã€‚å¯¹äºŽæ²¡æœ‰trackçš„æ–‡ä»¶,è¿˜æ˜¯éœ€è¦æ‰§è¡Œ`git add &lt;file&gt;` å‘½ä»¤ã€‚ $ git commit --amend # å¢žè¡¥æäº¤ï¼Œä¼šä½¿ç”¨ä¸Žå½“å‰æäº¤èŠ‚ç‚¹ç›¸åŒçš„çˆ¶èŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡æ–°çš„æäº¤ï¼Œæ—§çš„æäº¤å°†ä¼šè¢«å–æ¶ˆã€‚]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>pull</tag>
        <tag>commit</tag>
        <tag>status</tag>
        <tag>init</tag>
        <tag>clone</tag>
        <tag>reset</tag>
        <tag>merge</tag>
        <tag>add</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[gitå­¦ä¹ ç¬”è®°02]]></title>
    <url>%2F2018%2F05%2F23%2Ft%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002%2F</url>
    <content type="text"><![CDATA[gitçš„æµç¨‹åˆ›å»ºä»“åº“ -&gt; åˆå§‹åŒ–ä»“åº“ -&gt; åˆå§‹åŒ–é¡¹ç›® -&gt; ä¸ªäººæ‹‰å–é¡¹ç›®åˆ°æœ¬åœ° -&gt; æœ¬åœ°æ–‡ä»¶æ·»åŠ  -&gt; æœ¬åœ°æ–‡ä»¶ä¿®æ”¹ -&gt; æäº¤ -&gt; å·®å¼‚åˆå¹¶ -&gt; æ›´æ–° -&gt; åˆå¹¶ -&gt; æäº¤ -&gt; æŽ¨é€ headä»£è¡¨çš„æ˜¯åˆ†æ”¯]]></content>
  </entry>
  <entry>
    <title><![CDATA[gitå­¦ä¹ ç¬”è®°01]]></title>
    <url>%2F2018%2F05%2F23%2Ft%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001%2F</url>
    <content type="text"><![CDATA[åŸºç¡€çš„çŸ¥è¯†ç‚¹ åŸºç¡€ gitä¿å­˜æ‰€æœ‰çš„æ–‡ä»¶çš„å¿«ç…§çš„ç´¢å¼•ï¼Œè€Œéžå¯¹æ¯”æ•°æ®çš„å·®å¼‚ï¼›æ“ä½œå¤§å¤šæ•°æ˜¯åœ¨æœ¬åœ°æ‰§è¡Œï¼› ä¸‰ç§çŠ¶æ€ï¼šå·²æäº¤committedã€å·²ä¿®æ”¹modifiedã€å·²æš‚å­˜staged åŸºæœ¬å·¥ä½œæµç¨‹ æœ¬åœ°å·¥ä½œç›®å½•ä¿®æ”¹æ–‡ä»¶ å°†æ–‡ä»¶å¿«ç…§å­˜æ”¾åœ¨æš‚å­˜åŒºåŸŸ æäº¤æ›´æ–°ï¼Œæ‰¾åˆ°æš‚å­˜åŒºå¿«ç…§ï¼Œå°†å¿«ç…§æ°¸ä¹…å­˜åœ¨gitä»“åº“ç›®å½• å¤§è‡´çš„æµç¨‹ å¦‚æžœ Git ç›®å½•ä¸­ä¿å­˜ç€çš„ç‰¹å®šç‰ˆæœ¬æ–‡ä»¶ï¼Œå°±å±žäºŽå·²æäº¤çŠ¶æ€ã€‚ å¦‚æžœä½œäº†ä¿®æ”¹å¹¶å·²æ”¾å…¥æš‚å­˜åŒºåŸŸï¼Œå°±å±žäºŽå·²æš‚å­˜çŠ¶æ€ã€‚ å¦‚æžœè‡ªä¸Šæ¬¡å–å‡ºåŽï¼Œä½œäº†ä¿®æ”¹ä½†è¿˜æ²¡æœ‰æ”¾åˆ°æš‚å­˜åŒºåŸŸï¼Œå°±æ˜¯å·²ä¿®æ”¹çŠ¶æ€ã€‚ é…ç½® é…ç½®æ–‡ä»¶git configé…ç½®gitå¤–è§‚å’Œè¡Œä¸ºçš„é…ç½®å˜é‡ï¼Œåœ¨linuxä¸‹æœ‰ä¸‰ä¸ªä½ç½®ï¼š/etc/gitconfig,~/.gitconfig æˆ– ~/.config/git/config,å½“å‰ä½¿ç”¨ä»“åº“çš„ Git ç›®å½•ä¸­çš„ config;åœ¨windowsç³»ç»Ÿä¸‹ï¼š$HOMEç›®å½•(C:\Users\$USER)çš„ .gitconfig),gitå®‰è£…ç›®å½•ä¸‹çš„gitconfigæ–‡ä»¶; é…ç½®ç”¨æˆ·ä¿¡æ¯ $ git config --global user.name &quot;maxsu&quot; $ git config --global user.email maxsu@yiibai.com æ–‡æœ¬ç¼–è¾‘å™¨ $ git config --global core.editor emacs å¦‚æžœä¸ä¹ æƒ¯ä½¿ç”¨vimå°±ä½¿ç”¨è¯¥æ–¹æ³•æ›¿æ¢æŽ‰ï¼› èŽ·å–é…ç½®ä¿¡æ¯ git config --list]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>gitåŸºç¡€ç†è®º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SourceTree]]></title>
    <url>%2F2018%2F05%2F23%2FourceTree%2F</url>
    <content type="text"><![CDATA[gitçš„å›¾å½¢åŒ–å·¥å…·ï¼Œåªæ”¯æŒmacå’Œwindows è·³è¿‡è´¦å·ç™»å½•åœ¨ç”¨æˆ·æœ¬åœ°æ–‡ä»¶å¤¹ä¸‹çš„ SourceTree ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°accounts.jsonæ–‡ä»¶ æ²¡æœ‰å°±åˆ›å»ºå¤åˆ¶ä¸€ä¸‹å†…å®¹ï¼š [ { &quot;$id&quot;: &quot;1&quot;, &quot;$type&quot;: &quot;SourceTree.Api.Host.Identity.Model.IdentityAccount, SourceTree.Api.Host.Identity&quot;, &quot;Authenticate&quot;: true, &quot;HostInstance&quot;: { &quot;$id&quot;: &quot;2&quot;, &quot;$type&quot;: &quot;SourceTree.Host.Atlassianaccount.AtlassianAccountInstance, SourceTree.Host.AtlassianAccount&quot;, &quot;Host&quot;: { &quot;$id&quot;: &quot;3&quot;, &quot;$type&quot;: &quot;SourceTree.Host.Atlassianaccount.AtlassianAccountHost, SourceTree.Host.AtlassianAccount&quot;, &quot;Id&quot;: &quot;atlassian account&quot; }, &quot;BaseUrl&quot;: &quot;https://id.atlassian.com/&quot; }, &quot;Credentials&quot;: { &quot;$id&quot;: &quot;4&quot;, &quot;$type&quot;: &quot;SourceTree.Model.BasicAuthCredentials, SourceTree.Api.Account&quot;, &quot;Username&quot;: &quot;&quot;, &quot;Email&quot;: null }, &quot;IsDefault&quot;: false } ]]]></content>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[markdownç¼–è¾‘å™¨]]></title>
    <url>%2F2018%2F05%2F22%2Fmarkdown%E7%BC%96%E8%BE%91%E5%99%A8%2F</url>
    <content type="text"><![CDATA[å°ä¹¦åŒ  ä¸‹è½½åœ°å€èƒ½å¤Ÿå°†æ•°æ®ä¿å­˜åˆ°githubã€äº‘å­˜è´®ç­‰ï¼›]]></content>
      <categories>
        <category>ç¼–è¾‘å™¨</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F05%2F22%2Fhello-world%2F</url>
    <content type="text"><![CDATA[æ—¢ç„¶æ˜¯ç¨‹åºå‘˜ï¼Œç¬¬ä¸€ä¸ªæ–‡ç« å½“ç„¶å°±æ˜¯ä¸€ä¸ªï¼šHELLO WORLD!!!]]></content>
  </entry>
  <entry>
    <title><![CDATA[Androidä¸­çš„è®¾è®¡æ¨¡å¼]]></title>
    <url>%2F2018%2F05%2F21%2FAndroid%E4%B8%AD%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[ï¼ˆ1ï¼‰å•ä¾‹æ¨¡å¼ï¼š ç®€ä»‹ï¼šä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®žä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚ ç¤ºä¾‹ï¼šAndroidä¸­çš„ç³»ç»Ÿçº§æœåŠ¡éƒ½æ˜¯é€šè¿‡å®¹å™¨çš„å•ä¾‹æ¨¡å¼å®žçŽ°æ–¹å¼ï¼Œä»¥å•ä¾‹å½¢å¼å­˜åœ¨ï¼Œå‡å°‘äº†èµ„æºæ¶ˆè€—ã€‚ æ¯”å¦‚LayoutInflater Serviceï¼Œå°†è¿™äº›æœåŠ¡ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨ä¸€ä¸ªHashMapå®¹å™¨ä¸­ï¼Œç”¨æˆ·ä½¿ç”¨æ—¶åªéœ€è¦æ ¹æ®keyæ¥èŽ·å–åˆ°å¯¹åº”çš„ServiceFetcherï¼Œç„¶åŽé€šè¿‡ServcieFetcherå¯¹è±¡çš„getServiceå‡½æ•°æ¥èŽ·å–åˆ°å…·ä½“çš„æœåŠ¡å¯¹è±¡ï¼Œç¬¬ä¸€æ¬¡èŽ·å–æ—¶ä¼šè°ƒç”¨ServcieFetcherçš„createServiceå‡½æ•°åˆ›å»ºæœåŠ¡å¯¹è±¡ï¼Œç„¶åŽå°†è¯¥å¯¹è±¡ç¼“å­˜åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œä¸‹æ¬¡å†å–æ—¶ç›´æŽ¥ä»Žç¼“å­˜ä¸­èŽ·å–ï¼Œé¿å…é‡å¤åˆ›å»ºå¯¹è±¡ï¼Œä»Žè€Œè¾¾åˆ°å•ä¾‹çš„æ•ˆæžœã€‚ï¼ˆ2ï¼‰æŠ½è±¡å·¥åŽ‚æ¨¡å¼ï¼š ç®€ä»‹ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æŽ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚ ç¤ºä¾‹ï¼šAndroidåº•å±‚å¯¹MediaPlayerçš„åˆ›å»ºã€‚MediaPlayerFactoryæ˜¯Androidåº•å±‚ä¸ºäº†åˆ›å»ºä¸åŒçš„MediaPlayeræ‰€å®šä¹‰çš„ä¸€ä¸ªç±»ã€‚ï¼ˆ3ï¼‰å·¥åŽ‚æ¨¡å¼ï¼š ç®€ä»‹ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºŽåˆ›å»ºå¯¹è±¡çš„æŽ¥å£ï¼Œè®©å­ç±»å†³å®šå°†å“ªä¸€ä¸ªç±»å®žä¾‹åŒ–ã€‚ ç¤ºä¾‹ï¼šBitmapFactoryä½å›¾å·¥åŽ‚ï¼Œä¸“é—¨ç”¨æ¥å°†æŒ‡å®šçš„å›¾ç‰‡è½¬æ¢ä¸ºæŒ‡å®šçš„ä½å›¾Bitmapã€‚ï¼ˆ4ï¼‰åŽŸåž‹æ¨¡å¼ï¼š ç®€ä»‹ï¼šç”¨åŽŸåž‹å®žä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™ä¸ªåŽŸåž‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šæ¯”å¦‚æˆ‘ä»¬éœ€è¦ä¸€å¼ Bitmapçš„å‡ ç§ä¸åŒæ ¼å¼ï¼šARGB_8888ã€RGB_565ã€ARGB_4444ã€ALAPHA_8ç­‰ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªARGB_8888çš„Bitmapä½œä¸ºåŽŸåž‹ï¼Œåœ¨å®ƒçš„åŸºç¡€ä¸Šï¼Œé€šè¿‡è°ƒç”¨Bitmap.copy(Config)æ¥åˆ›å»ºå‡ºå…¶å®ƒå‡ ç§æ ¼å¼çš„Bitmapã€‚å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯Javaä¸­æ‰€æœ‰å¯¹è±¡éƒ½æœ‰çš„ä¸€ä¸ªåå­—å«cloneçš„æ–¹æ³•ï¼Œå·²ç»åŽŸåž‹æ¨¡å¼çš„ä»£åè¯äº†ã€‚åœ¨ç³»ç»Ÿä¸­è¦åˆ›å»ºå¤§é‡çš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¹‹é—´å…·æœ‰å‡ ä¹Žå®Œå…¨ç›¸åŒçš„åŠŸèƒ½ï¼Œåªæ˜¯åœ¨ç»†èŠ‚ä¸Šæœ‰ä¸€ç‚¹å„¿å·®åˆ«ã€‚ï¼ˆ5ï¼‰å»ºé€ è€…æ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æž„å»ºä¸Žå®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æž„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼šAlertDialog.Builder ImageLoaderçš„åˆå§‹é…ç½®ã€‚ï¼ˆ6ï¼‰é€‚é…å™¨æ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†ä¸€ä¸ªç±»çš„æŽ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæŽ¥å£ã€‚ ç¤ºä¾‹ï¼šä¸åŒçš„æ•°æ®æä¾›è€…ä½¿ç”¨ä¸€ä¸ªé€‚é…å™¨æ¥å‘ä¸€ä¸ªç›¸åŒçš„å®¢æˆ·æä¾›æœåŠ¡ã€‚ ListViewæˆ–GridViewçš„Adapterã€‚ï¼ˆ7ï¼‰æ¡¥æŽ¥æ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†æŠ½è±¡éƒ¨åˆ†ä¸Žå®ƒçš„å®žçŽ°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚ ç¤ºä¾‹ï¼šWindowå’ŒWindowManagerä¹‹é—´çš„å…³ç³»ã€‚ åœ¨FrameWorkä¸­Windowå’ŒPhoneWindowæž„æˆçª—å£çš„æŠ½è±¡éƒ¨åˆ†ï¼Œå…¶ä¸­Windowç±»ä¸ºè¯¥æŠ½è±¡éƒ¨åˆ†çš„æŠ½è±¡æŽ¥å£ï¼ŒPhoneWindowä¸ºæŠ½è±¡éƒ¨åˆ†å…·ä½“çš„å®žçŽ°åŠæ‰©å±•ã€‚è€ŒWindowManageråˆ™ä¸ºå®žçŽ°éƒ¨åˆ†çš„åŸºç±»ï¼ŒWindowManagerImplåˆ™ä¸ºå®žçŽ°éƒ¨åˆ†å…·ä½“çš„é€»è¾‘å®žçŽ°ã€‚ï¼ˆ8ï¼‰è£…é¥°æ¨¡å¼ï¼š ç®€ä»‹ï¼šåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±æ‰©å±•åŠŸèƒ½è€Œè¨€ï¼Œ å®ƒæ¯”ç”Ÿæˆå­ç±»æ–¹å¼æ›´ä¸ºçµæ´»ã€‚ ç¤ºä¾‹ï¼šActivityç»§æ‰¿è‡ªContextThemeWrapperï¼ŒContextThemeWrapperç»§æ‰¿è‡ªContextWrapperï¼ŒContextWrapperæ‰æ˜¯ç»§æ‰¿è‡ªContextã€‚ContextWrapperå°±æ˜¯æˆ‘ä»¬æ‰¾çš„è£…é¥°è€…ã€‚ï¼ˆ9ï¼‰ç»„åˆæ¨¡å¼ï¼š ç®€ä»‹ï¼šå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æž„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æž„ã€‚ ç¤ºä¾‹ï¼šViewå’ŒViewGroupçš„ç»„åˆï¼ˆ10ï¼‰å¤–è§‚æ¨¡å¼ ç®€ä»‹ï¼šä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æŽ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼ŒFacadeæ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æŽ¥å£ï¼Œç»Ÿä¸€ç¼–ç¨‹æŽ¥å£ã€‚ ç¤ºä¾‹ï¼šContextImplï¼ˆ11ï¼‰äº«å…ƒæ¨¡å¼ï¼š ç®€ä»‹ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šMessage.obtainMessageé€šè¿‡é‡ç”¨Messageå¯¹è±¡æ¥é¿å…å¤§é‡çš„Messageå¯¹è±¡è¢«é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯ã€‚ï¼ˆ12ï¼‰ä»£ç†æ¨¡å¼ï¼š ç®€ä»‹ï¼šä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†ä»¥æŽ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚ ç¤ºä¾‹ï¼šæ‰€æœ‰çš„AIDLéƒ½ä¸€ä¸ªä»£ç†æ¨¡å¼çš„ä¾‹å­ã€‚å‡è®¾ä¸€ä¸ªActivity AåŽ»ç»‘å®šä¸€ä¸ªService Sï¼Œé‚£ä¹ˆAè°ƒç”¨Sä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å…¶å®žéƒ½æ˜¯é€šè¿‡ç³»ç»Ÿçš„Binderæœºåˆ¶çš„ä¸­è½¬ï¼Œç„¶åŽè°ƒç”¨Sä¸­çš„å¯¹åº”æ–¹æ³•æ¥åšåˆ°çš„ã€‚Binderæœºåˆ¶å°±èµ·åˆ°äº†ä»£ç†çš„ä½œç”¨ã€‚ï¼ˆ13ï¼‰è§‚å¯Ÿè€…æ¨¡å¼ï¼š ç®€ä»‹ï¼šä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¿¡èµ–äºŽå®ƒçš„å¯¹è±¡è‡ªåŠ¨åšç›¸åº”æ”¹å˜ã€‚ ç¤ºä¾‹ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡BaseAdapter.registerDataSetObserverå’ŒBaseAdapter.unregisterDataSetObserverä¸¤æ–¹æ³•æ¥å‘BaseAdateræ³¨å†Œã€æ³¨é”€ä¸€ä¸ªDataSetObserverã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒDataSetObserverå°±æ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå®ƒä¸€æ—¦å‘çŽ°BaseAdapterå†…éƒ¨æ•°æ®æœ‰å˜é‡ï¼Œå°±ä¼šé€šè¿‡å›žè°ƒæ–¹æ³•DataSetObserver.onChangedå’ŒDataSetObserver.onInvalidatedæ¥é€šçŸ¥DataSetObserverçš„å®žçŽ°ç±»ã€‚äº‹ä»¶é€šçŸ¥ä¹Ÿæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚ï¼ˆ14ï¼‰ä¸­ä»‹è€…æ¨¡å¼ï¼š ç®€ä»‹ï¼šç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»Žè€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚ ç¤ºä¾‹ï¼šBinderæœºåˆ¶ã€‚(15)è®¿é—®è€…æ¨¡å¼: ç®€ä»‹ï¼šè¡¨ç¤ºä¸€ä¸ªä½œç”¨äºŽæŸå¯¹è±¡ç»“æž„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºŽè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚ ç¤ºä¾‹ï¼šç¼–è¯‘æ—¶æ³¨è§£ä¸­çš„ElementVisitorä¸­å®šä¹‰å¤šä¸ªVisitæŽ¥å£ï¼Œæ¯ä¸ªæŽ¥å£å¤„ç†ä¸€ç§æ•°æ®ç±»åž‹ï¼Œè¿™å°±æ˜¯å…¸åž‹çš„è®¿é—®è€…æ¨¡å¼ï¼Œè®¿é—®è€…æ¨¡å¼æ­£å¥½è§£å†³äº†æ•°æ®ç»“æž„å’Œæ•°æ®æ“ä½œåˆ†ç¦»çš„é—®é¢˜ï¼Œé¿å…æŸäº›æ“ä½œæ±¡æŸ“äº†æ•°æ®å¯¹è±¡ç±»ã€‚ï¼ˆ16ï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼š ç®€ä»‹ï¼šç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚ ç¤ºä¾‹ï¼šPackageParserè¿™ä¸ªç±»å¯¹AndroidManifest.xmlè¿™ä¸ªé…ç½®æ–‡ä»¶çš„è§£æžè¿‡ç¨‹ï¼Œï¼ˆ17ï¼‰è¿­ä»£å™¨æ¨¡å¼ ç®€ä»‹ï¼šæä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ªå…ƒç´ , è€Œåˆä¸éœ€æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼šåœ¨Androidä¸­é™¤äº†å„ç§æ•°æ®ç»“æž„ä½“ï¼Œå¦‚Listï¼ŒMapï¼Œç­‰åŒ…å«çš„è¿­ä»£å™¨ä»¥å¤–ï¼ŒAndroidæºç ä¸­ä¹Ÿæä¾›äº†è¿­ä»£å™¨éåŽ†æ¨¡å¼ï¼Œæ¯”å¦‚æ•°æ®åº“æŸ¥è¯¢ä½¿ç”¨Cursorï¼Œå½“æˆ‘ä»¬ä½¿ç”¨SQLiteDataBaseçš„queryæ–¹æ³•æŸ¥è¯¢æ•°æ®åº“æ—¶ï¼Œä¼šè¿”å›žä¸€ä¸ªCursoræ¸¸æ ‡å¯¹è±¡ï¼Œè¯¥æ¸¸æ ‡å¯¹è±¡å®žé™…ä¸Šå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„è¿­ä»£å™¨ã€‚ï¼ˆ18ï¼‰å¤‡å¿˜å½•æ¨¡å¼ ç®€ä»‹ï¼šä¸éœ€è¦äº†è§£å¯¹è±¡çš„å†…éƒ¨ç»“æž„çš„æƒ…å†µä¸‹å¤‡ä»½å¯¹è±¡çš„çŠ¶æ€ï¼Œæ–¹ä¾¿ä»¥åŽæ¢å¤ã€‚ ç¤ºä¾‹ï¼šActivityçš„onSaveInstanceStateå’ŒonRestoreInstanceStateå°±æ˜¯é€šè¿‡Bundleè¿™ç§åºåˆ—åŒ–çš„æ•°æ®ç»“æž„æ¥å­˜å‚¨Activityçš„çŠ¶æ€ï¼Œè‡³äºŽå…¶ä¸­å­˜å‚¨çš„æ•°æ®ç»“æž„ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¸ç”¨å…³å¿ƒã€‚ï¼ˆ19ï¼‰è´£ä»»é“¾æ¨¡å¼ ç®€ä»‹ï¼šæœ‰å¤šä¸ªçš„å¯¹è±¡å¯ä»¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚ ç¤ºä¾‹: è´£ä»»é“¾æ¨¡å¼åœ¨Androidæºç ä¸­æ¯”è¾ƒç±»ä¼¼çš„å®žçŽ°èŽ«è¿‡äºŽå¯¹äº‹ä»¶çš„åˆ†å‘å¤„ç†ï¼Œæ¯å½“ç”¨æˆ·æŽ¥è§¦å±å¹•æ—¶å€™ï¼ŒAndroidéƒ½ä¼šå°†å¯¹åº”çš„äº‹ä»¶åŒ…è£…æˆä¸€ä¸ªäº‹ä»¶å¯¹è±¡ä»ŽViewTreeçš„é¡¶éƒ¨è‡³ä¸Šè€Œä¸‹çš„åˆ†å‘ä¼ é€’ã€‚ViewGroupäº‹ä»¶æŠ•é€’çš„é€’å½’è°ƒç”¨å°±ç±»ä¼¼ä¸€æ¡è´£ä»»é“¾ï¼Œä¸€æ—¦å¯»æ‰¾åˆ°è´£ä»»è€…ï¼Œé‚£ä¹ˆå°±ç”±è´£ä»»è€…æŒæœ‰å¹¶æ¶ˆè´¹è¯¥æ¬¡äº‹ä»¶ï¼Œå…·ä½“çš„ä½“çŽ°åœ¨Viewçš„onTouchEventæ–¹æ³•ä¸­çš„è¿”å›žå€¼ï¼Œå¦‚æžœOnTouchEventè¿”å›žfalseï¼Œé‚£ä¹ˆæ„å‘³ç€å½“å‰Viewä¸ä¼šæ˜¯è¯¥æ¬¡äº‹ä»¶çš„è´£ä»»äººï¼Œå°†ä¸ä¼šå¯¹è¯¥äº‹ä»¶æŒæœ‰ã€‚ï¼ˆ20ï¼‰çŠ¶æ€æ¨¡å¼ï¼š ç®€ä»‹ï¼šçŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¡Œä¸ºæ”¹å˜ã€‚ ç¤ºä¾‹ï¼šView.onVisibilityChangedæ–¹æ³•ï¼Œå°±æ˜¯æä¾›äº†ä¸€ä¸ªçŠ¶æ€æ¨¡å¼çš„å®žçŽ°ï¼Œå…è®¸åœ¨Viewçš„visibilityå‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¼•å‘æ‰§è¡ŒonVisibilityChangedæ–¹æ³•ä¸­çš„åŠ¨ä½œã€‚ï¼ˆ21ï¼‰ç­–ç•¥æ¨¡å¼ ç®€ä»‹ï¼šå®šä¹‰äº†ä¸€ç³»åˆ—å°è£…äº†ç®—æ³•ã€è¡Œä¸ºçš„å¯¹è±¡ï¼Œä»–ä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ ç¤ºä¾‹ï¼šJava.util.Listå°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªå¢žï¼ˆaddï¼‰ã€åˆ ï¼ˆremoveï¼‰ã€æ”¹ï¼ˆsetï¼‰ã€æŸ¥ï¼ˆindexOfï¼‰ç­–ç•¥ï¼Œè‡³äºŽå®žçŽ°è¿™ä¸ªç­–ç•¥çš„ArrayListã€LinkedListç­‰ç±»ï¼Œåªæ˜¯åœ¨å…·ä½“å®žçŽ°æ—¶é‡‡ç”¨äº†ä¸åŒçš„ç®—æ³•ã€‚ä½†å› ä¸ºå®ƒä»¬ç­–ç•¥ä¸€æ ·ï¼Œä¸è€ƒè™‘é€Ÿåº¦çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ—¶å®Œå…¨å¯ä»¥äº’ç›¸æ›¿æ¢ä½¿ç”¨ã€‚ï¼ˆ22ï¼‰å‘½ä»¤æ¨¡å¼ ç®€ä»‹ï¼šæŠŠè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡å‘é€å‡ºåŽ»ï¼Œæ–¹ä¾¿å®šåˆ¶ã€æŽ’é˜Ÿã€å–æ¶ˆã€‚ ç¤ºä¾‹ï¼šHandler.poståŽHandler.handleMessageã€‚ï¼ˆ23ï¼‰äº«å…ƒæ¨¡å¼ ç®€ä»‹ï¼šè¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚ ç¤ºä¾‹ï¼šMessage.obtainMessageé€šè¿‡é‡ç”¨Messageå¯¹è±¡æ¥é¿å…å¤§é‡çš„Messageå¯¹è±¡è¢«é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯ã€‚]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡å—æ¨¡å¼è®¾è®¡]]></title>
    <url>%2F2018%2F05%2F21%2F%E6%A8%A1%E5%9D%97%E6%A8%A1%E5%BC%8F%E8%AE%BE%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ å®šä¹‰åŸºæœ¬å®šä¹‰ï¼šè®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„ç›®çš„æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€‚è®¾è®¡æ¨¡å¼æ˜¯æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³è„‰ç»œï¼Œå¦‚å¤§åŽ¦çš„ç»“æž„ä¸€æ ·Design patternçš„å››å¤§è¦ç´ ï¼šæ¨¡å¼åç§°ï¼ˆNameï¼‰ï¼Œé—®é¢˜ï¼ˆQuestionï¼‰ï¼Œè§£å†³æ–¹æ¡ˆï¼ˆSolutionï¼‰ï¼Œæ•ˆæžœï¼ˆEfftiveï¼‰ã€‚OOï¼ˆé¢å‘å¯¹è±¡ï¼‰çš„å…­å¤§åŽŸåˆ™ï¼šå•ä¸€èŒè´£åŽŸåˆ™ï¼Œå¼€é—­åŽŸåˆ™ï¼Œé‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼Œä¾èµ–å€’ç½®åŽŸåˆ™ï¼ŒæŽ¥å£éš”ç¦»åŽŸåˆ™ï¼Œè¿ªç±³ç‰¹åŽŸåˆ™ã€‚å•ä¸€èŒè´£åŽŸåˆ™ï¼šä¸€ä¸ªç±»ä¸­åº”è¯¥æ˜¯ä¸€ç»„ç›¸å…³æ€§å¾ˆé«˜çš„å‡½æ•°ï¼Œæ•°æ®çš„å°è£…ã€‚ä¸¤ä¸ªå®Œå…¨ä¸ä¸€æ ·çš„åŠŸèƒ½å°±ä¸åº”è¯¥æ”¾åœ¨ä¸€ä¸ªç±»ä¸­ã€‚ å¼€é—­åŽŸåˆ™ï¼šå¯¹ä¿®æ”¹å°é—­ï¼Œå¯¹æ‰©å±•æ”¾å¼€ã€‚ é‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼šæŠ½è±¡å’Œç»§æ‰¿ï¼›æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜Žçš„ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ã€‚ ä¾èµ–å€’ç½®åŽŸåˆ™ï¼šæŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚ æŽ¥å£éš”ç¦»åŽŸåˆ™ï¼šå°†å¤§æŽ¥å£æ”¹æˆå¤šä¸ªå°æŽ¥å£ã€‚ è¿ªç±³ç‰¹åŽŸåˆ™ï¼šä¹Ÿç§°ä¸ºæœ€å°‘çŸ¥è¯†åŽŸåˆ™ï¼Œä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å¦ä¸€ä¸ªå¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£ã€‚ åˆ†ç±»è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç±»åž‹ï¼šåˆ›å»ºåž‹æ¨¡å¼5ç§ï¼šå•ä¾‹æ¨¡å¼ï¼ŒæŠ½è±¡å·¥åŽ‚æ¨¡å¼ï¼Œå·¥åŽ‚æ¨¡å¼ï¼ŒåŽŸåž‹æ¨¡å¼ï¼Œå»ºé€ è€…æ¨¡å¼ã€‚ï¼ˆå£è¯€ï¼šå•åŽŸå»ºé€ è€…ï¼Œä¸œè¥¿äºŒåŽ‚ï¼‰ ç»“æž„åž‹æ¨¡å¼7ç§ï¼šé€‚é…å™¨æ¨¡å¼ï¼Œæ¡¥æŽ¥æ¨¡å¼ï¼Œè£…é¥°æ¨¡å¼ï¼Œç»„åˆæ¨¡å¼ï¼Œå¤–è§‚æ¨¡å¼ï¼Œäº«å…ƒæ¨¡å¼ï¼Œä»£ç†æ¨¡å¼ã€‚ï¼ˆå£è¯€ï¼šä¸€å™¨ä¸€æ¡¥ä¸€å…ƒä¸€ä»£ç†ï¼›è£…é¥°ç»„åˆå¤–è§‚ï¼‰ è¡Œä¸ºåž‹æ¨¡å¼11ç§ï¼šè§‚å¯Ÿè€…æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼ï¼Œè®¿é—®è€…æ¨¡å¼ï¼Œè§£é‡Šå™¨æ¨¡å¼ï¼Œè¿­ä»£å™¨æ¨¡å¼ï¼Œå¤‡å¿˜å½•æ¨¡å¼ï¼Œè´£ä»»é“¾æ¨¡å¼ï¼ŒçŠ¶æ€æ¨¡å¼ï¼Œç­–ç•¥æ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼ï¼Œæ¨¡æ¿æ¨¡å¼ã€‚ï¼ˆå£è¯€ï¼šä¸‰è€…ä¸¤å™¨ã€ä¸€å½•ä¸€é“¾ä¸€æ¨¡æ¿ï¼ŒçŠ¶æ€ç­–ç•¥å‘½ä»¤ï¼‰ åŠŸèƒ½æ¨¡å—è®¾è®¡åŽŸåˆ™ å•ä¸€èŒè´£åŽŸåˆ™ï¼ˆSingle Responsibility Principle - SRPï¼‰åŽŸæ–‡ï¼šThere should never be more than one reason for a class to change. è¯‘æ–‡ï¼šæ°¸è¿œä¸åº”è¯¥æœ‰å¤šäºŽä¸€ä¸ªåŽŸå› æ¥æ”¹å˜æŸä¸ªç±»ã€‚ ç†è§£ï¼šå¯¹äºŽä¸€ä¸ªç±»è€Œè¨€ï¼Œåº”è¯¥ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› ã€‚è¯´ç™½äº†å°±æ˜¯ï¼Œä¸åŒçš„ç±»å…·å¤‡ä¸åŒçš„èŒè´£ï¼Œå„æ–½å…¶è´£ã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªå›¢é˜Ÿï¼Œå¤§å®¶åˆ†å·¥åä½œï¼Œäº’ä¸å½±å“ï¼Œå„åšå„çš„äº‹æƒ…ã€‚ åº”ç”¨ï¼šå½“æˆ‘ä»¬åšç³»ç»Ÿè®¾è®¡æ—¶ï¼Œå¦‚æžœå‘çŽ°æœ‰ä¸€ä¸ªç±»æ‹¥æœ‰äº†ä¸¤ç§çš„èŒè´£ï¼Œé‚£å°±é—®è‡ªå·±ä¸€ä¸ªé—®é¢˜ï¼šå¯ä»¥å°†è¿™ä¸ªç±»åˆ†æˆä¸¤ä¸ªç±»å—ï¼Ÿå¦‚æžœçœŸçš„æœ‰å¿…è¦ï¼Œé‚£å°±åˆ†å§ã€‚åƒä¸‡ä¸è¦è®©ä¸€ä¸ªç±»å¹²çš„äº‹æƒ…å¤ªå¤šï¼ å¼€æ”¾å°é—­åŽŸåˆ™ï¼ˆOpen Closed Principle - OCPï¼‰åŽŸæ–‡ï¼šSoftware entities like classes, modules and functions should be open for extension but closed for modifications. è¯‘æ–‡ï¼šè½¯ä»¶å®žä½“ï¼Œå¦‚ï¼šç±»ã€æ¨¡å—ä¸Žå‡½æ•°ï¼Œå¯¹äºŽæ‰©å±•åº”è¯¥æ˜¯å¼€æ”¾çš„ï¼Œä½†å¯¹äºŽä¿®æ”¹åº”è¯¥æ˜¯å°é—­çš„ã€‚ ç†è§£ï¼šç®€è¨€ä¹‹ï¼Œå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚æ¢å¥è¯è¯´ï¼Œå¯ä»¥åŽ»æ‰©å±•ç±»ï¼Œä½†ä¸è¦åŽ»ä¿®æ”¹ç±»ã€‚ åº”ç”¨ï¼šå½“éœ€æ±‚æœ‰æ”¹åŠ¨ï¼Œè¦ä¿®æ”¹ä»£ç äº†ï¼Œæ­¤æ—¶æ‚¨è¦åšçš„æ˜¯ï¼Œå°½é‡ç”¨ç»§æ‰¿æˆ–ç»„åˆçš„æ–¹å¼æ¥æ‰©å±•ç±»çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä¿®æ”¹ç±»çš„ä»£ç ã€‚å½“ç„¶ï¼Œå¦‚æžœèƒ½å¤Ÿç¡®ä¿å¯¹æ•´ä½“æž¶æž„ä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ï¼Œé‚£ä¹ˆä¹Ÿæ²¡å¿…è¦æžå¾—é‚£ä¹ˆå¤æ‚äº†ï¼Œç›´æŽ¥æ”¹è¿™ä¸ªç±»å§ã€‚ é‡Œæ°æ›¿æ¢åŽŸåˆ™ï¼ˆLiskov Substitution Principle - LSPï¼‰åŽŸæ–‡ï¼šFunctions that use pointers or references to base classes must be able to use objects of derived classes without knowing it. è¯‘æ–‡ï¼šä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨çš„å‡½æ•°ï¼Œå¿…é¡»æ˜¯åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿä½¿ç”¨æ´¾ç”Ÿç±»çš„å¯¹è±¡ã€‚ ç†è§£ï¼šçˆ¶ç±»èƒ½å¤Ÿæ›¿æ¢å­ç±»ï¼Œä½†å­ç±»ä¸ä¸€å®šèƒ½æ›¿æ¢çˆ¶ç±»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä»£ç ä¸­å¯ä»¥å°†çˆ¶ç±»å…¨éƒ¨æ›¿æ¢ä¸ºå­ç±»ï¼Œç¨‹åºä¸ä¼šæŠ¥é”™ï¼Œä¹Ÿä¸ä¼šåœ¨è¿è¡Œæ—¶å‡ºçŽ°ä»»ä½•å¼‚å¸¸ï¼Œä½†åè¿‡æ¥å´ä¸ä¸€å®šæˆç«‹ã€‚ åº”ç”¨ï¼šåœ¨ç»§æ‰¿ç±»æ—¶ï¼ŒåŠ¡å¿…é‡å†™ï¼ˆOverrideï¼‰çˆ¶ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•ï¼Œå°¤å…¶éœ€è¦æ³¨æ„çˆ¶ç±»çš„ protected æ–¹æ³•ï¼ˆå®ƒä»¬å¾€å¾€æ˜¯è®©æ‚¨é‡å†™çš„ï¼‰ï¼Œå­ç±»å°½é‡ä¸è¦æš´éœ²è‡ªå·±çš„ public æ–¹æ³•ä¾›å¤–ç•Œè°ƒç”¨ã€‚ æœ€å°‘çŸ¥è¯†åŽŸåˆ™ï¼ˆLeast Knowledge Principle - LKPï¼‰åŽŸæ–‡ï¼šOnly talk to you immediate friends. è¯‘æ–‡ï¼šåªä¸Žä½ æœ€ç›´æŽ¥çš„æœ‹å‹äº¤æµã€‚ ç†è§£ï¼šå°½é‡å‡å°‘å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä»Žè€Œå‡å°ç±»ä¹‹é—´çš„è€¦åˆã€‚ç®€è¨€ä¹‹ï¼Œä¸€å®šè¦åšåˆ°ï¼šä½Žè€¦åˆï¼Œé«˜å†…èšã€‚ åº”ç”¨ï¼šåœ¨åšç³»ç»Ÿè®¾è®¡æ—¶ï¼Œä¸è¦è®©ä¸€ä¸ªç±»ä¾èµ–äºŽå¤ªå¤šçš„å…¶ä»–ç±»ï¼Œéœ€å°½é‡å‡å°ä¾èµ–å…³ç³»ï¼Œå¦åˆ™ï¼Œæ‚¨æ­»éƒ½ä¸çŸ¥é“è‡ªå·±æ€Žä¹ˆæ­»çš„ã€‚ æŽ¥å£éš”ç¦»åŽŸåˆ™ï¼ˆInterface Segregation Principle - ISPï¼‰åŽŸæ–‡ï¼šThe dependency of one class to another one should depend on the smallest possible interface. è¯‘æ–‡ï¼šä¸€ä¸ªç±»ä¸Žå¦ä¸€ä¸ªç±»ä¹‹é—´çš„ä¾èµ–æ€§ï¼Œåº”è¯¥ä¾èµ–äºŽå°½å¯èƒ½å°çš„æŽ¥å£ã€‚ã€ç†è§£ï¼šä¸è¦å¯¹å¤–æš´éœ²æ²¡æœ‰å®žé™…æ„ä¹‰çš„æŽ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŽ¥å£æ˜¯ç»™åˆ«äººè°ƒç”¨çš„ï¼Œé‚£å°±ä¸è¦åŽ»ä¸ºéš¾åˆ«äººäº†ï¼Œå°½å¯èƒ½ä¿è¯æŽ¥å£çš„å®žç”¨æ€§å§ã€‚å¥¹å¥½ï¼Œæˆ‘ä¹Ÿå¥½ã€‚ åº”ç”¨ï¼šå½“éœ€è¦å¯¹å¤–æš´éœ²æŽ¥å£æ—¶ï¼Œéœ€è¦å†ä¸‰æ–Ÿé…Œï¼Œå¦‚æžœçœŸçš„æ²¡æœ‰å¿…è¦å¯¹å¤–æä¾›çš„ï¼Œå°±åˆ äº†å§ã€‚ä¸€æ—¦æ‚¨æä¾›äº†ï¼Œå°±æ„å‘³ç€ï¼Œæ‚¨å°†æ¥è¦å¤šåšä¸€ä»¶äº‹æƒ…ï¼Œä½•è‹¦è¦ç»™è‡ªå·±æ‰¾äº‹åšå‘¢ã€‚ ä¾èµ–å€’ç½®åŽŸåˆ™ï¼ˆDependence Inversion Principle - DIPï¼‰åŽŸæ–‡ï¼šHigh level modules should not depends upon low level modules. Both should depend upon abstractions. Abstractions should not depend upon details. Details should depend upon abstractions. è¯‘æ–‡ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºŽä½Žå±‚æ¨¡å—ï¼Œå®ƒä»¬åº”è¯¥ä¾èµ–äºŽæŠ½è±¡ã€‚æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºŽç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºŽæŠ½è±¡ã€‚ ç†è§£ï¼šåº”è¯¥é¢å‘æŽ¥å£ç¼–ç¨‹ï¼Œä¸åº”è¯¥é¢å‘å®žçŽ°ç±»ç¼–ç¨‹ã€‚é¢å‘å®žçŽ°ç±»ç¼–ç¨‹ï¼Œç›¸å½“äºŽå°±æ˜¯è®ºäº‹ï¼Œé‚£æ˜¯æ­£å‘ä¾èµ–ï¼ˆæ­£å¸¸äººæ€ç»´ï¼‰ï¼›é¢å‘æŽ¥å£ç¼–ç¨‹ï¼Œç›¸å½“äºŽé€šè¿‡äº‹ç‰©è¡¨è±¡æ¥çœ‹æœ¬è´¨ï¼Œé‚£æ˜¯åå‘ä¾èµ–ï¼Œå³ä¾èµ–å€’ç½®ï¼ˆç¨‹åºå‘˜æ€ç»´ï¼‰ã€‚ åº”ç”¨ï¼šå¹¶ä¸æ˜¯è¯´ï¼Œæ‰€æœ‰çš„ç±»éƒ½è¦æœ‰ä¸€ä¸ªå¯¹åº”çš„æŽ¥å£ï¼Œè€Œæ˜¯è¯´ï¼Œå¦‚æžœæœ‰æŽ¥å£ï¼Œé‚£å°±å°½é‡ä½¿ç”¨æŽ¥å£æ¥ç¼–ç¨‹å§ã€‚ ------&gt;------&gt;------&gt;------&gt;------&gt;------&gt;------&gt; å°†ä»¥ä¸Šå…­å¤§åŽŸåˆ™çš„è‹±æ–‡é¦–å­—æ¯æ‹¼åœ¨ä¸€èµ·å°±æ˜¯ SOLIDï¼ˆç¨³å®šçš„ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¹‹ä¸º SOLID åŽŸåˆ™ã€‚åªæœ‰æ»¡è¶³äº†è¿™å…­å¤§åŽŸåˆ™ï¼Œæ‰èƒ½è®¾è®¡å‡ºç¨³å®šçš„è½¯ä»¶æž¶æž„ï¼ä½†å®ƒä»¬æ¯•ç«Ÿåªæ˜¯åŽŸåˆ™ï¼Œåªæ˜¯å››äººå¸®ç»™æˆ‘ä»¬çš„å»ºè®®ï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬è¿˜æ˜¯è¦å­¦ä¼šçµæ´»åº”å˜ï¼Œåƒä¸‡ä¸è¦ç”Ÿæ¬ç¡¬å¥—ï¼Œå¦åˆ™åªä¼šæŠŠç®€å•é—®é¢˜å¤æ‚åŒ– è¡¥å……è®¾è®¡åŽŸåˆ™ ç»„åˆ/èšåˆå¤ç”¨åŽŸåˆ™ï¼ˆComposition/Aggregation Reuse Principle - CARPï¼‰å½“è¦æ‰©å±•ç±»çš„åŠŸèƒ½æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ç»„åˆï¼Œè€Œä¸æ˜¯ç»§æ‰¿ã€‚è¿™æ¡åŽŸåˆ™åœ¨ 23 ç§ç»å…¸è®¾è®¡æ¨¡å¼ä¸­é¢‘ç¹ä½¿ç”¨ï¼Œå¦‚ï¼šä»£ç†æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ç­‰ã€‚å¯è§æ±Ÿæ¹–åœ°ä½éžå¸¸ä¹‹é«˜ï¼ æ— çŽ¯ä¾èµ–åŽŸåˆ™ï¼ˆAcyclic Dependencies Principle - ADPï¼‰å½“ A æ¨¡å—ä¾èµ–äºŽ B æ¨¡å—ï¼ŒB æ¨¡å—ä¾èµ–äºŽ C æ¨¡å—ï¼ŒC ä¾èµ–äºŽ A æ¨¡å—ï¼Œæ­¤æ—¶å°†å‡ºçŽ°å¾ªçŽ¯ä¾èµ–ã€‚åœ¨è®¾è®¡ä¸­åº”è¯¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¯é€šè¿‡å¼•å…¥â€œä¸­ä»‹è€…æ¨¡å¼â€è§£å†³è¯¥é—®é¢˜ã€‚ å…±åŒå°è£…åŽŸåˆ™ï¼ˆCommon Closure Principle - CCPï¼‰åº”è¯¥å°†æ˜“å˜çš„ç±»æ”¾åœ¨åŒä¸€ä¸ªåŒ…é‡Œï¼Œå°†å˜åŒ–éš”ç¦»å‡ºæ¥ã€‚è¯¥åŽŸåˆ™æ˜¯â€œå¼€æ”¾-å°é—­åŽŸåˆ™â€çš„å»¶ç”Ÿã€‚ å…±åŒé‡ç”¨åŽŸåˆ™ï¼ˆCommon Reuse Principle - CRPï¼‰å¦‚æžœé‡ç”¨äº†åŒ…ä¸­çš„ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆä¹Ÿå°±ç›¸å½“äºŽé‡ç”¨äº†åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œæˆ‘ä»¬è¦å°½å¯èƒ½å‡å°åŒ…çš„å¤§å°ã€‚ å¥½èŽ±åžåŽŸåˆ™ï¼ˆHollywood Principle - HPï¼‰å¥½èŽ±åžæ˜Žæ˜Ÿçš„ç»çºªäººä¸€èˆ¬éƒ½å¾ˆå¿™ï¼Œä»–ä»¬ä¸æƒ³è¢«æ‰“æ‰°ï¼Œå¾€å¾€ä¼šè¯´ï¼šDon&apos;t call me, I&apos;ll call you. ç¿»è¯‘ä¸ºï¼šä¸è¦è”ç³»æˆ‘ï¼Œæˆ‘ä¼šè”ç³»ä½ ã€‚å¯¹åº”äºŽè½¯ä»¶è®¾è®¡è€Œè¨€ï¼Œæœ€è‘—åçš„å°±æ˜¯â€œæŽ§åˆ¶åè½¬â€ï¼ˆæˆ–ç§°ä¸ºâ€œä¾èµ–æ³¨å…¥â€ï¼‰ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨ä»£ç ä¸­ä¸»åŠ¨çš„åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯ç”±å®¹å™¨å¸®æˆ‘ä»¬æ¥åˆ›å»ºå¹¶ç®¡ç†è¿™äº›å¯¹è±¡ã€‚ å…¶å®ƒè®¾è®¡åŽŸåˆ™ ä¸è¦é‡å¤ä½ è‡ªå·±ï¼ˆDonâ€™t repeat yourself - DRYï¼‰ä¸è¦è®©é‡å¤çš„ä»£ç åˆ°å¤„éƒ½æ˜¯ï¼Œè¦è®©å®ƒä»¬è¶³å¤Ÿçš„é‡ç”¨ï¼Œæ‰€ä»¥è¦å°½å¯èƒ½åœ°å°è£…ã€‚ ä¿æŒå®ƒç®€å•ä¸Žå‚»ç“œï¼ˆKeep it simple and stupid - KISSï¼‰ä¸è¦è®©ç³»ç»Ÿå˜å¾—å¤æ‚ï¼Œç•Œé¢ç®€æ´ï¼ŒåŠŸèƒ½å®žç”¨ï¼Œæ“ä½œæ–¹ä¾¿ï¼Œè¦è®©å®ƒè¶³å¤Ÿçš„ç®€å•ï¼Œè¶³å¤Ÿçš„å‚»ç“œã€‚ é«˜å†…èšä¸Žä½Žè€¦åˆï¼ˆHigh Cohesion and Low Coupling - HCLCï¼‰æ¨¡å—å†…éƒ¨éœ€è¦åšåˆ°å†…èšåº¦é«˜ï¼Œæ¨¡å—ä¹‹é—´éœ€è¦åšåˆ°è€¦åˆåº¦ä½Žã€‚ æƒ¯ä¾‹ä¼˜äºŽé…ç½®ï¼ˆConvention over Configuration - COCï¼‰å°½é‡è®©æƒ¯ä¾‹æ¥å‡å°‘é…ç½®ï¼Œè¿™æ ·æ‰èƒ½æé«˜å¼€å‘æ•ˆçŽ‡ï¼Œå°½é‡åšåˆ°â€œé›¶é…ç½®â€ã€‚å¾ˆå¤šå¼€å‘æ¡†æž¶éƒ½æ˜¯è¿™æ ·åšçš„ã€‚ å‘½ä»¤æŸ¥è¯¢åˆ†ç¦»ï¼ˆCommand Query Separation - CQSï¼‰åœ¨å®šä¹‰æŽ¥å£æ—¶ï¼Œè¦åšåˆ°å“ªäº›æ˜¯å‘½ä»¤ï¼Œå“ªäº›æ˜¯æŸ¥è¯¢ï¼Œè¦å°†å®ƒä»¬åˆ†ç¦»ï¼Œè€Œä¸è¦æ‰åˆ°ä¸€èµ·ã€‚ å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of Concerns - SOCï¼‰å°†ä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†ç¦»ä¸ºå¤šä¸ªç®€å•çš„é—®é¢˜ï¼Œç„¶åŽé€ä¸ªè§£å†³è¿™äº›ç®€å•çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤æ‚çš„é—®é¢˜å°±è§£å†³äº†ã€‚éš¾å°±éš¾åœ¨å¦‚ä½•è¿›è¡Œåˆ†ç¦»ã€‚ å¥‘çº¦å¼è®¾è®¡ï¼ˆDesign by Contract - DBCï¼‰æ¨¡å—æˆ–ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ï¼Œéƒ½æ˜¯åŸºäºŽå¥‘çº¦ï¼ˆæŽ¥å£æˆ–æŠ½è±¡ï¼‰çš„ï¼Œè€Œä¸è¦ä¾èµ–äºŽå…·ä½“å®žçŽ°ã€‚è¯¥åŽŸåˆ™å»ºè®®æˆ‘ä»¬è¦é¢å‘å¥‘çº¦ç¼–ç¨‹ã€‚ ä½ ä¸éœ€è¦å®ƒï¼ˆYou arenâ€™t gonna need it - YAGNIï¼‰ä¸è¦ä¸€å¼€å§‹å°±æŠŠç³»ç»Ÿè®¾è®¡å¾—éžå¸¸å¤æ‚ï¼Œä¸è¦é™·å…¥â€œè¿‡åº¦è®¾è®¡â€çš„æ·±æ¸Šã€‚åº”è¯¥è®©ç³»ç»Ÿè¶³å¤Ÿçš„ç®€å•ï¼Œè€Œå´åˆä¸å¤±æ‰©å±•æ€§ï¼Œè¿™æ˜¯å…¶ä¸­çš„éš¾ç‚¹ã€‚]]></content>
      <categories>
        <category>é€šç”¨</category>
      </categories>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javaåå°„]]></title>
    <url>%2F2018%2F05%2F21%2Fjava%E5%8F%8D%E5%B0%84%2F</url>
    <content type="text"><![CDATA[javaåå°„å®žçŽ°æ–¹å¼ å®žä¾‹åŒ–è¦åå°„çš„Classå¯¹è±¡Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³•ï¼›å¯¹è±¡.getClass() //é€šè¿‡å¯¹è±¡.getClassæ–¹æ³•ï¼›int.class //åŸºæœ¬æ•°æ®ç±»åž‹åŠåŸºæœ¬æ•°æ®ç±»åž‹çš„å°è£…äº†ï¼Œä¾‹å¦‚Integerï¼› èŽ·å–çˆ¶ç±»Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³•Class&lt;?&gt; superclass = clazz.getSuperclass(); èŽ·å–å®žçŽ°æŽ¥å£Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³•Class&lt;?&gt;[] interfaces = clazz.getInterfaces() èŽ·å–æŒ‡å®šå‚æ•°æž„é€ å‡½æ•°åŠå®žä¾‹åŒ–Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³•Constructor&lt;?&gt; constructor = clazz.getConstructor(Class&lt;?&gt; ... class);//èŽ·å–å…¬å…±çš„ Constructor&lt;?&gt; constructor = clazz.getDeclaredConstructor()//èŽ·å–ç§æœ‰çš„ constructor.newInstance(Object args); èŽ·å–æ‰€æœ‰æž„é€ å‡½æ•°åŠæž„é€ å‚æ•°çš„ç±»åž‹Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Constructor&lt;?&gt;[] constructors = clazz.getConstructors();//å…¬å…±çš„ Constructor&lt;?&gt;[] constructors = clazz.getDeclaredConstructors()//åŒ…æ‹¬ç§æœ‰çš„ for (int i = 0; i &lt; constructors.length; i++) { Class&lt;?&gt; clazzs[] = constructors[i].getParameterTypes();//èŽ·å–ç±»åž‹ System.out.print(&quot;constructors[&quot; + i + &quot;] (&quot;); for (int j = 0; j &lt; clazzs.length; j++) { if (j == clazzs.length - 1) System.out.print(clazzs[j].getName()); else System.out.print(clazzs[j].getName() + &quot;,&quot;); } System.out.println(&quot;)&quot;); } é€šè¿‡æ— å‚å®žä¾‹åŒ–å¯¹è±¡Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• class.newInstance(); èŽ·å–å­—æ®µï¼Œä¿®æ”¹å­—æ®µClass&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Field field = clazz.getField(String name);//èŽ·å–å…¬å…±å­—æ®µ Field field = clazz.getDeclaredField(String name);//èŽ·å–ç§æœ‰å…¬å…±å­—æ®µ Field[] field = clazz.getFields();//èŽ·å–æ‰€æœ‰å…¬å…±å­—æ®µ Field[] field = clazz.getDeclaredFields();//èŽ·å–åŒ…æ‹¬ç§æœ‰æ‰€æœ‰å­—æ®µ Field field = clazz.getDeclaredField(&quot;heihei&quot;); field.setAccessible(true);//è®¾ç½®javaå–æ¶ˆè®¿é—®æ£€æŸ¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœæ˜¯ç§æœ‰çš„ä¹Ÿå¯ä»¥è®¿é—®, field.set(obj, &quot;Javaåå°„æœºåˆ¶&quot;); èŽ·å–æ–¹æ³•,è¿è¡Œæ–¹æ³•Class&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• clazz.getMethod(String name ,Class&lt;?&gt; ... parame);//èŽ·å–å…¬å…±æŒ‡å®šæ–¹æ³• clazz.getDeclaredMethod(String name ,Class&lt;?&gt; ... parame)//èŽ·å–ç§æœ‰æŒ‡å®šæ–¹æ³• clazz.getMethods()//èŽ·å–å…¬å…±æ‰€æœ‰æ–¹æ³• clazz.getDeclaredMethods();//èŽ·å–åŒ…æ‹¬ç§æœ‰å…¨éƒ¨æ–¹æ³• Method method = clazz.getMethod(&quot;add&quot;); method.invoke(clazz.newInstance()); method = clazz.getMethod(&quot;getInfo&quot;, int.class, String.class); method.setAccessible(true)//è®¾ç½®javaå–æ¶ˆè®¿é—®æ£€æŸ¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœæ˜¯ç§æœ‰çš„ä¹Ÿå¯ä»¥è®¿é—®, method.invoke(clazz.newInstance(), 20, &quot;å¼ ä¸‰&quot;); èŽ·å–æ•°ç»„æˆ–è€…listä¸­çš„ç±»åž‹,å¦‚æžœä¸æ˜¯æ•°ç»„æˆ–é›†åˆè¿”å›žnullClass&lt;?&gt; clazz = Class.forName(ç±»åå…¨è·¯å¾„); //é€šè¿‡Classçš„é™æ€æ–¹æ³• Class&lt;?&gt; componentType = clazz.getComponentType();]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>åå°„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦žå¦žç…§ç‰‡]]></title>
    <url>%2F2018%2F05%2F21%2F%E5%A6%9E%E5%A6%9E%E7%85%A7%E7%89%87%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>ç…§ç‰‡</category>
      </categories>
      <tags>
        <tag>å¦žå¦ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„å¦žå¦ž]]></title>
    <url>%2F2018%2F05%2F21%2F%E6%88%91%E7%9A%84%E5%A6%9E%E5%A6%9E%2F</url>
    <content type="text"><![CDATA[æˆ‘çš„å¦žå¦žé•¿çš„å¥½çœ‹ï¼ï¼ï¼ç¾Žï¼ï¼ï¼]]></content>
      <tags>
        <tag>å¦žå¦ž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[èœå›­å­åšå®¢å¼€å§‹çš„åœ°æ–¹]]></title>
    <url>%2F2018%2F05%2F21%2Fpost%2F</url>
    <content type="text"><![CDATA[æ‰“ä»Šå¤©å¼€å§‹æ‰“ç†è‡ªå·±èœå›­å­ï¼Œèœå›­å­æœ‰ä¸‰å—åœ°ï¼Œç¬”è®°ã€ç”Ÿæ´»ç…§ç‰‡ã€è®°äº‹æœ¬æ²¡å•¥è¯´çš„ï¼Œå¸Œæœ›èƒ½å¤ŸåšæŒä¸‹åŽ»ï¼Œæ—©ç‚¹ç»™è‡ªå·±å®šä¸ªç›®æ ‡å§ã€‚]]></content>
      <tags>
        <tag>ç»™è‡ªå·±</tag>
      </tags>
  </entry>
</search>
